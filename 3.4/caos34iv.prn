SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   1
CAOS34IVZ80

    1                   ; Zusammensetzen der Einzeldateien zu CAOS 3.4i
    2                   ; (C) Mario Leubner, 10.05.2019 - 19.08.2023
    3                   ;-------------------------------------------------
    4                   ; CAOS-Vorblock:
    5         DF80      	ORG	0E000H-128
    6 DF80  43 41 4F 53 	DB	'CAOS34iVKCC'
    7 DF8B  00 00 00 00 	DS	5,0
    8 DF90  02          	DB	2		; 2 Adressen
    9 DF91  4000        	DW	4000H		; AADR
   10 DF93  6000        	DW	6000H		; EADR+1
   11 DF95  00 00 00 00 	DS	107,0
   12                   ;-------------------------------------------------
   13         0001      V24	EQU	1		; 0 erzeugt Centronics-Version (M001)
   14                   				; 1 erzeugt V.24-Version (M003)
   15                   include	caosei.asm		; ROM-E
    1                   ;	CAOS 3.4 - ROM E
    2                   ;	Version CENTRONICS & V.24
    3                   ;
    4                   ;	Date: 11.06.1991  (c) by '#+$'
    5                   ;	Intern-ROM-Version!
    6                   ;BUGFIX: CSRLIN eingebaut!
    7                    
    8         E000      	ORG 0E000H
    9                    
   10 E000              RESET:
   11 E000  C3 F18C     	JP BYE
   12 E003  C3 E65C     	JP BEXP1
   13 E006  C3 E679     	JP BEXP2
   14 E009  C3 E6E9     	JP BEXP3
   15 E00C  ED18        	DEFW TOKTAB
   16 E00E  C3 E5FE     	JP BASPV
   17                    
   18 E011  01 0A1F     BEL:	LD BC,0A1FH
   19 E014  2E 70       	LD L,70H
   20 E016  CD E315     	CALL RTON
   21 E019  3E 2E       	LD A,2EH	;Ton+Pause
   22 E01B  C3 F24D     	JP	WAIT
   23                   
   24                   ;*** Steuerung ***
   25                    
   26 E01E  7F7F        	DEFW 7F7FH	;>BASIC<
   27 E020  42 41 53 49 	DEFM 'BASIC'
   28 E025  00          	DEFB 0
   29                   	;
   30 E026  21 C000     	LD HL,0C000H
   31 E029  18 0D       	JR BASON
   32                    
   33 E02B  7F7F        	DEFW 7F7FH	;>REBASIC<
   34 E02D  52 45 42 41 	DEFM 'REBASIC'
   35 E034  00          	DEFB 0
   36                   	;
   37 E035  21 C002     	LD HL,0C002H
   38 E038  DB 88       BASON:	IN A,(88H)
   39 E03A  CB FF       	SET 7,A
   40 E03C  D3 88       	OUT (88H),A
   41 E03E  DB 89       	in	a,(89h)
   42 E040  F6 60       	or	60h
   43 E042  D3 89       	OUT	(89H),A		;Segment 3!
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   2
CAOSEI  ASM

   44 E044  E9          	JP (HL)
   45                    
   46                   ;*** CRT-Unit ***
   47                    
   48 E045  2A B79C     PADR1:	LD HL,(0B79CH)
   49 E048  19          	ADD HL,DE
   50 E049  CB 24       	SLA H
   51 E04B  CB 24       	SLA H
   52 E04D  CB 24       	SLA H
   53 E04F  F5          PADR:	PUSH AF		;UP 34 PADR
   54 E050  7D          	LD A,L
   55 E051  FE 20       	CP 20H
   56 E053  30 23       	JR NC,IAD1
   57 E055  87          	ADD A
   58 E056  87          	ADD A
   59 E057  87          	ADD A
   60 E058  6C          	LD L,H
   61 E059  CB 3C       	SRL H
   62 E05B  CB 3C       	SRL H
   63 E05D  37          	SCF
   64 E05E  CB 1C       	RR H
   65 E060  1F          	RRA
   66 E061  CB 3C       	SRL H
   67 E063  1F          	RRA
   68 E064  54          	LD D,H
   69 E065  37          	SCF
   70 E066  CB 1A       	RR D
   71 E068  CB DA       	SET 3,D
   72 E06A  5F          	LD E,A
   73 E06B  CB 1B       	RR E
   74 E06D  CB 1D       	RR L
   75 E06F  1F          	RRA
   76 E070  CB 1D       	RR L
   77 E072  6F          	LD L,A
   78 E073  CB 14       	RL H
   79 E075  F1          	POP AF
   80 E076  A7          	AND A
   81 E077  C9          	RET
   82                    
   83 E078  FE 28       IAD1:	CP 28H
   84 E07A  30 32       	JR NC,IAD2
   85 E07C  C5          	PUSH BC
   86 E07D  E6 07       	AND 7
   87 E07F  87          	ADD A
   88 E080  6F          	LD L,A
   89 E081  7C          	LD A,H
   90 E082  07          	RLCA
   91 E083  47          	LD B,A
   92 E084  E6 01       	AND 1
   93 E086  F6 B0       	OR 0B0H
   94 E088  57          	LD D,A
   95 E089  78          	LD A,B
   96 E08A  07          	RLCA
   97 E08B  4F          	LD C,A
   98 E08C  E6 03       	AND 3
   99 E08E  F6 50       	OR 50H
  100 E090  44          	LD B,H
  101 E091  67          	LD H,A
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   3
CAOSEI  ASM

  102 E092  78          	LD A,B
  103 E093  E6 30       	AND 30H
  104 E095  B5          	OR L
  105 E096  6F          	LD L,A
  106 E097  79          	LD A,C
  107 E098  07          	RLCA
  108 E099  07          	RLCA
  109 E09A  E6 C0       	AND 0C0H
  110 E09C  B5          	OR L
  111 E09D  6F          	LD L,A
  112 E09E  CB 18       	RR B
  113 E0A0  CB 1D       	RR L
  114 E0A2  CB 18       	RR B
  115 E0A4  CB 14       	RL H
  116 E0A6  CB 19       	RR C
  117 E0A8  1F          	RRA
  118 E0A9  5F          	LD E,A
  119 E0AA  C1          	POP BC
  120 E0AB  F1          DBRE:	POP AF
  121 E0AC  A7          	AND A
  122 E0AD  C9          	RET
  123                    
  124 E0AE  F1          IAD2:	POP AF
  125 E0AF  37          	SCF
  126 E0B0  C9          	RET
  127                    
  128 E0B1  3A B79E     TCIF:	LD A,(0B79EH)	;UP 33 TCIF
  129 E0B4  3D          	DEC A
  130 E0B5  93          	SUB E
  131 E0B6  D8          	RET C
  132 E0B7  3A B79F     	LD A,(0B79FH)
  133 E0BA  3D          	DEC A
  134 E0BB  92          	SUB D
  135 E0BC  C9          	RET
  136                    
  137 E0BD  F5          DABR:	PUSH AF		;UP 32 DABR
  138 E0BE  CD E0B1     	CALL TCIF
  139 E0C1  38 EB       	JR C,IAD2
  140 E0C3  3A B79C     	LD A,(0B79CH)
  141 E0C6  83          	ADD E
  142 E0C7  D5          	PUSH DE
  143 E0C8  5F          	LD E,A
  144 E0C9  3A B79D     	LD A,(0B79DH)
  145 E0CC  82          	ADD D
  146 E0CD  87          	ADD A
  147 E0CE  87          	ADD A
  148 E0CF  87          	ADD A
  149 E0D0  6F          	LD L,A
  150 E0D1  26 00       	LD H,0
  151 E0D3  29          	ADD HL,HL
  152 E0D4  29          	ADD HL,HL
  153 E0D5  16 59       	LD D,59H
  154 E0D7  19          	ADD HL,DE
  155 E0D8  5F          	LD E,A
  156 E0D9  19          	ADD HL,DE
  157 E0DA  D1          	POP DE
  158 E0DB  18 CE       	JR DBRE
  159                    
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   4
CAOSEI  ASM

  160 E0DD              WPIX:	;Zeichen sichtbar machen
  161 E0DD  D5          	PUSH DE
  162 E0DE  C5          	PUSH BC
  163 E0DF  CD E045     	CALL PADR1
  164 E0E2  38 31       	JR C,WPIX4
  165 E0E4  ED 4B B7A2  	LD BC,(0B7A2H)	; STBT
  166 E0E8  EB          	EX DE,HL
  167 E0E9  CB 49       	BIT 1,C		; Schreiben COLOR?
  168 E0EB  20 04       	JR NZ,WPIX1
  169 E0ED  70          	LD (HL),B
  170 E0EE  CB ED       	SET 5,L
  171 E0F0  70          	LD (HL),B
  172 E0F1  CB 41       WPIX1:	BIT 0,C		; Schreiben Pixel?
  173 E0F3  20 20       	JR NZ,WPIX4
  174 E0F5  21 B7A6     	LD HL,0B7A6H	; CCTL0
  175 E0F8  87          	ADD A
  176 E0F9  30 02       	JR NC,WPIX2
  177 E0FB  2E AA       	LD L,0AAH	; CCTL2
  178 E0FD  D6 40       WPIX2:	SUB 40H
  179 E0FF  F2 E106     	JP P,WPIX3
  180 E102  2C          	INC L
  181 E103  2C          	INC L
  182 E104  EE C0       	XOR 0C0H	; CCTL1/3
  183 E106  46          WPIX3:	LD B,(HL)
  184 E107  23          	INC HL
  185 E108  66          	LD H,(HL)
  186 E109  68          	LD L,B
  187 E10A  87          	ADD A
  188 E10B  CB 51       	BIT 2,C		; invers?
  189 E10D  4F          	LD C,A
  190 E10E  06 00       	LD B,0
  191 E110  09          	ADD HL,BC
  192 E111  09          	ADD HL,BC
  193 E112  CD E118     	CALL CPIX
  194 E115  C1          WPIX4:	POP BC
  195 E116  D1          	POP DE
  196 E117  C9          	RET
  197                    
  198                   ;8 Byte in Pixel-IRM schreiben
  199 E118  CD E11F     CPIX:	CALL CPIX1	; 4 Byte schreiben
  200 E11B  CB EB       	SET 5,E
  201 E11D  CB 82       	RES 0,D
  202 E11F  CD E124     CPIX1:	CALL CPIX2	; 2 Byte schreiben
  203 E122  CB C2       	SET 0,D
  204 E124  CB BB       CPIX2:	RES 7,E
  205 E126  7E          	LD A,(HL)	; Zeichencode
  206 E127  23          	INC HL		; naechstes Byte
  207 E128  28 01       	JR Z,CPIX3
  208 E12A  2F          	CPL		; Pixel invertieren
  209 E12B  12          CPIX3:	LD (DE),A	; IRM schreiben
  210 E12C  CB FB       	SET 7,E
  211 E12E  7E          	LD A,(HL)	; Zeichencode
  212 E12F  23          	INC HL		; naechstes Byte
  213 E130  28 01       	JR Z,CPIX4
  214 E132  2F          	CPL		; Pixel invertieren
  215 E133  12          CPIX4:	LD (DE),A	; IRM schreiben
  216 E134  C9          	RET
  217                    
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   5
CAOSEI  ASM

  218 E135              RSPALT:	;Berechne BC,DE:Fenstergrenzen
  219                   	;E=0:Nur 1teilig
  220 E135  87          	ADD A
  221 E136  87          	ADD A
  222 E137  87          	ADD A
  223 E138  67          	LD H,A
  224 E139  11 2000     	LD DE,2000H
  225 E13C  3A B79C     	LD A,(0B79CH)
  226 E13F  47          	LD B,A
  227 E140  BA          	CP D
  228 E141  3A B79E     	LD A,(0B79EH)
  229 E144  4F          	LD C,A
  230 E145  D0          	RET NC
  231 E146  80          	ADD B
  232 E147  BA          	CP D
  233 E148  D8          	RET C
  234 E149  92          	SUB D
  235 E14A  5F          	LD E,A
  236 E14B  7A          	LD A,D
  237 E14C  90          	SUB B
  238 E14D  4F          	LD C,A
  239 E14E  C9          	RET
  240                    
  241 E14F              MOVELN:	;Rolle 1 Zeile
  242 E14F  E5          	PUSH HL
  243 E150  D5          	PUSH DE
  244 E151  C5          	PUSH BC
  245 E152  4F          	LD C,A
  246 E153  E5          	PUSH HL
  247 E154  CD E04F     	CALL PADR
  248 E157  38 22       	JR C,PIX2
  249 E159  E3          	EX (SP),HL
  250 E15A  D5          	PUSH DE
  251 E15B  7C          	LD A,H
  252 E15C  C6 08       	ADD 8
  253 E15E  67          	LD H,A
  254 E15F  CD E04F     	CALL PADR
  255 E162  E3          	EX (SP),HL
  256 E163  EB          	EX DE,HL
  257 E164  06 00       	LD B,0
  258 E166  3A B7A2     	LD A,(0B7A2H)
  259 E169  1F          	RRA
  260 E16A  CB 47       	BIT 0,A
  261 E16C  79          	LD A,C
  262 E16D  CC E18B     	CALL Z,PIX4
  263 E170  E1          	POP HL
  264 E171  D1          	POP DE
  265 E172  D4 E184     	CALL NC,PIX31
  266 E175  24          	INC H
  267 E176  14          	INC D
  268 E177  D4 E180     	CALL NC,PIX3
  269 E17A  06          	DEFB 6		;LD B,n
  270 E17B  E1          PIX2:	POP HL
  271 E17C  C1          POPS3:	POP BC
  272 E17D  D1          	POP DE
  273 E17E  E1          	POP HL
  274 E17F  C9          	RET
  275                    
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   6
CAOSEI  ASM

  276 E180  CB BD       PIX3:	RES 7,L
  277 E182  CB BB       	RES 7,E
  278 E184  CD E18B     PIX31:	CALL PIX4
  279 E187  CB FD       	SET 7,L
  280 E189  CB FB       	SET 7,E
  281 E18B  CB AD       PIX4:	RES 5,L
  282 E18D  CB AB       	RES 5,E
  283 E18F  CD E196     	CALL PIX5
  284 E192  CB ED       	SET 5,L
  285 E194  CB EB       	SET 5,E
  286 E196  D5          PIX5:	PUSH DE
  287 E197  E5          	PUSH HL
  288 E198  4F          	LD C,A
  289 E199  ED B0       	LDIR
  290 E19B  E1          	POP HL
  291 E19C  D1          	POP DE
  292 E19D  C9          	RET
  293                    
  294 E19E  21 B7A2     PCHR:	LD HL,0B7A2H
  295 E1A1  CB 66       	BIT 4,(HL)
  296 E1A3  28 1F       	JR Z,PCHR0
  297 E1A5  CB A6       	RES 4,(HL)
  298 E1A7  FE 30       	CP '0'
  299 E1A9  D8          	RET C
  300 E1AA  FE 3A       	CP 3AH
  301 E1AC  38 0A       	JR C,ESCJ1
  302 E1AE  FE 41       	CP 'A'
  303 E1B0  D8          	RET C
  304 E1B1  CB AF       	RES 5,A
  305 E1B3  FE 5B       	CP 5BH
  306 E1B5  D0          	RET NC
  307 E1B6  D6 07       	SUB 7
  308 E1B8  D6 30       ESCJ1:	SUB 30H
  309 E1BA  21 B7DF     	LD HL,0B7DFH
  310 E1BD  BE          	CP (HL)
  311 E1BE  D0          	RET NC
  312 E1BF  2A B7DD     	LD HL,(0B7DDH)
  313 E1C2  18 0B       	JR PCHV
  314                    
  315 E1C4  FE 20       PCHR0:	CP 20H
  316 E1C6  30 1B       	JR NC,PCHR1
  317 E1C8  CB 5E       	BIT 3,(HL)
  318 E1CA  20 17       	JR NZ,PCHR1
  319 E1CC  2A B7B2     	LD HL,(0B7B2H)
  320 E1CF  87          PCHV:	ADD A
  321 E1D0  4F          	LD C,A
  322 E1D1  06 00       	LD B,0
  323 E1D3  09          	ADD HL,BC
  324 E1D4  7E          	LD A,(HL)
  325 E1D5  23          	INC HL
  326 E1D6  66          	LD H,(HL)
  327 E1D7  6F          	LD L,A
  328 E1D8  3E 01       	LD A,1
  329 E1DA  E9          	JP (HL)
  330                    
  331 E1DB  7B          ASC5:	LD A,E
  332 E1DC  E6 F8       	AND 0F8H
  333 E1DE  C6 08       	ADD 8
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   7
CAOSEI  ASM

  334 E1E0  5F          	LD E,A
  335 E1E1  18 09       	JR PCHR3
  336                    
  337 E1E3  CD E0BD     PCHR1:	CALL DABR
  338 E1E6  D8          	RET C
  339 E1E7  77          PCHR2:	LD (HL),A
  340 E1E8  CD E0DD     	CALL WPIX
  341 E1EB  1C          CUR:	INC E
  342 E1EC  3A B79E     PCHR3:	LD A,(0B79EH)
  343 E1EF  3D          	DEC A
  344 E1F0  BB          	CP E
  345 E1F1  D0          	RET NC
  346 E1F2  1E 00       CRNL:	LD E,0
  347 E1F4  14          CUD:	INC D
  348 E1F5  3A B79F     	LD A,(0B79FH)
  349 E1F8  BA          	CP D
  350 E1F9  C0          	RET NZ
  351 E1FA  2A B7A4     	LD HL,(0B7A4H)
  352 E1FD  E9          	JP (HL)
  353                    
  354 E1FE  2A B799     HCOPY:	LD HL,(0B799H)
  355 E201  E9          	JP (HL)
  356                    
  357 E202  7B          CUL:	LD A,E
  358 E203  A7          	AND A
  359 E204  28 02       	JR Z,LINUP
  360 E206  1D          	DEC E
  361 E207  C9          	RET
  362                    
  363 E208  7A          LINUP:	LD A,D
  364 E209  A7          	AND A
  365 E20A  C8          	RET Z
  366 E20B  15          	DEC D
  367 E20C  3A B79E     CEL:	LD A,(0B79EH)
  368 E20F  3D          	DEC A
  369 E210  5F          	LD E,A
  370 E211  C9          	RET
  371                    
  372 E212  7A          CUU:	LD A,D
  373 E213  A7          	AND A
  374 E214  C8          	RET Z
  375 E215  15          	DEC D
  376 E216  C9          	RET
  377                    
  378 E217  21 E2A7     PAGE:	LD HL,HOMEPG
  379 E21A  22 B7A4     WADR:	LD (0B7A4H),HL
  380 E21D  C9          	RET
  381                    
  382 E21E  21 E2AC     SCROL:	LD HL,SCRLPG
  383 E221  18 F7       	JR WADR
  384                    
  385 E223  CD E202     CLEAR:	CALL CUL
  386 E226  D5          DEL:	PUSH DE
  387 E227  CD E0BD     DEL1:	CALL DABR
  388 E22A  7E          	LD A,(HL)
  389 E22B  A7          	AND A
  390 E22C  28 3A       	JR Z,INS3
  391 E22E  D5          	PUSH DE
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   8
CAOSEI  ASM

  392 E22F  E5          	PUSH HL
  393 E230  1C          	INC E
  394 E231  CD E0BD     	CALL DABR
  395 E234  30 06       	JR NC,DEL2
  396 E236  1E 00       	LD E,0
  397 E238  14          	INC D
  398 E239  CD E0BD     	CALL DABR
  399 E23C  7E          DEL2:	LD A,(HL)
  400 E23D  E1          	POP HL
  401 E23E  D1          	POP DE
  402 E23F  38 1D       	JR C,DEL3
  403 E241  B7          	OR A
  404 E242  28 1A       	JR Z,DEL3
  405 E244  CD E1E7     	CALL PCHR2
  406 E247  18 DE       	JR DEL1
  407                    
  408 E249  D5          INS:	PUSH DE
  409 E24A  3E 20       	LD A,20H
  410 E24C  CD E0BD     INS1:	CALL DABR
  411 E24F  46          	LD B,(HL)
  412 E250  CD E1E7     	CALL PCHR2
  413 E253  78          	LD A,B
  414 E254  A7          	AND A
  415 E255  28 11       	JR Z,INS3
  416 E257  7B          	LD A,E
  417 E258  B2          	OR D
  418 E259  78          	LD A,B
  419 E25A  20 F0       	JR NZ,INS1
  420 E25C  D1          	POP DE
  421 E25D  C9          	RET
  422                    
  423 E25E  CD E0BD     DEL3:	CALL DABR
  424 E261  AF          	XOR A
  425 E262  77          	LD (HL),A
  426 E263  3E 20       	LD A,20H
  427 E265  CD E0DD     	CALL WPIX
  428 E268  D1          INS3:	POP DE
  429 E269  C9          	RET
  430                    
  431 E26A              CLLINE:	;Zeile(nst}ck) l|schen
  432 E26A  68          	LD L,B
  433 E26B  CD E04F     	CALL PADR
  434 E26E  D8          	RET C
  435 E26F  3A B7A2     	LD A,(0B7A2H)
  436 E272  1F          	RRA
  437 E273  CB 47       	BIT 0,A
  438 E275  3A B7A3     	LD A,(0B7A3H)
  439 E278  CC E28A     	CALL Z,CM2
  440 E27B  3E 00       	LD A,0
  441 E27D  D8          	RET C
  442 E27E  EB          	EX DE,HL
  443 E27F  CD E283     	CALL CM1
  444 E282  14          	INC D
  445 E283  CB BB       CM1:	RES 7,E
  446 E285  CD E28A     	CALL CM2
  447 E288  CB FB       	SET 7,E
  448 E28A  CB AB       CM2:	RES 5,E
  449 E28C  CD E291     	CALL CM3
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   9
CAOSEI  ASM

  450 E28F  CB EB       	SET 5,E
  451 E291  D5          CM3:	PUSH DE
  452 E292  41          	LD B,C
  453 E293  12          CM4:	LD (DE),A
  454 E294  1C          	INC E
  455 E295  10 FC       	DJNZ CM4
  456 E297  D1          	POP DE
  457 E298  C9          	RET
  458                    
  459 E299  3A B79F     CLS:	LD A,(0B79FH)
  460 E29C  16 00       	LD D,0
  461 E29E  F5          CLS1:	PUSH AF
  462 E29F  CD E2ED     	CALL DELLN
  463 E2A2  F1          	POP AF
  464 E2A3  14          	INC D
  465 E2A4  3D          	DEC A
  466 E2A5  20 F7       	JR NZ,CLS1
  467 E2A7  16 00       HOMEPG:	LD D,0
  468 E2A9  1E 00       CRN:	LD E,0
  469 E2AB  C9          	RET
  470                    
  471 E2AC              SCRLPG:	;Scrollroutine
  472 E2AC  3A B79E     	LD A,(0B79EH)
  473 E2AF  4F          	LD C,A
  474 E2B0  06 00       	LD B,0
  475 E2B2  3A B79F     	LD A,(0B79FH)
  476 E2B5  3D          	DEC A
  477 E2B6  28 34       	JR Z,SCRL4
  478 E2B8  D5          	PUSH DE
  479 E2B9  F5          	PUSH AF
  480 E2BA  11 0000     	LD DE,0
  481 E2BD  CD E0BD     	CALL DABR
  482 E2C0  38 28       	JR C,SCRL3
  483 E2C2  EB          	EX DE,HL
  484 E2C3  21 0028     SCRL1:	LD HL,28H
  485 E2C6  19          	ADD HL,DE
  486 E2C7  E5          	PUSH HL
  487 E2C8  C5          	PUSH BC
  488 E2C9  ED B0       	LDIR
  489 E2CB  C1          	POP BC
  490 E2CC  D1          	POP DE
  491 E2CD  3D          	DEC A
  492 E2CE  20 F3       	JR NZ,SCRL1
  493 E2D0  3A B79D     	LD A,(0B79DH)
  494 E2D3  CD E135     	CALL RSPALT
  495 E2D6  79          SCRL2:	LD A,C
  496 E2D7  68          	LD L,B
  497 E2D8  CD E14F     	CALL MOVELN
  498 E2DB  7B          	LD A,E
  499 E2DC  A7          	AND A
  500 E2DD  6A          	LD L,D
  501 E2DE  C4 E14F     	CALL NZ,MOVELN
  502 E2E1  7C          	LD A,H
  503 E2E2  C6 08       	ADD 8
  504 E2E4  67          	LD H,A
  505 E2E5  F1          	POP AF
  506 E2E6  3D          	DEC A
  507 E2E7  F5          	PUSH AF
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  10
CAOSEI  ASM

  508 E2E8  20 EC       	JR NZ,SCRL2
  509 E2EA  F1          SCRL3:	POP AF
  510 E2EB  D1          	POP DE
  511 E2EC  15          SCRL4:	DEC D
  512                   	;
  513 E2ED  1E 00       DELLN:	LD E,0
  514 E2EF  D5          	PUSH DE
  515 E2F0  CD E0BD     	CALL DABR
  516 E2F3  3A B79E     	LD A,(0B79EH)
  517 E2F6  47          	LD B,A
  518 E2F7  AF          	XOR A
  519 E2F8  77          DL1:	LD (HL),A
  520 E2F9  23          	INC HL
  521 E2FA  10 FC       	DJNZ DL1
  522 E2FC  3A B79D     	LD A,(0B79DH)
  523 E2FF  82          	ADD D
  524 E300  CD E135     	CALL RSPALT
  525 E303  D5          	PUSH DE
  526 E304  E5          	PUSH HL
  527 E305  CD E26A     	CALL CLLINE
  528 E308  E1          	POP HL
  529 E309  C1          	POP BC
  530 E30A  B9          	CP C
  531 E30B  C4 E26A     	CALL NZ,CLLINE
  532 E30E  D1          	POP DE
  533 E30F  C9          	RET
  534                    
  535 E310  01 020F     RCLICK:	LD BC,20FH
  536 E313  2E 50       	LD L,50H
  537 E315  D5          RTON:	PUSH DE		;Ton nur rechts
  538 E316  26 00       	LD H,0
  539 E318  5C          	LD E,H
  540 E319  CD E437     	CALL PHALT
  541 E31C  D3 8E       	OUT (8EH),A	;CTC off
  542 E31E  CD E5C7     	CALL TONP
  543 E321  D1          	POP DE
  544 E322  C9          	RET
  545                    
  546 E323  21 B7A3     ASC6:	LD HL,0B7A3H	;=ESC 8
  547 E326  7E          	LD A,(HL)		;Farbe compeln
  548 E327  E6 C0       	AND 0C0H
  549 E329  4F          	LD C,A
  550 E32A  7E          	LD A,(HL)
  551 E32B  E6 07       	AND 7
  552 E32D  07          	RLCA
  553 E32E  07          	RLCA
  554 E32F  07          	RLCA
  555 E330  B1          	OR C
  556 E331  4F          	LD C,A
  557 E332  7E          	LD A,(HL)
  558 E333  0F          	RRCA
  559 E334  0F          	RRCA
  560 E335  0F          	RRCA
  561 E336  E6 07       	AND 7
  562 E338  B1          	OR C
  563                    
  564 E339  77          LDMA:	LD (HL),A		;UP 28 LDMA
  565 E33A  C9          	RET
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  11
CAOSEI  ASM

  566                    
  567 E33B  7E          LDAM:	LD A,(HL)		;UP 29 LDAM
  568 E33C  C9          	RET
  569                    
  570 E33D  3E 80       SHLOCK:	LD A,80H
  571 E33F  01          	DEFB 1		;LD BC,...
  572 E340  3E 20       CLICK:	LD A,20H
  573 E342  DD AE 08    	XOR (IX+8)
  574 E345  DD 77 08    	LD (IX+8),A
  575 E348  C9          DUMMY:	RET
  576                    
  577 E349  E5          CRT:	PUSH HL		;UP 00 CRT
  578 E34A  D5          	PUSH DE
  579 E34B  C5          	PUSH BC
  580 E34C  F5          	PUSH AF
  581 E34D  ED 5B B7A0  	LD DE,(0B7A0H)
  582 E351  CD E19E     	CALL PCHR
  583 E354  ED 53 B7A0  	LD (0B7A0H),DE
  584 E358  F1          	POP AF
  585 E359  C3 E17C     	JP POPS3
  586                    
  587 E35C  87          ESC:	ADD A		;Beeinflussung
  588 E35D  87          ESC4:	ADD A		; Steuerbits
  589 E35E  87          ESC7:	ADD A
  590 E35F  87          ESCF:	ADD A
  591 E360  21 B7A2     ESC3:	LD HL,0B7A2H
  592 E363  AE          	XOR (HL)
  593 E364  77          	LD (HL),A
  594 E365  C9          	RET
  595                    
  596                   ;*** KBD-Unit ***
  597                    
  598 E366  FB          ISRC3:	EI		;ISR CTC 3 KBD
  599 E367  F5          	PUSH AF
  600 E368  3E 23       	LD A,23H	;DI,ZG256,Res
  601 E36A  D3 8F       	OUT (8FH),A
  602 E36C  DD 36 0D 00 	LD (IX+13),0
  603 E370  18 55       	JR TST4
  604                    
  605 E372  FB          ISRPB:	EI		;ISR PIO B KBD
  606 E373  F5          TAST:	PUSH AF
  607 E374  DD 35 00    	DEC (IX)
  608 E377  DB 8F       	IN A,8FH
  609 E379  F5          	PUSH AF
  610 E37A  3E A7       	LD A,0A7H
  611 E37C  D3 8F       	OUT (8FH),A
  612 E37E  3E 8F       	LD A,8FH
  613 E380  D3 8F       	OUT (8FH),A
  614 E382  F1          	POP AF
  615 E383  FE 14       	CP 14H
  616 E385  38 40       	JR C,TST4
  617 E387  FE 65       	CP 65H
  618 E389  30 38       	JR NC,TST3
  619 E38B  C6 BE       	ADD 0BEH
  620 E38D  38 34       	JR C,TST3
  621 E38F  DD 7E 0C    	LD A,(IX+12)
  622 E392  1F          	RRA
  623 E393  EE 01       	XOR 1
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  12
CAOSEI  ASM

  624 E395  E5          	PUSH HL
  625 E396  D5          	PUSH DE
  626 E397  5F          	LD E,A
  627 E398  16 00       	LD D,0
  628 E39A  DD 6E 0E    	LD L,(IX+14)
  629 E39D  DD 66 0F    	LD H,(IX+15)
  630 E3A0  19          	ADD HL,DE
  631 E3A1  7E          	LD A,(HL)
  632 E3A2  DD CB 08 7E 	BIT 7,(IX+8)
  633 E3A6  20 07       	JR NZ,TST1
  634 E3A8  FE 40       	CP 40H
  635 E3AA  FA E3AF     	JP M,TST1
  636 E3AD  EE 20       	XOR 20H
  637 E3AF  DD BE 0D    TST1:	CP (IX+13)
  638 E3B2  F5          	PUSH AF
  639 E3B3  20 15       	JR NZ,TST5
  640 E3B5  3A B7E0     	LD A,(0B7E0H)	;COUNT
  641 E3B8  DD BE 0A    	CP (IX+10)
  642 E3BB  38 2A       	JR C,TST7
  643 E3BD  F1          	POP AF
  644 E3BE  DD 34 0A    	INC (IX+10)
  645 E3C1  D1          TST2:	POP DE
  646 E3C2  E1          	POP HL
  647 E3C3  DD CB 0C 1E TST3:	RR (IX+12)
  648 E3C7  F1          TST4:	POP AF
  649 E3C8  ED 4D       INTE:	RETI
  650                    
  651 E3CA  DD 36 0A 00 TST5:	LD (IX+10),0
  652 E3CE  7B          	LD A,E
  653 E3CF  FE 73       	CP 73H		;Tast-Nr.SoftRes
  654 E3D1  20 10       	JR NZ,TST6
  655 E3D3  DD CB 08 5E 	BIT 3,(IX+8)
  656 E3D7  DD CB 08 9E 	RES 3,(IX+8)
  657 E3DB  20 0A       	JR NZ,TST7
  658 E3DD  21 E000     	LD HL,RESET
  659 E3E0  E5          	PUSH HL
  660 E3E1  18 E5       	JR INTE
  661                    
  662 E3E3  DD CB 08 DE TST6:	SET 3,(IX+8)
  663 E3E7  F1          TST7:	POP AF
  664 E3E8  DD 77 0D    	LD (IX+13),A
  665 E3EB  DD CB 08 C6 	SET 0,(IX+8)
  666 E3EF  18 D0       	JR TST2
  667                    
  668 E3F1  AF          KBDS:	XOR A		;UP 0C KBDS
  669 E3F2  DD CB 08 46 	BIT 0,(IX+8)
  670 E3F6  C8          	RET Z
  671 E3F7  DD 7E 0D    	LD A,(IX+13)
  672 E3FA  37          	SCF
  673 E3FB  C9          	RET
  674                    
  675 E3FC  CD E3F1     KBDZ:	CALL KBDS	;UP 0E KBDZ
  676 E3FF  D0          	RET NC
  677 E400  DD CB 08 86 RESFL:	RES 0,(IX+8)
  678 E404  C9          	RET
  679                    
  680                   ;*** Tape-Unit ***
  681                    
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  13
CAOSEI  ASM

  682 E405  DD 7E 07    ESC1:	LD A,(IX+7)
  683 E408  EE 02       	XOR 2
  684 E40A  DD 77 07    	LD (IX+7),A
  685 E40D  C9          	RET
  686                    
  687 E40E              IMBII:	;intern mit Standardpuffer,
  688                   	;Erwarteter Block und Unter-
  689                   	;drueckung OK-Block
  690 E40E  CD F407     	CALL SIXD3
  691 E411  DD 36 03 01 	LD (IX+3),1
  692 E415  DD CB 07 EE 	SET 5,(IX+7)
  693                   	;
  694 E419              IMBI:	;Init.MB-Eingabe ohne Lesen
  695                   	;und ohne Init.(IX+5/6)
  696 E419  DB 89       	IN A,(89H)
  697 E41B  CB BF       	RES 7,A
  698 E41D  D3 89       	OUT (89H),A	;Blink off
  699 E41F  DB 88       	IN A,(88H)
  700 E421  CB F7       	SET 6,A		;MSS on
  701 E423  D3 88       IMBI1:	OUT (88H),A
  702 E425  FB          	EI
  703 E426  E5          	PUSH HL
  704 E427  2A B7A4     	LD HL,(0B7A4H)
  705 E42A  22 B7CF     	LD (0B7CFH),HL
  706 E42D  CD F26D     	CALL NOUT
  707 E430  22 B7CD     	LD (0B7CDH),HL
  708 E433  CD E217     	CALL PAGE
  709 E436  E1          	POP HL
  710 E437  3E 03       PHALT:	LD A,3
  711 E439  D3 8C       	OUT (8CH),A	;CTC0
  712 E43B  D3 8D       	OUT (8DH),A
  713 E43D  DD CB 08 8E 	RES 1,(IX+8)
  714 E441  C9          	RET
  715                    
  716 E442              CMBI:	;Abschluss MB-Eingabe
  717 E442  CD E45E     	CALL CRO0
  718 E445              BLION:	;Blinken on
  719 E445  DB 89       	IN A,(89H)
  720 E447  CB FF       	SET 7,A
  721 E449  D3 89       	OUT (89H),A
  722 E44B  F3          	DI
  723 E44C  3E 47       	LD A,47H
  724 E44E  D3 8E       	OUT (8EH),A
  725 E450  3E 0C       	LD A,0CH
  726 E452  D3 8E       	OUT (8EH),A
  727 E454  FB          	EI
  728 E455  C9          	RET
  729                    
  730 E456              CSRO:	;Abschluss MB-Ausgabe mit
  731                   	;Schreiben letzter Block
  732 E456  DD 36 02 FE 	LD (IX+2),0FEH;UP 09 CSRO
  733 E45A  CD F047     	CALL PV1
  734 E45D  01          	DEFB 1		;MBOT
  735 E45E  E5          CRO0:	PUSH HL
  736 E45F  2A B7CD     	LD HL,(0B7CDH)
  737 E462  22 B7B9     	LD (0B7B9H),HL
  738 E465  2A B7CF     	LD HL,(0B7CFH)
  739 E468  22 B7A4     	LD (0B7A4H),HL
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  14
CAOSEI  ASM

  740 E46B  21 B780     	LD HL,0B780H
  741 E46E  AF          	XOR A
  742 E46F  2D          CRO1:	DEC L
  743 E470  77          	LD (HL),A
  744 E471  20 FC       	JR NZ,CRO1
  745 E473  E1          	POP HL
  746 E474  DB 88       	IN A,(88H)
  747 E476  E6 9F       	AND 9FH
  748 E478  D3 88       	OUT (88H),A
  749 E47A  CD F337     	CALL CRLF
  750 E47D  C3 F3FF     	JP SIXD2
  751                    
  752 E480  CD F407     ISROI:	CALL SIXD3	;intern
  753 E483  DB 88       ISRO:	IN A,(88H)	;UP 08 ISRO
  754 E485  F6 60       	OR 60H
  755 E487  CD E423     	CALL IMBI1
  756 E48A  DD 36 02 00 	LD (IX+2),0
  757 E48E  01 1000     	LD BC,1000H
  758 E491  CD F047     	CALL	PV1
  759 E494  01          	DEFB	1	;MBOT Shell!!
  760 E495  C9          	RET
  761                   	;
  762 E496  DD 34 02    MBOT:	INC (IX+2)	;UP 01 MBOT
  763 E499  F3          	DI
  764 E49A  3E 87       	LD A,87H
  765 E49C  D3 8D       	OUT (8DH),A
  766 E49E  3E 2F       	LD A,2FH
  767 E4A0  D3 8D       	OUT (8DH),A
  768 E4A2  FB          	EI
  769 E4A3  57          	LD D,A
  770 E4A4  5F          	LD E,A
  771 E4A5  CD E4E9     MBOT1:	CALL BITOUT
  772 E4A8  ED A1       	CPI
  773 E4AA  EA E4A5     	JP PE,MBOT1
  774 E4AD  CD E4E7     	CALL ZTON
  775 E4B0  DD 7E 02    	LD A,(IX+2)
  776 E4B3  CD E4D4     	CALL BYTOT
  777 E4B6  DD 6E 05    	LD L,(IX+5)
  778 E4B9  DD 66 06    	LD H,(IX+6)
  779 E4BC  06 80       	LD B,80H
  780 E4BE  7E          MBT1:	LD A,(HL)
  781 E4BF  CD E4D4     	CALL BYTOT
  782 E4C2  79          	LD A,C
  783 E4C3  86          	ADD (HL)
  784 E4C4  4F          	LD C,A
  785 E4C5  23          	INC HL
  786 E4C6  10 F6       	DJNZ MBT1
  787 E4C8  CD E4D4     	CALL BYTOT
  788 E4CB  7A          	LD A,D
  789 E4CC  CD E4EC     	CALL HBITOT
  790 E4CF  3E 03       	LD A,3
  791 E4D1  D3 8D       	OUT (8DH),A
  792 E4D3  C9          	RET
  793                    
  794 E4D4  C5          BYTOT:	PUSH BC
  795 E4D5  4F          	LD C,A
  796 E4D6  06 08       	LD B,8
  797 E4D8  CB 09       BYTOUT:	RRC C
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  15
CAOSEI  ASM

  798 E4DA  1E 17       	LD E,17H
  799 E4DC  D4 E4E9     	CALL NC,BITOUT
  800 E4DF  1E 2F       	LD E,2FH
  801 E4E1  DC E4E9     	CALL C,BITOUT
  802 E4E4  10 F2       	DJNZ BYTOUT
  803 E4E6  C1          	POP BC
  804 E4E7  1E 5D       ZTON:	LD E,5DH
  805 E4E9  CD E4EC     BITOUT:	CALL HBITOT
  806 E4EC  DD 72 00    HBITOT:	LD (IX),D
  807 E4EF  DD 7E 00    HBIT1:	LD A,(IX)
  808 E4F2  A7          	AND A
  809 E4F3  20 FA       	JR NZ,HBIT1
  810 E4F5  53          	LD D,E
  811 E4F6  C9          	RET
  812                    
  813 E4F7  CD E419     ISRI:	CALL IMBI	;UP 0A ISRI
  814 E4FA  CD F047     	CALL	PV1
  815 E4FD  05          	DEFB	5	;MBI Shell!!
  816 E4FE  C9          	RET
  817                   	;
  818 E4FF  3E 83       MBI:	LD A,83H	;UP 05 MBI
  819 E501  D3 8A       	OUT (8AH),A
  820 E503  E5          	PUSH HL
  821 E504  D5          	PUSH DE
  822 E505  CD F287     MBI1:	CALL BRKT
  823 E508  38 45       	JR C,MBI6
  824 E50A  06 16       	LD B,16H
  825 E50C  CD E588     MBI2:	CALL STOP1
  826 E50F  38 F4       	JR C,MBI1
  827 E511  FE BA       	CP 0BAH
  828 E513  CD E555     	CALL LEDON
  829 E516  38 ED       	JR C,MBI1
  830 E518  10 F2       	DJNZ MBI2
  831 E51A  06 02       MBI3:	LD B,2
  832 E51C  AF          MBI4:	XOR A
  833 E51D  4F          	LD C,A
  834 E51E  CD E593     	CALL STOP2
  835 E521  FE 5D       	CP 5DH
  836 E523  30 F5       	JR NC,MBI3
  837 E525  10 F5       	DJNZ MBI4
  838 E527  CD E59F     	CALL BYTIN
  839 E52A  38 23       	JR C,MBI6
  840 E52C  DD 77 02    	LD (IX+2),A
  841 E52F  06 80       	LD B,80H
  842 E531  DD 6E 05    	LD L,(IX+5)
  843 E534  DD 66 06    	LD H,(IX+6)
  844 E537  1E 00       	LD E,0
  845 E539  D5          MBI5:	PUSH DE
  846 E53A  CD E59F     	CALL BYTIN
  847 E53D  D1          	POP DE
  848 E53E  38 0F       	JR C,MBI6
  849 E540  77          	LD (HL),A
  850 E541  83          	ADD E
  851 E542  5F          	LD E,A
  852 E543  23          	INC HL
  853 E544  10 F3       	DJNZ MBI5
  854 E546  6F          	LD L,A
  855 E547  CD E59F     	CALL BYTIN
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  16
CAOSEI  ASM

  856 E54A  38 03       	JR C,MBI6
  857 E54C  95          	SUB L
  858 E54D  C6 FF       	ADD 0FFH
  859 E54F  D1          MBI6:	POP DE
  860 E550  E1          	POP HL
  861 E551  3E 03       	LD A,3
  862 E553  D3 8A       	OUT (8AH),A
  863 E555  DB 88       LEDON:	IN A,(88H)
  864 E557  CB EF       	SET 5,A
  865 E559  30 02       	JR NC,MBI7
  866 E55B  CB AF       	RES 5,A
  867 E55D  D3 88       MBI7:	OUT (88H),A
  868 E55F  C9          	RET
  869                    
  870 E560              MOT:	;Umschalten der MSS (ESC A)
  871 E560  DB 88       	IN A,(88H)
  872 E562  EE 60       	XOR 60H
  873 E564  18 F7       	JR MBI7
  874                    
  875 E566  F5          ISRC1:	PUSH AF		;ISR CTC 1 MBO
  876 E567  3E 87       	LD A,87H
  877 E569  D3 8D       	OUT (8DH),A
  878 E56B  DD 7E 00    	LD A,(IX)
  879 E56E  D3 8D       	OUT (8DH),A
  880 E570  DD 36 00 00 	LD (IX),0
  881 E574  18 0E       	JR IMBEND
  882                    
  883 E576  F5          ISRPA:	PUSH AF		;ISR PIO A MBI
  884 E577  DB 8E       	IN A,8EH
  885 E579  DD 77 00    	LD (IX),A
  886 E57C  3E 07       	LD A,7
  887 E57E  D3 8E       	OUT (8EH),A
  888 E580  3E A3       	LD A,0A3H
  889 E582  D3 8E       	OUT (8EH),A
  890 E584  F1          IMBEND:	POP AF
  891 E585  FB          INTEND:	EI
  892 E586  ED 4D       	RETI
  893                    
  894 E588  DD 36 00 00 STOP1:	LD (IX),0
  895 E58C  DD 7E 00    STOP11:	LD A,(IX)
  896 E58F  B7          	OR A
  897 E590  28 FA       	JR Z,STOP11
  898 E592  4F          	LD C,A
  899 E593  DD 36 00 00 STOP2:	LD (IX),0
  900 E597  DD 7E 00    STOP21:	LD A,(IX)
  901 E59A  B7          	OR A
  902 E59B  28 FA       	JR Z,STOP21
  903 E59D  81          	ADD C
  904 E59E  C9          	RET
  905                    
  906 E59F  11 0800     BYTIN:	LD DE,800H
  907 E5A2  CD E588     TRN1:	CALL STOP1
  908 E5A5  38 03       	JR C,TRN2
  909 E5A7  FE BA       	CP 0BAH
  910 E5A9  D8          	RET C
  911 E5AA  3F          TRN2:	CCF
  912 E5AB  CB 1B       	RR E
  913 E5AD  15          	DEC D
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  17
CAOSEI  ASM

  914 E5AE  20 F2       	JR NZ,TRN1
  915 E5B0  CD E588     	CALL STOP1
  916 E5B3  7B          	LD A,E
  917 E5B4  C9          	RET
  918                    
  919                   ;*** Sound Unit ***
  920                    
  921 E5B5  F5          ISRC2:	PUSH AF		;ISR CTC 2 TON
  922 E5B6  CD E437     	CALL PHALT
  923 E5B9  CD E445     	CALL BLION
  924 E5BC  18 C6       	JR IMBEND
  925                    
  926 E5BE  CD F480     TON:	CALL LARG	;UP 35 TON
  927 E5C1  DD CB 08 4E TON1:	BIT 1,(IX+8)	;noch alter Ton?
  928 E5C5  20 FA       	JR NZ,TON1	;warten
  929 E5C7  79          TONP:	LD A,C		;Lautstaerke
  930 E5C8  17          	RLA		;1x nach links rotieren
  931 E5C9  2F          	CPL		;negieren, da Low-aktiv
  932 E5CA  4F          	LD C,A
  933 E5CB  78          	LD A,B		;Tondauer
  934 E5CC  C6 FF       	ADD 0FFH
  935 E5CE  30 0D       	JR NC,TON2	;Dauerton (CY=0 fuer Blinken aus)
  936 E5D0  F3          	DI
  937 E5D1  DD CB 08 CE 	SET 1,(IX+8)	;neuer Ton
  938 E5D5  3E C7       	LD A,0C7H
  939 E5D7  D3 8E       	OUT (8EH),A	;CTC2: EI, Zaehler 50Hz
  940 E5D9  78          	LD A,B
  941 E5DA  D3 8E       	OUT (8EH),A	;Tondauer
  942 E5DC  FB          	EI
  943 E5DD  79          TON2:	LD A,C		;Lautstaerke
  944 E5DE  1F          	RRA		;1x nach rechts rotieren und Blinkbit einschieben
  945 E5DF  D3 89       	OUT (89H),A
  946                    
  947 E5E1  0E 8C       	LD C,8CH	;CTC 0
  948 E5E3  CD E5E8     	CALL ZKO
  949 E5E6  0C          	INC C		;CTC 1
  950 E5E7  EB          	EX DE,HL
  951 E5E8  7D          ZKO:	LD A,L
  952 E5E9  A7          	AND A
  953 E5EA  2E 03       	LD L,3
  954 E5EC  28 0C       	JR Z,TON3
  955 E5EE  6F          	LD L,A
  956 E5EF  7C          	LD A,H
  957 E5F0  0F          	RRCA
  958 E5F1  0F          	RRCA
  959 E5F2  F6 0A       	OR 0AH		;2*5
  960 E5F4  1F          	RRA
  961 E5F5  EE 02       	XOR 2
  962 E5F7  F3          	DI
  963 E5F8  ED 79       	OUT (C),A
  964 E5FA  ED 69       TON3:	OUT (C),L
  965 E5FC  FB          	EI
  966 E5FD  C9          	RET
  967                    
  968                    
  969                   ;====== BASIC-ERWEITERUNG ==============
  970                    
  971                    
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  18
CAOSEI  ASM

  972                   ;*** BASIC I/O-Verteiler ***
  973                    
  974 E5FE  C5          BASPV:	PUSH BC
  975 E5FF  E5          	PUSH HL
  976 E600  CD F078     	CALL IRMON
  977 E603  CB 6B       	BIT 5,E
  978 E605  D5          	PUSH DE
  979 E606  20 4B       	JR NZ,BASBYE
  980 E608  23          	INC HL
  981 E609  23          	INC HL
  982 E60A  CB 7B       	BIT 7,E
  983 E60C  20 3A       	JR NZ,BSA2
  984 E60E  E5          	PUSH HL
  985 E60F  7B          	LD A,E
  986 E610  E6 07       	AND 7
  987 E612  21 E640     	LD HL,BUPTAB
  988 E615  85          	ADD L
  989 E616  6F          	LD L,A
  990 E617  7A          	LD A,D
  991 E618  53          	LD D,E
  992 E619  5E          	LD E,(HL)
  993 E61A  E1          	POP HL
  994 E61B  CD F063     	CALL PV3
  995 E61E  D1          	POP DE
  996 E61F  57          	LD D,A
  997 E620  7B          	LD A,E
  998 E621  E6 4F       	AND 4FH
  999 E623  EE 43       	XOR 43H
 1000 E625  20 10       	JR NZ,BSA1
 1001 E627  CD F264     	CALL OSTR
 1002 E62A  56 45 52 49 	DEFM 'VERIFY'
 1003 E630  00          	DEFB 0
 1004 E631  CD F573     	CALL YESNO
 1005 E634  CC F4A2     	CALL Z,VERIFY
 1006 E637  7A          BSA1:	LD A,D
 1007 E638  CB 9B       	RES 3,E
 1008 E63A  CD F091     	CALL IRMOFF
 1009 E63D  E1          BSAE:	POP HL
 1010 E63E  C1          	POP BC
 1011 E63F  C9          	RET
 1012                    
 1013 E640  16          BUPTAB:	DEFB 16H	;KEINE 100H-
 1014 E641  24          	DEFB 24H	;Ueberschneidung
 1015 E642  37          	DEFB 37H
 1016 E643  38          	DEFB 38H
 1017 E644  06          	DEFB 6
 1018 E645  02          	DEFB 2
 1019 E646  07          	DEFB 7
 1020 E647  03          	DEFB 3
 1021                    
 1022 E648  CD E3F1     BSA2:	CALL KBDS
 1023 E64B  D1          BSA3:	POP DE
 1024 E64C  57          	LD D,A
 1025 E64D  30 E8       	JR NC,BSA1
 1026 E64F  CB BB       	RES 7,E
 1027 E651  18 E4       	JR BSA1
 1028                    
 1029 E653  DB 88       BASBYE:	IN A,(88H)
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  19
CAOSEI  ASM

 1030 E655  CB BF       	RES 7,A
 1031 E657  D3 88       	OUT (88H),A
 1032 E659  C3 F1F3     	JP LOOP
 1033                    
 1034                   ;*** BASIC-Expander ***
 1035                    
 1036 E65C  78          BEXP1:	LD A,B
 1037 E65D  D6 09       	SUB 9
 1038 E65F  38 4B       	JR C,SNERR1
 1039 E661  FE 1B       	CP 27
 1040 E663  30 47       	JR NC,SNERR1
 1041 E665  07          	RLCA
 1042 E666  4F          	LD C,A
 1043 E667  06 00       	LD B,0
 1044 E669  EB          	EX DE,HL
 1045 E66A  21 EDCA     	LD HL,TADR5
 1046 E66D  C3 C8B7     	JP 0C8B7H
 1047                    
 1048 E670              LOCOL:	;LoadColor
 1049 E670  E5          	PUSH HL
 1050 E671  21 B7A3     	LD HL,0B7A3H
 1051 E674  CD EBE3     	CALL RLDAM
 1052 E677  E1          	POP HL
 1053 E678  C9          	RET
 1054                    
 1055 E679  7E          BEXP2:	LD A,(HL)
 1056 E67A  FE DF       	CP 0DFH
 1057 E67C  D8          	RET C
 1058 E67D  FE E3       	CP 0E3H
 1059 E67F  D0          	RET NC
 1060 E680  FE E1       	CP 0E1H
 1061 E682  CA EA39     	JP Z,AT
 1062 E685  3A 03FD     	LD A,(3FDH)	;PRTFLG
 1063 E688  A7          	AND A
 1064 E689  20 21       	JR NZ,SNERR1
 1065 E68B  3C          	INC A
 1066 E68C  32 03FD     	LD (3FDH),A	;PRTFLG
 1067 E68F  3E          	DEFB 3EH	;LD A,n
 1068 E690  C5          RBE2:	PUSH BC
 1069 E691  CD E670     	CALL LOCOL
 1070 E694  32 037E     	LD (37EH),A
 1071 E697  7E          	LD A,(HL)
 1072 E698  FE DF       	CP 0DFH
 1073 E69A  28 1B       	JR Z,BE23
 1074 E69C  FE E2       	CP 0E2H
 1075 E69E  CA E6AF     	JP Z,PRCOL
 1076 E6A1  CD C8BD     	CALL 0C8BDH
 1077 E6A4  CD EA95     	CALL PAPER
 1078 E6A7  7E          BE22:	LD A,(HL)
 1079 E6A8  FE 3B       	CP ';'
 1080 E6AA  28 38       	JR Z,BE25
 1081 E6AC  C3 C348     SNERR1:	JP 0C348H
 1082                    
 1083 E6AF  CD C8BD     PRCOL:	CALL 0C8BDH
 1084 E6B2  CD EAAC     	CALL COLR
 1085 E6B5  18 F0       	JR BE22
 1086                    
 1087 E6B7  CD C8BD     BE23:	CALL 0C8BDH
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  20
CAOSEI  ASM

 1088 E6BA  CD EA83     	CALL INK
 1089 E6BD  7E          	LD A,(HL)
 1090 E6BE  FE 3B       	CP ';'
 1091 E6C0  28 22       	JR Z,BE25
 1092 E6C2  CD C8CC     	CALL 0C8CCH
 1093 E6C5  2C          	DEFB ','
 1094 E6C6  FE E0       	CP 0E0H
 1095 E6C8  20 E2       	JR NZ,SNERR1
 1096 E6CA  CD C8BD     	CALL 0C8BDH
 1097 E6CD  CD EA95     	CALL PAPER
 1098 E6D0  CD C8CC     	CALL 0C8CCH
 1099 E6D3  3B          	DEFB ';'
 1100 E6D4  CD CB03     BE24:	CALL 0CB03H
 1101 E6D7  3A 037E     	LD A,(37EH)
 1102 E6DA  E5          	PUSH HL
 1103 E6DB  21 B7A3     	LD HL,0B7A3H
 1104 E6DE  CD EBE8     	CALL RLDMA
 1105 E6E1  E1          	POP HL
 1106 E6E2  C1          	POP BC
 1107 E6E3  C9          	RET
 1108                    
 1109 E6E4  CD C8BD     BE25:	CALL 0C8BDH
 1110 E6E7  18 EB       	JR BE24
 1111                    
 1112 E6E9  79          BEXP3:	LD A,C
 1113 E6EA  FE 62       	CP 62H
 1114 E6EC  CA EA07     	JP Z,VPEEK
 1115 E6EF  FE 6E       	CP 6EH
 1116 E6F1  CA EC00     	JP Z,PTEST
 1117 E6F4  FE 7C       	CP 7CH
 1118 E6F6  CA ECE1     	JP Z,CSRLIN
 1119 E6F9  FE 76       	CP 76H
 1120 E6FB  CA ED01     	JP Z,VGET
 1121 E6FE  D6 3E       	SUB 3EH
 1122 E700  38 AA       	JR C,SNERR1
 1123 E702  FE 07       	CP 7
 1124 E704  30 A6       	JR NC,SNERR1
 1125 E706  EB          	EX DE,HL
 1126 E707  01 EDC2     	LD BC,TOKADR
 1127 E70A  E1          	POP HL
 1128 E70B  6F          	LD L,A
 1129 E70C  09          	ADD HL,BC
 1130 E70D  4E          	LD C,(HL)
 1131 E70E  23          	INC HL
 1132 E70F  66          	LD H,(HL)
 1133 E710  69          	LD L,C
 1134 E711  E5          	PUSH HL
 1135 E712  EB          	EX DE,HL
 1136 E713  C9          	RET
 1137                    
 1138 E714  CD C8CC     STR:	CALL 0C8CCH
 1139 E717  28          	DEFB '('
 1140 E718  CD D421     	CALL 0D421H
 1141 E71B  F5          	PUSH AF
 1142 E71C  CD C8D6     	CALL 0C8D6H
 1143 E71F  CD CD3A     	CALL 0CD3AH
 1144 E722  CD C8DB     	CALL 0C8DBH
 1145 E725  F1          	POP AF
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  21
CAOSEI  ASM

 1146 E726  E5          	PUSH HL
 1147 E727  F5          	PUSH AF
 1148 E728  CD D330     	CALL 0D330H
 1149 E72B  23          	INC HL
 1150 E72C  23          	INC HL
 1151 E72D  5E          	LD E,(HL)
 1152 E72E  23          	INC HL
 1153 E72F  56          	LD D,(HL)
 1154 E730  C1          	POP BC
 1155 E731  C5          	PUSH BC
 1156 E732  F5          	PUSH AF
 1157 E733  D5          	PUSH DE
 1158 E734  4F          	LD C,A
 1159 E735  AF          	XOR A
 1160 E736  B9          	CP C
 1161 E737  28 0C       	JR Z,STR2
 1162 E739  B8          	CP B
 1163 E73A  28 09       	JR Z,STR2
 1164 E73C  79          	LD A,C
 1165 E73D  05          	DEC B
 1166 E73E  28 05       	JR Z,STR2
 1167 E740  81          STR1:	ADD C
 1168 E741  38 2B       	JR C,STR5
 1169 E743  10 FB       	DJNZ STR1
 1170 E745  47          STR2:	LD B,A
 1171 E746  0E 00       	LD C,0
 1172 E748  C5          	PUSH BC
 1173 E749  CD D1E1     	CALL 0D1E1H
 1174 E74C  C1          	POP BC
 1175 E74D  C1          	POP BC
 1176 E74E  C5          	PUSH BC
 1177 E74F  CD D17E     	CALL 0D17EH
 1178 E752  E1          	POP HL
 1179 E753  E3          	EX (SP),HL
 1180 E754  7C          	LD A,H
 1181 E755  E1          	POP HL
 1182 E756  E3          	EX (SP),HL
 1183 E757  6F          	LD L,A
 1184 E758  24          	INC H
 1185 E759  25          STR3:	DEC H
 1186 E75A  E5          	PUSH HL
 1187 E75B  C5          	PUSH BC
 1188 E75C  28 07       	JR Z,STR4
 1189 E75E  CD D2F2     	CALL 0D2F2H
 1190 E761  C1          	POP BC
 1191 E762  E1          	POP HL
 1192 E763  18 F4       	JR STR3
 1193                    
 1194 E765  C1          STR4:	POP BC
 1195 E766  E1          	POP HL
 1196 E767  D1          	POP DE
 1197 E768  CD D302     	CALL 0D302H
 1198 E76B  C3 D1A9     	JP 0D1A9H
 1199                    
 1200 E76E  1E 1C       STR5:	LD E,28
 1201 E770  C3 C356     	JP 0C356H
 1202                    
 1203 E773  E5          REN:	PUSH HL
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  22
CAOSEI  ASM

 1204 E774  21 000A     	LD HL,10
 1205 E777  22 0354     	LD (354H),HL
 1206 E77A  2A 035F     	LD HL,(35FH)
 1207 E77D  F5          	PUSH AF
 1208 E77E  E5          	PUSH HL
 1209 E77F  23          	INC HL
 1210 E780  23          	INC HL
 1211 E781  7E          	LD A,(HL)
 1212 E782  23          	INC HL
 1213 E783  66          	LD H,(HL)
 1214 E784  6F          	LD L,A
 1215 E785  22 034E     	LD (34EH),HL
 1216 E788  22 0352     	LD (352H),HL
 1217 E78B  ED 5B 03D7  	LD DE,(3D7H)
 1218 E78F  1B          	DEC DE
 1219 E790  1B          	DEC DE
 1220 E791  E1          REN1:	POP HL
 1221 E792  E5          	PUSH HL
 1222 E793  7E          	LD A,(HL)
 1223 E794  23          	INC HL
 1224 E795  66          	LD H,(HL)
 1225 E796  6F          	LD L,A
 1226 E797  CD C689     	CALL 0C689H
 1227 E79A  E3          	EX (SP),HL
 1228 E79B  20 F4       	JR NZ,REN1
 1229 E79D  D1          	POP DE
 1230 E79E  23          	INC HL
 1231 E79F  23          	INC HL
 1232 E7A0  7E          	LD A,(HL)
 1233 E7A1  23          	INC HL
 1234 E7A2  66          	LD H,(HL)
 1235 E7A3  6F          	LD L,A
 1236 E7A4  22 0350     	LD (350H),HL
 1237 E7A7  06 04       	LD B,4
 1238 E7A9  F1          	POP AF
 1239 E7AA  21 034E     	LD HL,34EH
 1240 E7AD  E3          	EX (SP),HL
 1241 E7AE  28 20       REN2:	JR Z,REN5
 1242 E7B0  CD C986     	CALL 0C986H
 1243 E7B3  F5          	PUSH AF
 1244 E7B4  7A          	LD A,D
 1245 E7B5  B3          	OR E
 1246 E7B6  CA C967     REN3:	JP Z,0C967H
 1247 E7B9  F1          	POP AF
 1248 E7BA  E3          	EX (SP),HL
 1249 E7BB  73          	LD (HL),E
 1250 E7BC  23          	INC HL
 1251 E7BD  72          	LD (HL),D
 1252 E7BE  23          	INC HL
 1253 E7BF  28 0F       	JR Z,REN5
 1254 E7C1  F5          	PUSH AF
 1255 E7C2  05          	DEC B
 1256 E7C3  28 07       	JR Z,REN4
 1257 E7C5  F1          	POP AF
 1258 E7C6  E3          	EX (SP),HL
 1259 E7C7  CD C8D6     	CALL 0C8D6H
 1260 E7CA  18 E2       	JR REN2
 1261                    
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  23
CAOSEI  ASM

 1262 E7CC  F1          REN4:	POP AF
 1263 E7CD  C2 C348     	JP NZ,0C348H
 1264 E7D0  2A 0350     REN5:	LD HL,(350H)
 1265 E7D3  ED 5B 034E  	LD DE,(34EH)
 1266 E7D7  CD C689     	CALL 0C689H
 1267 E7DA  DA C967     REN6:	JP C,0C967H
 1268 E7DD  2A 035F     	LD HL,(35FH)
 1269 E7E0  CD C4BE     REN7:	CALL 0C4BEH
 1270 E7E3  38 04       	JR C,REN8
 1271 E7E5  28 CF       	JR Z,REN3
 1272 E7E7  18 F7       	JR REN7
 1273                    
 1274 E7E9  E1          REN8:	POP HL
 1275 E7EA  C5          	PUSH BC
 1276 E7EB  ED 5B 0350  	LD DE,(350H)
 1277 E7EF  21 0000     	LD HL,0
 1278 E7F2  22 0350     	LD (350H),HL
 1279 E7F5  60          REN9:	LD H,B
 1280 E7F6  69          	LD L,C
 1281 E7F7  4E          	LD C,(HL)
 1282 E7F8  23          	INC HL
 1283 E7F9  46          	LD B,(HL)
 1284 E7FA  78          	LD A,B
 1285 E7FB  B1          	OR C
 1286 E7FC  28 B8       	JR Z,REN3
 1287 E7FE  23          	INC HL
 1288 E7FF  7E          	LD A,(HL)
 1289 E800  23          	INC HL
 1290 E801  66          	LD H,(HL)
 1291 E802  6F          	LD L,A
 1292 E803  CD C689     	CALL 0C689H
 1293 E806  2A 0350     	LD HL,(350H)
 1294 E809  23          	INC HL
 1295 E80A  22 0350     	LD (350H),HL
 1296 E80D  20 E6       	JR NZ,REN9
 1297 E80F  23          	INC HL
 1298 E810  23          	INC HL
 1299 E811  29          	ADD HL,HL
 1300 E812  23          	INC HL
 1301 E813  ED 5B 03D7  	LD DE,(3D7H)
 1302 E817  19          	ADD HL,DE
 1303 E818  38 C0       	JR C,REN6
 1304 E81A  CD C327     	CALL 0C327H
 1305 E81D  22 03D7     	LD (3D7H),HL
 1306 E820  AF          	XOR A
 1307 E821  2B          	DEC HL
 1308 E822  77          	LD (HL),A
 1309 E823  2B          	DEC HL
 1310 E824  77          	LD (HL),A
 1311 E825  1B          	DEC DE
 1312 E826  1B          	DEC DE
 1313 E827  EB          	EX DE,HL
 1314 E828  73          	LD (HL),E
 1315 E829  23          	INC HL
 1316 E82A  72          	LD (HL),D
 1317 E82B  23          	INC HL
 1318 E82C  3D          	DEC A
 1319 E82D  77          	LD (HL),A
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  24
CAOSEI  ASM

 1320 E82E  23          	INC HL
 1321 E82F  77          	LD (HL),A
 1322 E830  23          	INC HL
 1323 E831  EB          	EX DE,HL
 1324 E832  2A 0352     	LD HL,(352H)
 1325 E835  22 034E     	LD (34EH),HL
 1326 E838  E1          REN10:	POP HL
 1327 E839  4E          	LD C,(HL)
 1328 E83A  23          	INC HL
 1329 E83B  46          	LD B,(HL)
 1330 E83C  23          	INC HL
 1331 E83D  C5          	PUSH BC
 1332 E83E  01 034E     	LD BC,34EH
 1333 E841  7E          	LD A,(HL)
 1334 E842  12          	LD (DE),A
 1335 E843  0A          	LD A,(BC)
 1336 E844  77          	LD (HL),A
 1337 E845  23          	INC HL
 1338 E846  13          	INC DE
 1339 E847  03          	INC BC
 1340 E848  7E          	LD A,(HL)
 1341 E849  12          	LD (DE),A
 1342 E84A  0A          	LD A,(BC)
 1343 E84B  77          	LD (HL),A
 1344 E84C  13          	INC DE
 1345 E84D  2A 034E     	LD HL,(34EH)
 1346 E850  ED 4B 0354  	LD BC,(354H)
 1347 E854  09          	ADD HL,BC
 1348 E855  22 034E     	LD (34EH),HL
 1349 E858  2A 0350     	LD HL,(350H)
 1350 E85B  2B          	DEC HL
 1351 E85C  7C          	LD A,H
 1352 E85D  B5          	OR L
 1353 E85E  22 0350     	LD (350H),HL
 1354 E861  20 D5       	JR NZ,REN10
 1355 E863  12          	LD (DE),A
 1356 E864  E1          	POP HL
 1357 E865  2A 035F     	LD HL,(35FH)
 1358 E868  E5          	PUSH HL
 1359 E869  E1          REN11:	POP HL
 1360 E86A  4E          	LD C,(HL)
 1361 E86B  23          	INC HL
 1362 E86C  46          	LD B,(HL)
 1363 E86D  23          	INC HL
 1364 E86E  C5          	PUSH BC
 1365 E86F  7E          	LD A,(HL)
 1366 E870  23          	INC HL
 1367 E871  A6          	AND (HL)
 1368 E872  3C          	INC A
 1369 E873  28 26       	JR Z,REN15
 1370                    
 1371 E875  23          REN12:	INC HL
 1372 E876  7E          REN13:	LD A,(HL)
 1373 E877  B7          	OR A		;ZEILEN-ENDE
 1374 E878  28 EF       	JR Z,REN11
 1375 E87A  FE 88       	CP 88H		;GOTO
 1376 E87C  28 2A       	JR Z,REN16
 1377 E87E  FE 8C       	CP 8CH		;GOSUB
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  25
CAOSEI  ASM

 1378 E880  28 26       	JR Z,REN16
 1379 E882  FE 8B       	CP 8BH		;RESTORE
 1380 E884  28 08       	JR Z,REN14
 1381 E886  FE D4       	CP 0D4H		;ELSE
 1382 E888  28 04       	JR Z,REN14
 1383 E88A  FE A9       	CP 0A9H		;THEN
 1384 E88C  20 E7       	JR NZ,REN12
 1385                    
 1386 E88E  CD C987     REN14:	CALL 0C987H	;F.RESTORE,THEN,
 1387 E891  7B          	LD A,E		; ELSE
 1388 E892  B2          	OR D
 1389 E893  C4 E8BC     	CALL NZ,RENLN
 1390 E896  C4 E8ED     	CALL NZ,RENZN
 1391 E899  18 DB       	JR REN13
 1392                    
 1393 E89B  2B          REN15:	DEC HL
 1394 E89C  22 03D7     	LD (3D7H),HL
 1395 E89F  2B          	DEC HL
 1396 E8A0  77          	LD (HL),A
 1397 E8A1  2B          	DEC HL
 1398 E8A2  77          	LD (HL),A
 1399 E8A3  E1          	POP HL
 1400 E8A4  E1          	POP HL
 1401 E8A5  C3 C48A     	JP 0C48AH
 1402                    
 1403 E8A8  CD C987     REN16:	CALL 0C987H	;F.GOTO,GOSUB
 1404 E8AB  7B          	LD A,E
 1405 E8AC  B2          	OR D
 1406 E8AD  28 C7       	JR Z,REN13
 1407 E8AF  CD E8BC     	CALL RENLN
 1408 E8B2  C4 E8ED     	CALL NZ,RENZN
 1409 E8B5  7E          	LD A,(HL)
 1410 E8B6  FE 2C       	CP 2CH
 1411 E8B8  20 BC       	JR NZ,REN13
 1412 E8BA  18 EC       	JR REN16
 1413                    
 1414 E8BC  E5          RENLN:	PUSH HL
 1415 E8BD  D5          	PUSH DE
 1416 E8BE  11 FFFF     	LD DE,0FFFFH
 1417 E8C1  CD C4BB     	CALL 0C4BBH
 1418 E8C4  D1          	POP DE
 1419 E8C5  03          	INC BC
 1420 E8C6  03          	INC BC
 1421 E8C7  03          	INC BC
 1422 E8C8  03          	INC BC
 1423 E8C9  60          	LD H,B
 1424 E8CA  69          	LD L,C
 1425 E8CB  ED 4B 0352  	LD BC,(352H)
 1426 E8CF  7E          RL1:	LD A,(HL)
 1427 E8D0  23          	INC HL
 1428 E8D1  E5          	PUSH HL
 1429 E8D2  B6          	OR (HL)
 1430 E8D3  28 15       	JR Z,REND2
 1431 E8D5  7E          	LD A,(HL)
 1432 E8D6  2B          	DEC HL
 1433 E8D7  6E          	LD L,(HL)
 1434 E8D8  67          	LD H,A
 1435 E8D9  CD C689     	CALL 0C689H
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  26
CAOSEI  ASM

 1436 E8DC  28 0A       	JR Z,REND1
 1437 E8DE  2A 0354     	LD HL,(354H)
 1438 E8E1  09          	ADD HL,BC
 1439 E8E2  44          	LD B,H
 1440 E8E3  4D          	LD C,L
 1441 E8E4  E1          	POP HL
 1442 E8E5  23          	INC HL
 1443 E8E6  18 E7       	JR RL1
 1444                    
 1445 E8E8  AF          REND1:	XOR A
 1446 E8E9  3D          	DEC A
 1447 E8EA  E1          REND2:	POP HL
 1448 E8EB  E1          	POP HL
 1449 E8EC  C9          	RET
 1450                    
 1451 E8ED  C5          RENZN:	PUSH BC		;NEUE ZEILEN-NR.
 1452 E8EE  EB          	EX DE,HL	; F.SPRUENGE,...
 1453 E8EF  2A 03D7     	LD HL,(3D7H)
 1454 E8F2  ED 52       	SBC HL,DE
 1455 E8F4  E5          	PUSH HL
 1456 E8F5  C1          RZ1:	POP BC
 1457 E8F6  62          	LD H,D
 1458 E8F7  6B          	LD L,E
 1459 E8F8  1B          	DEC DE
 1460 E8F9  1A          	LD A,(DE)
 1461 E8FA  FE 2C       	CP ','
 1462 E8FC  28 0B       	JR Z,RZ2
 1463 E8FE  FE 3A       	CP ':'
 1464 E900  30 07       	JR NC,RZ2
 1465 E902  C5          	PUSH BC
 1466 E903  D5          	PUSH DE
 1467 E904  ED B0       	LDIR
 1468 E906  D1          	POP DE
 1469 E907  18 EC       	JR RZ1
 1470                    
 1471 E909  EB          RZ2:	EX DE,HL
 1472 E90A  D1          	POP DE
 1473 E90B  E5          	PUSH HL
 1474 E90C  C5          	PUSH BC
 1475 E90D  AF          	XOR A
 1476 E90E  06 98       	LD B,98H
 1477 E910  CD D6AE     	CALL 0D6AEH
 1478 E913  CD D834     	CALL 0D834H
 1479 E916  C1          	POP BC
 1480 E917  D1          	POP DE
 1481 E918  23          	INC HL
 1482 E919  13          	INC DE
 1483 E91A  7E          RZ3:	LD A,(HL)
 1484 E91B  B7          	OR A
 1485 E91C  28 0F       	JR Z,RZ4
 1486 E91E  C5          	PUSH BC
 1487 E91F  E5          	PUSH HL
 1488 E920  EB          	EX DE,HL
 1489 E921  09          	ADD HL,BC
 1490 E922  54          	LD D,H
 1491 E923  5D          	LD E,L
 1492 E924  2B          	DEC HL
 1493 E925  ED B8       	LDDR
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  27
CAOSEI  ASM

 1494 E927  E1          	POP HL
 1495 E928  ED A0       	LDI
 1496 E92A  C1          	POP BC
 1497 E92B  18 ED       	JR RZ3
 1498                    
 1499 E92D  D5          RZ4:	PUSH DE
 1500 E92E  ED 5B 035F  	LD DE,(35FH)
 1501 E932  CD C493     	CALL 0C493H
 1502 E935  23          RZ5:	INC HL
 1503 E936  7E          	LD A,(HL)
 1504 E937  23          	INC HL
 1505 E938  B6          	OR (HL)
 1506 E939  20 FA       	JR NZ,RZ5
 1507 E93B  EB          	EX DE,HL
 1508 E93C  73          	LD (HL),E
 1509 E93D  23          	INC HL
 1510 E93E  72          	LD (HL),D
 1511 E93F  13          	INC DE
 1512 E940  13          	INC DE
 1513 E941  ED 53 03D7  	LD (3D7H),DE
 1514 E945  E1          	POP HL
 1515 E946  54          	LD D,H
 1516 E947  5D          	LD E,L
 1517 E948  7E          RZ6:	LD A,(HL)
 1518 E949  B7          	OR A
 1519 E94A  23          	INC HL
 1520 E94B  20 FB       	JR NZ,RZ6
 1521 E94D  C1          	POP BC
 1522 E94E  E3          	EX (SP),HL
 1523 E94F  C5          	PUSH BC
 1524 E950  EB          	EX DE,HL
 1525 E951  C9          	RET
 1526                    
 1527 E952  C8          DLTE:	RET Z
 1528 E953  CD C986     	CALL 0C986H
 1529 E956  CA C442     	JP Z,0C442H
 1530 E959  CD C8D6     	CALL 0C8D6H
 1531 E95C  D5          	PUSH DE
 1532 E95D  CD C986     	CALL 0C986H
 1533 E960  E1          	POP HL
 1534 E961  C0          	RET NZ
 1535 E962  EB          	EX DE,HL
 1536 E963  E5          	PUSH HL
 1537 E964  CD C4BB     	CALL 0C4BBH
 1538 E967  D2 C44D     	JP NC,0C44DH
 1539 E96A  D1          	POP DE
 1540 E96B  F5          	PUSH AF
 1541 E96C  C5          	PUSH BC
 1542 E96D  CD C4BE     	CALL 0C4BEH
 1543 E970  D2 C44D     	JP NC,0C44DH
 1544 E973  C1          	POP BC
 1545 E974  C3 C450     	JP 0C450H
 1546                    
 1547 E977  CD C8BE     PAUSE:	CALL 0C8BEH
 1548 E97A  20 0D       	JR NZ,PSE2
 1549 E97C  1E 2A       PSE1:	LD E,2AH	;BRKT
 1550 E97E  CD F027     	CALL PV5
 1551 E981  D8          	RET C
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  28
CAOSEI  ASM

 1552 E982  FE 0A       	CP 0AH		;CUD
 1553 E984  20 F6       	JR NZ,PSE1
 1554 E986  C3 DDE4     CONT:	JP 0DDE4H
 1555                    
 1556 E989  CD D421     PSE2:	CALL 0D421H
 1557 E98C  4F          	LD C,A
 1558 E98D  3E 10       PSE3:	LD A,10H
 1559 E98F  1E 14       	LD E,14H	;WAIT
 1560 E991  CD F027     	CALL PV5
 1561 E994  1E 2A       	LD E,2AH	;BRKT
 1562 E996  CD F027     	CALL PV5
 1563 E999  D8          	RET C
 1564 E99A  FE 0A       	CP 0AH
 1565 E99C  28 E8       	JR Z,CONT
 1566 E99E  0D          	DEC C
 1567 E99F  20 EC       	JR NZ,PSE3
 1568 E9A1  C9          	RET
 1569                    
 1570 E9A2  06 01       BEEP:	LD B,1
 1571 E9A4  CD C8BE     	CALL 0C8BEH
 1572 E9A7  28 04       	JR Z,BEEP1
 1573 E9A9  CD D421     	CALL 0D421H
 1574 E9AC  47          	LD B,A
 1575 E9AD  3E 07       BEEP1:	LD A,7
 1576 E9AF  1E 00       	LD E,0
 1577 E9B1  CD F027     	CALL PV5
 1578 E9B4  10 F7       	DJNZ BEEP1
 1579 E9B6  C9          	RET
 1580                    
 1581 E9B7  CD C8D6     MC8D4:	CALL 0C8D6H	;CPCOMM
 1582 E9BA  C3 D421     	JP 0D421H	;ARGVL1
 1583                    
 1584 E9BD  CD C8BE     WNDW:	CALL 0C8BEH	;TCHAR1
 1585 E9C0  28 2E       	JR Z,WDW2	;volles Fenster
 1586 E9C2  CD D421     	CALL 0D421H	;ARGVL1
 1587 E9C5  47          	LD B,A		;WAY>B
 1588 E9C6  C5          	PUSH BC
 1589 E9C7  CD E9B7     	CALL MC8D4	;2. Wert holen
 1590 E9CA  57          	LD D,A		;WEY>D
 1591 E9CB  D5          	PUSH DE
 1592 E9CC  CD E9B7     	CALL MC8D4	;3. Wert holen
 1593 E9CF  D1          	POP DE
 1594 E9D0  5F          	LD E,A		;WAX>E
 1595 E9D1  D5          	PUSH DE
 1596 E9D2  CD E9B7     	CALL MC8D4	;4. Wert holen
 1597 E9D5  D1          	POP DE		;WEX>A
 1598 E9D6  E3          	EX (SP),HL	;WAY>H
 1599 E9D7  6B          	LD L,E		;WAX>L
 1600 E9D8  93          	SUB E
 1601 E9D9  38 5B       	JR C,SNERR2
 1602 E9DB  3C          	INC A
 1603 E9DC  5F          	LD E,A		;WLX>E
 1604 E9DD  7A          	LD A,D		;WEY
 1605 E9DE  94          	SUB H		;WAY
 1606 E9DF  38 55       	JR C,SNERR2
 1607 E9E1  3C          	INC A
 1608 E9E2  57          	LD D,A		;WLY>D
 1609 E9E3  CD F078     WDW1:	CALL IRMON
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  29
CAOSEI  ASM

 1610 E9E6  CD F72D     	CALL WININ0
 1611 E9E9  CD F091     	CALL IRMOFF
 1612 E9EC  38 48       	JR C,SNERR2
 1613 E9EE  E1          	POP HL
 1614 E9EF  C9          	RET
 1615                    
 1616 E9F0  E5          WDW2:	PUSH HL
 1617 E9F1  21 0100     	LD HL,100H
 1618 E9F4  11 1E28     	LD DE,1E28H
 1619 E9F7  18 EA       	JR WDW1
 1620                    
 1621 E9F9  E5          BLOAD:	PUSH HL
 1622 E9FA  21 B781     	LD HL,0B781H
 1623 E9FD  AF          	XOR A
 1624 E9FE  CD EBE8     	CALL RLDMA
 1625 EA01  E1          	POP HL
 1626 EA02  1E 10       	LD E,10H
 1627 EA04  C3 F027     	JP PV5
 1628                    
 1629 EA07  CD CDE1     VPEEK:	CALL 0CDE1H
 1630 EA0A  E3          	EX (SP),HL
 1631 EA0B  11 CDF3     	LD DE,0CDF3H
 1632 EA0E  D5          	PUSH DE
 1633 EA0F  CD C96F     	CALL 0C96FH
 1634 EA12  E5          	PUSH HL
 1635 EA13  21 8000     	LD HL,8000H
 1636 EA16  19          	ADD HL,DE
 1637 EA17  38 1D       	JR C,SNERR2
 1638 EA19  CB 74       	BIT 6,H
 1639 EA1B  20 19       	JR NZ,SNERR2
 1640 EA1D  CD EBE3     	CALL RLDAM
 1641 EA20  E1          	POP HL
 1642 EA21  C3 D3E9     	JP 0D3E9H
 1643                    
 1644 EA24  CD C96C     VPOKE:	CALL 0C96CH
 1645 EA27  D5          	PUSH DE
 1646 EA28  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1647 EA2B  E3          	EX (SP),HL
 1648 EA2C  11 8000     	LD DE,8000H
 1649 EA2F  19          	ADD HL,DE
 1650 EA30  38 04       	JR C,SNERR2
 1651 EA32  CB 74       	BIT 6,H
 1652 EA34  28 71       	JR Z,JLDMA
 1653 EA36  C3 C348     SNERR2:	JP 0C348H
 1654                    
 1655 EA39  3A 03FD     AT:	LD A,(3FDH)
 1656 EA3C  CB 4F       	BIT 1,A
 1657 EA3E  CB CF       	SET 1,A
 1658 EA40  32 03FD     	LD (3FDH),A
 1659 EA43  20 F1       	JR NZ,SNERR2
 1660 EA45  D5          	PUSH DE
 1661 EA46  E5          	PUSH HL
 1662 EA47  CD F078     	CALL IRMON
 1663 EA4A  21 0000     	LD HL,0
 1664 EA4D  11 2028     	LD DE,2028H
 1665 EA50  CD F72D     	CALL WININ0
 1666 EA53  CD F091     	CALL IRMOFF
 1667 EA56  E1          	POP HL
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  30
CAOSEI  ASM

 1668 EA57  CD EABD     	CALL SUARG
 1669 EA5A  CD C8DB     	CALL 0C8DBH
 1670 EA5D  CD C8CC     	CALL 0C8CCH
 1671 EA60  3B          	DEFB ';'
 1672 EA61  7E          	LD A,(HL)
 1673 EA62  FE DF       	CP 0DFH
 1674 EA64  38 18       	JR C,AT2
 1675 EA66  FE E3       	CP 0E3H
 1676 EA68  30 14       	JR NC,AT2
 1677 EA6A  CD E690     	CALL RBE2
 1678 EA6D  E5          AT1:	PUSH HL
 1679 EA6E  CD F078     	CALL IRMON
 1680 EA71  3A B79B     	LD A,(0B79BH)
 1681 EA74  CD F74F     	CALL WINAK1
 1682 EA77  CD F091     	CALL IRMOFF
 1683 EA7A  E1          	POP HL
 1684 EA7B  D1          	POP DE
 1685 EA7C  C1          	POP BC
 1686 EA7D  C9          	RET
 1687                    
 1688 EA7E  CD CB03     AT2:	CALL 0CB03H
 1689 EA81  18 EA       	JR AT1
 1690                    
 1691 EA83  CD D421     INK:	CALL 0D421H
 1692 EA86  FE 20       	CP 20H
 1693 EA88  30 AC       	JR NC,SNERR2
 1694 EA8A  87          	ADD A
 1695 EA8B  87          	ADD A
 1696 EA8C  87          	ADD A
 1697 EA8D  57          	LD D,A
 1698 EA8E  CD E670     	CALL LOCOL
 1699 EA91  E6 07       	AND 7
 1700 EA93  18 0D       	JR LDCOL
 1701                    
 1702 EA95  CD D421     PAPER:	CALL 0D421H
 1703 EA98  FE 08       	CP 8
 1704 EA9A  30 9A       	JR NC,SNERR2
 1705 EA9C  57          	LD D,A
 1706 EA9D  CD E670     	CALL LOCOL
 1707 EAA0  E6 F8       	AND 0F8H
 1708 EAA2  B2          LDCOL:	OR D
 1709 EAA3  E5          	PUSH HL
 1710 EAA4  21 B7A3     	LD HL,0B7A3H
 1711 EAA7  CD EBE8     JLDMA:	CALL RLDMA
 1712 EAAA  E1          	POP HL
 1713 EAAB  C9          	RET
 1714                    
 1715 EAAC  CD C8BE     COLR:	CALL 0C8BEH
 1716 EAAF  28 85       	JR Z,SNERR2
 1717 EAB1  CD EA83     	CALL INK
 1718 EAB4  CD C8BE     	CALL 0C8BEH
 1719 EAB7  C8          	RET Z
 1720 EAB8  CD C8D6     	CALL 0C8D6H
 1721 EABB  18 D8       	JR PAPER
 1722                    
 1723 EABD  CD C8BD     SUARG:	CALL 0C8BDH
 1724 EAC0  CD C8CC     	CALL 0C8CCH
 1725 EAC3  28          	DEFB '('
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  31
CAOSEI  ASM

 1726                    
 1727 EAC4  CD D421     LOCAT:	CALL 0D421H
 1728 EAC7  57          	LD D,A
 1729 EAC8  D5          	PUSH DE
 1730 EAC9  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1731 EACC  D1          	POP DE
 1732 EACD  5F          	LD E,A
 1733 EACE  CD F078     	CALL IRMON
 1734 EAD1  CD E0B1     	CALL TCIF
 1735 EAD4  38 04       	JR C,LOCAT1
 1736 EAD6  ED 53 B7A0  	LD (0B7A0H),DE
 1737 EADA  CD F091     LOCAT1:	CALL IRMOFF
 1738 EADD  D0          	RET NC
 1739 EADE  C3 C348     SNERR3:	JP 0C348H
 1740                    
 1741 EAE1  E5          INKEY:	PUSH HL
 1742 EAE2  CD E3F1     	CALL KBDS
 1743 EAE5  30 0F       	JR NC,IKY2
 1744 EAE7  3E 01       	LD A,1
 1745 EAE9  CD D17B     	CALL 0D17BH
 1746 EAEC  CD DDE4     	CALL 0DDE4H
 1747 EAEF  2A 03C2     AKTCHR:	LD HL,(3C2H)
 1748 EAF2  77          	LD (HL),A
 1749 EAF3  C3 D1A9     IKY1:	JP 0D1A9H
 1750                    
 1751 EAF6  AF          IKY2:	XOR A
 1752 EAF7  CD D17B     	CALL 0D17BH
 1753 EAFA  18 F7       	JR IKY1
 1754                    
 1755 EAFC  CD D421     SOUND:	CALL 0D421H
 1756 EAFF  E5          	PUSH HL
 1757 EB00  21 B782     	LD HL,0B782H	;ARG1
 1758 EB03  06 04       	LD B,4		;4 Argumente
 1759 EB05  CD EBE8     SNDS:	CALL RLDMA	;in IRM schreiben
 1760 EB08  23          	INC HL
 1761 EB09  E3          	EX (SP),HL
 1762 EB0A  05          	DEC B
 1763 EB0B  28 08       	JR Z,SND2
 1764 EB0D  C5          	PUSH BC
 1765 EB0E  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1766 EB11  C1          	POP BC
 1767 EB12  E3          	EX (SP),HL
 1768 EB13  18 F0       	JR SNDS
 1769                    
 1770 EB15  CD C8BE     SND2:	CALL 0C8BEH
 1771 EB18  28 16       	JR Z,SND3
 1772 EB1A  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1773 EB1D  E3          	EX (SP),HL
 1774 EB1E  CD EBE8     	CALL RLDMA
 1775 EB21  23          	INC HL
 1776 EB22  E3          	EX (SP),HL
 1777 EB23  CD C8BE     	CALL 0C8BEH
 1778 EB26  28 08       	JR Z,SND3
 1779 EB28  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1780 EB2B  E3          	EX (SP),HL
 1781 EB2C  CD EBE8     	CALL RLDMA
 1782 EB2F  E3          	EX (SP),HL
 1783 EB30  1E 35       SND3:	LD E,35H
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  32
CAOSEI  ASM

 1784 EB32  C1          	POP BC
 1785 EB33  C3 F027     	JP PV5
 1786                    
 1787 EB36  1E 2F       PRES:	LD E,2FH
 1788 EB38  01          	DEFB 1
 1789 EB39  1E 30       PSET:	LD E,30H
 1790 EB3B  D5          	PUSH DE
 1791 EB3C  CD C96C     	CALL 0C96CH	;EPRVL4
 1792 EB3F  E5          	PUSH HL
 1793 EB40  21 B7D3     	LD HL,0B7D3H	;HOR
 1794 EB43  CD EC33     	CALL LDMDE
 1795 EB46  E3          	EX (SP),HL
 1796 EB47  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1797 EB4A  E3          	EX (SP),HL
 1798 EB4B  CD EBE8     	CALL RLDMA
 1799 EB4E  E1          	POP HL
 1800 EB4F  CD EB59     	CALL SUCOL
 1801 EB52  D1          	POP DE
 1802 EB53  CD F027     PNT2:	CALL PV5
 1803 EB56  D0          	RET NC
 1804 EB57  18 85       	JR SNERR3
 1805                    
 1806 EB59  CD C8BE     SUCOL:	CALL 0C8BEH
 1807 EB5C  C8          	RET Z
 1808 EB5D  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1809 EB60  E5          	PUSH HL
 1810 EB61  21 B7D6     	LD HL,0B7D6H
 1811 EB64  07          	RLCA
 1812 EB65  07          	RLCA
 1813 EB66  07          	RLCA
 1814 EB67  C3 EAA7     	JP JLDMA
 1815                    
 1816 EB6A  CD CD36     INSTR:	CALL 0CD36H
 1817 EB6D  CD C8D6     	CALL 0C8D6H
 1818 EB70  E5          	PUSH HL
 1819 EB71  CD D330     	CALL 0D330H
 1820 EB74  28 17       	JR Z,FCERR
 1821 EB76  47          	LD B,A
 1822 EB77  23          	INC HL
 1823 EB78  23          	INC HL
 1824 EB79  5E          	LD E,(HL)
 1825 EB7A  23          	INC HL
 1826 EB7B  56          	LD D,(HL)
 1827 EB7C  E1          	POP HL
 1828 EB7D  D5          	PUSH DE
 1829 EB7E  C5          	PUSH BC
 1830 EB7F  CD CD3A     	CALL 0CD3AH
 1831 EB82  CD C8DB     	CALL 0C8DBH
 1832 EB85  C1          	POP BC
 1833 EB86  D1          	POP DE
 1834 EB87  E5          	PUSH HL
 1835 EB88  D5          	PUSH DE
 1836 EB89  C5          	PUSH BC
 1837 EB8A  CD D330     	CALL 0D330H
 1838 EB8D  CA C967     FCERR:	JP Z,0C967H
 1839 EB90  23          	INC HL
 1840 EB91  23          	INC HL
 1841 EB92  4E          	LD C,(HL)
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  33
CAOSEI  ASM

 1842 EB93  23          	INC HL
 1843 EB94  66          	LD H,(HL)
 1844 EB95  69          	LD L,C
 1845 EB96  C1          	POP BC
 1846 EB97  4F          	LD C,A
 1847 EB98  D1          	POP DE
 1848 EB99  E5          	PUSH HL
 1849 EB9A  C5          ISTR1:	PUSH BC
 1850 EB9B  D5          	PUSH DE
 1851 EB9C  1A          	LD A,(DE)
 1852 EB9D  BE          ISTR2:	CP (HL)
 1853 EB9E  28 0F       	JR Z,ISTR5
 1854 EBA0  23          	INC HL
 1855 EBA1  0D          	DEC C
 1856 EBA2  20 F9       	JR NZ,ISTR2
 1857 EBA4  AF          ISTR3:	XOR A
 1858 EBA5  E1          	POP HL
 1859 EBA6  E1          	POP HL
 1860 EBA7  E1          	POP HL
 1861 EBA8  11 CDF3     ISTR4:	LD DE,0CDF3H
 1862 EBAB  D5          	PUSH DE
 1863 EBAC  C3 D0C0     	JP 0D0C0H
 1864                    
 1865 EBAF  23          ISTR5:	INC HL
 1866 EBB0  E5          	PUSH HL
 1867 EBB1  2B          	DEC HL
 1868 EBB2  23          ISTR6:	INC HL
 1869 EBB3  0D          	DEC C
 1870 EBB4  28 0F       	JR Z,ISTR7
 1871 EBB6  13          	INC DE
 1872 EBB7  05          	DEC B
 1873 EBB8  28 12       	JR Z,ISTR8
 1874 EBBA  1A          	LD A,(DE)
 1875 EBBB  BE          	CP (HL)
 1876 EBBC  28 F4       	JR Z,ISTR6
 1877 EBBE  E1          	POP HL
 1878 EBBF  D1          	POP DE
 1879 EBC0  79          	LD A,C
 1880 EBC1  C1          	POP BC
 1881 EBC2  4F          	LD C,A
 1882 EBC3  18 D5       	JR ISTR1
 1883                    
 1884 EBC5  13          ISTR7:	INC DE
 1885 EBC6  05          	DEC B
 1886 EBC7  E1          	POP HL
 1887 EBC8  20 DA       	JR NZ,ISTR3
 1888 EBCA  18 01       	JR ISTR9
 1889                    
 1890 EBCC  E1          ISTR8:	POP HL
 1891 EBCD  D1          ISTR9:	POP DE
 1892 EBCE  D1          	POP DE
 1893 EBCF  D1          	POP DE
 1894 EBD0  A7          	AND A
 1895 EBD1  ED 52       	SBC HL,DE
 1896 EBD3  7D          	LD A,L
 1897 EBD4  18 D2       	JR ISTR4
 1898                    
 1899 EBD6  CD D421     BKEY:	CALL 0D421H
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  34
CAOSEI  ASM

 1900 EBD9  FE 0D       	CP 0DH
 1901 EBDB  30 53       	JR NC,SNERR4
 1902 EBDD  1E 39       	LD E,39H
 1903 EBDF  01          	DEFB 1
 1904 EBE0  1E 3A       KLST:	LD E,3AH
 1905 EBE2  01          	DEFB 1
 1906 EBE3  1E 29       RLDAM:	LD E,29H
 1907 EBE5  C3 F027     JPV5:	JP PV5
 1908                    
 1909 EBE8  1E 28       RLDMA:	LD E,28H
 1910 EBEA  18 F9       	JR JPV5
 1911                    
 1912 EBEC  CD D421     SWTCH:	CALL 0D421H
 1913 EBEF  F5          	PUSH AF
 1914 EBF0  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1915 EBF3  57          	LD D,A
 1916 EBF4  F1          	POP AF
 1917 EBF5  E5          	PUSH HL
 1918 EBF6  6F          	LD L,A
 1919 EBF7  3E 02       	LD A,2
 1920 EBF9  1E 26       	LD E,26H
 1921 EBFB  CD F027     	CALL PV5
 1922 EBFE  E1          	POP HL
 1923 EBFF  C9          	RET
 1924                    
 1925 EC00  CD CDE1     PTEST:	CALL 0CDE1H
 1926 EC03  E3          	EX (SP),HL
 1927 EC04  11 CDF3     	LD DE,0CDF3H
 1928 EC07  D5          	PUSH DE
 1929 EC08  CD C96F     	CALL 0C96FH
 1930 EC0B  E5          	PUSH HL
 1931 EC0C  21 B7D3     	LD HL,0B7D3H
 1932 EC0F  CD EC33     	CALL LDMDE
 1933 EC12  CD F078     	CALL IRMON
 1934 EC15  1E 2F       	LD E,2FH
 1935 EC17  CD F063     	CALL PV3
 1936 EC1A  38 0D       	JR C,PTST2
 1937 EC1C  06 00       	LD B,0
 1938 EC1E  28 08       	JR Z,PTST1
 1939 EC20  23          	INC HL
 1940 EC21  77          	LD (HL),A
 1941 EC22  1C          	INC E
 1942 EC23  CD F063     	CALL PV3
 1943 EC26  06 01       	LD B,1
 1944 EC28  78          PTST1:	LD A,B
 1945 EC29  CD F091     PTST2:	CALL IRMOFF
 1946 EC2C  E1          	POP HL
 1947 EC2D  D2 D3E9     	JP NC,0D3E9H
 1948                    
 1949 EC30  C3 C348     SNERR4:	JP 0C348H
 1950                    
 1951 EC33  7B          LDMDE:	LD A,E
 1952 EC34  CD EBE8     	CALL RLDMA
 1953 EC37  23          	INC HL
 1954 EC38  7A          	LD A,D
 1955 EC39  CD EBE8     	CALL RLDMA
 1956 EC3C  23          	INC HL
 1957 EC3D  C9          	RET
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  35
CAOSEI  ASM

 1958                    
 1959 EC3E  0E 00       CLOSE:	LD C,0
 1960 EC40  7E          	LD A,(HL)
 1961 EC41  FE 49       	CP 'I'
 1962 EC43  28 05       	JR Z,CL1
 1963 EC45  0C          	INC C
 1964 EC46  FE 4F       	CP 'O'
 1965 EC48  20 E6       	JR NZ,SNERR4
 1966 EC4A  C5          CL1:	PUSH BC
 1967 EC4B  23          	INC HL
 1968 EC4C  7E          	LD A,(HL)
 1969 EC4D  FE 23       	CP '#'
 1970 EC4F  20 DF       CL2:	JR NZ,SNERR4
 1971 EC51  23          	INC HL
 1972 EC52  CD D421     	CALL 0D421H
 1973 EC55  E6 03       	AND 3
 1974 EC57  C1          	POP BC
 1975 EC58  C8          	RET Z
 1976 EC59  E5          	PUSH HL
 1977 EC5A  CB 17       	RL A
 1978 EC5C  81          	ADD C
 1979 EC5D  F5          	PUSH AF
 1980 EC5E  3D          	DEC A
 1981 EC5F  06 00       	LD B,0
 1982 EC61  37          	SCF
 1983 EC62  CB 10       CL3:	RL B
 1984 EC64  3D          	DEC A
 1985 EC65  20 FB       	JR NZ,CL3
 1986 EC67  21 0307     	LD HL,307H
 1987 EC6A  7E          	LD A,(HL)
 1988 EC6B  A8          	XOR B
 1989 EC6C  77          	LD (HL),A
 1990 EC6D  F1          	POP AF
 1991 EC6E  E1          	POP HL
 1992 EC6F  CB F7       	SET 6,A
 1993 EC71  D5          	PUSH DE
 1994 EC72  5F          	LD E,A
 1995 EC73  16 03       	LD D,3
 1996 EC75  CD E5FE     	CALL BASPV
 1997 EC78  D1          	POP DE
 1998 EC79  C9          	RET
 1999                    
 2000 EC7A  ED 5F       RND:	LD A,R
 2001 EC7C  32 031D     	LD (31DH),A
 2002 EC7F  C9          	RET
 2003                    
 2004 EC80  7E          OPEN:	LD A,(HL)
 2005 EC81  23          	INC HL
 2006 EC82  FE 49       	CP 'I'
 2007 EC84  28 19       	JR Z,OPENI
 2008 EC86  FE 4F       	CP 'O'
 2009 EC88  20 C5       	JR NZ,CL2
 2010 EC8A  CD DE25     	CALL 0DE25H
 2011 EC8D  CD DDC8     	CALL 0DDC8H
 2012 EC90  C8          	RET Z
 2013 EC91  3E D5       	LD A,0D5H
 2014 EC93  CD DCB2     	CALL 0DCB2H
 2015 EC96  21 03EA     	LD HL,3EAH
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  36
CAOSEI  ASM

 2016 EC99  AF          	XOR A
 2017 EC9A  CD DDD5     	CALL 0DDD5H
 2018 EC9D  E1          	POP HL
 2019 EC9E  C9          	RET
 2020                    
 2021 EC9F  CD DE5F     OPENI:	CALL 0DE5FH
 2022 ECA2  3A 0309     	LD A,(309H)
 2023 ECA5  E6 03       	AND 3
 2024 ECA7  C8          	RET Z
 2025 ECA8  3E D5       	LD A,0D5H
 2026 ECAA  CD DCB2     	CALL 0DCB2H
 2027 ECAD  21 03EA     	LD HL,3EAH
 2028 ECB0  CD DDE4     	CALL 0DDE4H
 2029 ECB3  E1          	POP HL
 2030 ECB4  C9          	RET
 2031                    
 2032 ECB5  01 043E     BLINE:	LD BC,43EH
 2033 ECB8  18 03       	JR PIC1
 2034                    
 2035 ECBA  01 033F     CIRCL:	LD BC,33FH
 2036                    
 2037 ECBD  C5          PIC1:	PUSH BC
 2038 ECBE  CD C96C     	CALL 0C96CH
 2039 ECC1  C1          	POP BC
 2040 ECC2  C5          	PUSH BC
 2041 ECC3  E5          	PUSH HL
 2042 ECC4  21 B782     	LD HL,0B782H
 2043 ECC7  CD EC33     PIC2:	CALL LDMDE
 2044 ECCA  05          	DEC B
 2045 ECCB  28 0C       	JR Z,PIC3
 2046 ECCD  E3          	EX (SP),HL
 2047 ECCE  C5          	PUSH BC
 2048 ECCF  CD C8D6     	CALL 0C8D6H
 2049 ECD2  CD C96C     	CALL 0C96CH
 2050 ECD5  C1          	POP BC
 2051 ECD6  E3          	EX (SP),HL
 2052 ECD7  18 EE       	JR PIC2
 2053                    
 2054 ECD9  E1          PIC3:	POP HL
 2055 ECDA  CD EB59     	CALL SUCOL
 2056 ECDD  D1          	POP DE
 2057 ECDE  C3 F027     	JP PV5
 2058                    
 2059 ECE1  CD CDE1     CSRLIN:	CALL 0CDE1H
 2060 ECE4  E3          	EX (SP),HL
 2061 ECE5  11 CDF3     	LD DE,0CDF3H
 2062 ECE8  D5          	PUSH DE
 2063 ECE9  CD D424     	CALL 0D424H
 2064 ECEC  E5          	PUSH HL
 2065 ECED  A7          	AND A
 2066 ECEE  3E 00       	LD A,0
 2067 ECF0  21 B79D     	LD HL,0B79DH
 2068 ECF3  CC EBE3     	CALL Z,RLDAM
 2069 ECF6  47          	LD B,A
 2070 ECF7  2E A1       	LD L,0A1H
 2071 ECF9  CD EBE3     	CALL RLDAM
 2072 ECFC  80          	ADD B
 2073 ECFD  E1          	POP HL
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  37
CAOSEI  ASM

 2074 ECFE  C3 D3E9     	JP 0D3E9H
 2075                    
 2076 ED01  E3          VGET:	EX (SP),HL
 2077 ED02  3E 01       	LD A,1
 2078 ED04  CD D17B     	CALL 0D17BH
 2079 ED07  CD F078     	CALL IRMON
 2080 ED0A  ED 5B B7A0  	LD DE,(0B7A0H)
 2081 ED0E  CD E0BD     	CALL DABR
 2082 ED11  7E          	LD A,(HL)
 2083 ED12  CD F091     	CALL IRMOFF
 2084 ED15  C3 EAEF     	JP AKTCHR
 2085                    
 2086                   ;	BASIC-TOKEN
 2087                   ;	===========
 2088                    
 2089 ED18  C9          TOKTAB:	DEFB 'I'+80H	;TOKEN AB D5
 2090 ED19  4E 4B 45 59 	DEFM 'NKEY$'
 2091 ED1E  CA          	DEFB 'J'+80H
 2092 ED1F  4F 59 53 54 	DEFM 'OYST'
 2093 ED23  D3          	DEFB 'S'+80H
 2094 ED24  54 52 49 4E 	DEFM 'TRING$'
 2095 ED2A  C9          	DEFB 'I'+80H
 2096 ED2B  4E 53 54 52 	DEFM 'NSTR'
 2097 ED2F  D2          	DEFB 'R'+80H
 2098 ED30  45 4E 55 4D 	DEFM 'ENUMBER'
 2099 ED37  C4          	DEFB 'D'+80H
 2100 ED38  45 4C 45 54 	DEFM 'ELETE'
 2101 ED3D  D0          	DEFB 'P'+80H
 2102 ED3E  41 55 53 45 	DEFM 'AUSE'
 2103 ED42  C2          	DEFB 'B'+80H
 2104 ED43  45 45 50    	DEFM 'EEP'
 2105 ED46  D7          	DEFB 'W'+80H
 2106 ED47  49 4E 44 4F 	DEFM 'INDOW'
 2107 ED4C  C2          	DEFB 'B'+80H
 2108 ED4D  4F 52 44 45 	DEFM 'ORDER'
 2109 ED52  C9          	DEFB 'I'+80H
 2110 ED53  4E 4B       	DEFM 'NK'
 2111 ED55  D0          	DEFB 'P'+80H
 2112 ED56  41 50 45 52 	DEFM 'APER'
 2113 ED5A  C1          	DEFB 'A'+80H
 2114 ED5B  54          	DEFM 'T'
 2115 ED5C  C3          	DEFB 'C'+80H
 2116 ED5D  4F 4C 4F 52 	DEFM 'OLOR'
 2117 ED61  D3          	DEFB 'S'+80H
 2118 ED62  4F 55 4E 44 	DEFM 'OUND'
 2119 ED66  D0          	DEFB 'P'+80H
 2120 ED67  53 45 54    	DEFM 'SET'
 2121 ED6A  D0          	DEFB 'P'+80H
 2122 ED6B  52 45 53 45 	DEFM 'RESET'
 2123 ED70  C2          	DEFB 'B'+80H
 2124 ED71  4C 4F 41 44 	DEFM 'LOAD'
 2125 ED75  D6          	DEFB 'V'+80H
 2126 ED76  50 45 45 4B 	DEFM 'PEEK'
 2127 ED7A  D6          	DEFB 'V'+80H
 2128 ED7B  50 4F 4B 45 	DEFM 'POKE'
 2129 ED7F  CC          	DEFB 'L'+80H
 2130 ED80  4F 43 41 54 	DEFM 'OCATE'
 2131 ED85  CB          	DEFB 'K'+80H
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  38
CAOSEI  ASM

 2132 ED86  45 59 4C 49 	DEFM 'EYLIST'
 2133 ED8C  CB          	DEFB 'K'+80H
 2134 ED8D  45 59       	DEFM 'EY'
 2135 ED8F  D3          	DEFB 'S'+80H
 2136 ED90  57 49 54 43 	DEFM 'WITCH'
 2137 ED95  D0          	DEFB 'P'+80H
 2138 ED96  54 45 53 54 	DEFM 'TEST'
 2139 ED9A  C3          	DEFB 'C'+80H
 2140 ED9B  4C 4F 53 45 	DEFM 'LOSE'
 2141 ED9F  CF          	DEFB 'O'+80H
 2142 EDA0  50 45 4E    	DEFM 'PEN'
 2143 EDA3  D2          	DEFB 'R'+80H
 2144 EDA4  41 4E 44 4F 	DEFM 'ANDOMIZE'
 2145 EDAC  D6          	DEFB 'V'+80H
 2146 EDAD  47 45 54 24 	DEFM 'GET$'
 2147 EDB1  CC          	DEFB 'L'+80H
 2148 EDB2  49 4E 45    	DEFM 'INE'
 2149 EDB5  C3          	DEFB 'C'+80H
 2150 EDB6  49 52 43 4C 	DEFM 'IRCLE'
 2151 EDBB  C3          	DEFB 'C'+80H
 2152 EDBC  53 52 4C 49 	DEFM 'SRLIN'
 2153 EDC1  80          	DEFB 80H	;ENDE-BYTE
 2154                    
 2155 EDC2  EAE1        TOKADR:	DEFW INKEY
 2156 EDC4  02FD        	DEFW 2FDH	;JOY
 2157 EDC6  E714        	DEFW STR
 2158 EDC8  EB6A        	DEFW INSTR
 2159 EDCA  E773        TADR5:	DEFW REN
 2160 EDCC  E952        	DEFW DLTE
 2161 EDCE  E977        	DEFW PAUSE
 2162 EDD0  E9A2        	DEFW BEEP
 2163 EDD2  E9BD        	DEFW WNDW
 2164 EDD4  D421        	DEFW 0D421H	;BORDER
 2165 EDD6  EA83        	DEFW INK
 2166 EDD8  EA95        	DEFW PAPER
 2167 EDDA  C348        	DEFW 0C348H	;AT
 2168 EDDC  EAAC        	DEFW COLR
 2169 EDDE  EAFC        	DEFW SOUND
 2170 EDE0  EB39        	DEFW PSET
 2171 EDE2  EB36        	DEFW PRES
 2172 EDE4  E9F9        	DEFW BLOAD
 2173 EDE6  C348        	DEFW 0C348H	;VPEEK
 2174 EDE8  EA24        	DEFW VPOKE
 2175 EDEA  EAC4        	DEFW LOCAT
 2176 EDEC  EBE0        	DEFW KLST
 2177 EDEE  EBD6        	DEFW BKEY
 2178 EDF0  EBEC        	DEFW SWTCH
 2179 EDF2  C348        	DEFW 0C348H	;PTEST
 2180 EDF4  EC3E        	DEFW CLOSE
 2181 EDF6  EC80        	DEFW OPEN
 2182 EDF8  EC7A        	DEFW RND
 2183 EDFA  C348        	DEFW 0C348H	;VGET
 2184 EDFC  ECB5        	DEFW BLINE
 2185 EDFE  ECBA        	DEFW CIRCL
 2186                    
 2187                   ;	END
   16                   include zsgr34.inc		; Zeichensatz Grossbuchstaben
    1                   ;*****************************************
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  39
ZSGR34  INC

    2                   ;**	CAOS 3.4 Zeichensatz Gross	**
    3                   ;**					**
    4                   ;**	Adresse:  EE00h bis EFFFh	**
    5                   ;**	Codes 20h-5Fh			**
    6                   ;**					**
    7                   ;**	letzte Aenderung: 19.08.2023	**
    8                   ;*****************************************
    9                   
   10                   ; 19.08.2023: Codes aus ROM-Images regeneriert
   11                   
   12 EE00  00 00 00 00 	DB	000H, 000H, 000H, 000H, 000H, 000H, 000H, 000H	; 20H
   13 EE08  30 30 30 30 	DB	030H, 030H, 030H, 030H, 030H, 000H, 030H, 000H	; 21H !
   14 EE10  77 33 66 00 	DB	077H, 033H, 066H, 000H, 000H, 000H, 000H, 000H	; 22H "
   15 EE18  36 36 FE 6C 	DB	036H, 036H, 0FEH, 06CH, 0FEH, 0D8H, 0D8H, 000H	; 23H #
   16 EE20  18 3E 6C 3E 	DB	018H, 03EH, 06CH, 03EH, 01BH, 01BH, 07EH, 018H	; 24H $
   17 EE28  00 C6 CC 18 	DB	000H, 0C6H, 0CCH, 018H, 030H, 066H, 0C6H, 000H	; 25H %
   18 EE30  38 6C 38 76 	DB	038H, 06CH, 038H, 076H, 0DCH, 0CCH, 076H, 000H	; 26H &
   19 EE38  1C 0C 18 00 	DB	01CH, 00CH, 018H, 000H, 000H, 000H, 000H, 000H	; 27H '
   20 EE40  18 30 60 60 	DB	018H, 030H, 060H, 060H, 060H, 030H, 018H, 000H	; 28H (
   21 EE48  60 30 18 18 	DB	060H, 030H, 018H, 018H, 018H, 030H, 060H, 000H	; 29H )
   22 EE50  00 66 3C FF 	DB	000H, 066H, 03CH, 0FFH, 03CH, 066H, 000H, 000H	; 2AH *
   23 EE58  00 30 30 FC 	DB	000H, 030H, 030H, 0FCH, 030H, 030H, 000H, 000H	; 2BH +
   24 EE60  00 00 00 00 	DB	000H, 000H, 000H, 000H, 000H, 01CH, 00CH, 018H	; 2CH ,
   25 EE68  00 00 00 FE 	DB	000H, 000H, 000H, 0FEH, 000H, 000H, 000H, 000H	; 2DH -
   26 EE70  00 00 00 00 	DB	000H, 000H, 000H, 000H, 000H, 030H, 030H, 000H	; 2EH .
   27 EE78  06 0C 18 30 	DB	006H, 00CH, 018H, 030H, 060H, 0C0H, 080H, 000H	; 2FH /
   28                   
   29 EE80  7C C6 CE DE 	DB	07CH, 0C6H, 0CEH, 0DEH, 0F6H, 0E6H, 07CH, 000H	; 30H 0
   30 EE88  30 70 30 30 	DB	030H, 070H, 030H, 030H, 030H, 030H, 0FCH, 000H	; 31H 1
   31 EE90  78 CC 0C 38 	DB	078H, 0CCH, 00CH, 038H, 060H, 0CCH, 0FCH, 000H	; 32H 2
   32 EE98  FC 18 30 78 	DB	0FCH, 018H, 030H, 078H, 00CH, 0CCH, 078H, 000H	; 33H 3
   33 EEA0  1C 3C 6C CC 	DB	01CH, 03CH, 06CH, 0CCH, 0FEH, 00CH, 01EH, 000H	; 34H 4
   34 EEA8  FC C0 F8 0C 	DB	0FCH, 0C0H, 0F8H, 00CH, 00CH, 0CCH, 078H, 000H	; 35H 5
   35 EEB0  38 60 C0 F8 	DB	038H, 060H, 0C0H, 0F8H, 0CCH, 0CCH, 078H, 000H	; 36H 6
   36 EEB8  FC CC 0C 18 	DB	0FCH, 0CCH, 00CH, 018H, 030H, 030H, 030H, 000H	; 37H 7
   37 EEC0  78 CC CC 78 	DB	078H, 0CCH, 0CCH, 078H, 0CCH, 0CCH, 078H, 000H	; 38H 8
   38 EEC8  78 CC CC 7C 	DB	078H, 0CCH, 0CCH, 07CH, 00CH, 018H, 070H, 000H	; 39H 9
   39 EED0  00 00 30 30 	DB	000H, 000H, 030H, 030H, 000H, 030H, 030H, 000H	; 3AH :
   40 EED8  00 00 30 30 	DB	000H, 000H, 030H, 030H, 000H, 030H, 030H, 060H	; 3BH ;
   41 EEE0  18 30 60 C0 	DB	018H, 030H, 060H, 0C0H, 060H, 030H, 018H, 000H	; 3CH <
   42 EEE8  00 00 FC 00 	DB	000H, 000H, 0FCH, 000H, 0FCH, 000H, 000H, 000H	; 3DH =
   43 EEF0  60 30 18 0C 	DB	060H, 030H, 018H, 00CH, 018H, 030H, 060H, 000H	; 3EH >
   44 EEF8  78 CC 0C 18 	DB	078H, 0CCH, 00CH, 018H, 030H, 000H, 030H, 000H	; 3FH ?
   45                   
   46 EF00  7C C6 DE DE 	DB	07CH, 0C6H, 0DEH, 0DEH, 0DEH, 0C0H, 078H, 000H	; 40H @
   47 EF08  30 78 CC CC 	DB	030H, 078H, 0CCH, 0CCH, 0FCH, 0CCH, 0CCH, 000H	; 41H A
   48 EF10  FC 66 66 7C 	DB	0FCH, 066H, 066H, 07CH, 066H, 066H, 0FCH, 000H	; 42H B
   49 EF18  3C 66 C0 C0 	DB	03CH, 066H, 0C0H, 0C0H, 0C0H, 066H, 03CH, 000H	; 43H C
   50 EF20  F8 6C 66 66 	DB	0F8H, 06CH, 066H, 066H, 066H, 06CH, 0F8H, 000H	; 44H D
   51 EF28  FE 62 68 78 	DB	0FEH, 062H, 068H, 078H, 068H, 062H, 0FEH, 000H	; 45H E
   52 EF30  FE 62 68 78 	DB	0FEH, 062H, 068H, 078H, 068H, 060H, 0F0H, 000H	; 46H F
   53 EF38  3C 66 C0 C0 	DB	03CH, 066H, 0C0H, 0C0H, 0CEH, 066H, 03CH, 000H	; 47H G
   54 EF40  CC CC CC FC 	DB	0CCH, 0CCH, 0CCH, 0FCH, 0CCH, 0CCH, 0CCH, 000H	; 48H H
   55 EF48  78 30 30 30 	DB	078H, 030H, 030H, 030H, 030H, 030H, 078H, 000H	; 49H I
   56 EF50  1E 0C 0C 0C 	DB	01EH, 00CH, 00CH, 00CH, 0CCH, 0CCH, 078H, 000H	; 4AH J
   57 EF58  E6 66 6C 70 	DB	0E6H, 066H, 06CH, 070H, 06CH, 066H, 0E6H, 000H	; 4BH K
   58 EF60  F0 60 60 60 	DB	0F0H, 060H, 060H, 060H, 062H, 066H, 0FEH, 000H	; 4CH L
   59 EF68  C6 EE FE D6 	DB	0C6H, 0EEH, 0FEH, 0D6H, 0C6H, 0C6H, 0C6H, 000H	; 4DH M
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  40
ZSGR34  INC

   60 EF70  C6 E6 F6 DE 	DB	0C6H, 0E6H, 0F6H, 0DEH, 0CEH, 0C6H, 0C6H, 000H	; 4EH N
   61 EF78  38 6C C6 C6 	DB	038H, 06CH, 0C6H, 0C6H, 0C6H, 06CH, 038H, 000H	; 4FH O
   62                   
   63 EF80  FC 66 66 7C 	DB	0FCH, 066H, 066H, 07CH, 060H, 060H, 0F0H, 000H	; 50H P
   64 EF88  78 CC CC CC 	DB	078H, 0CCH, 0CCH, 0CCH, 0DCH, 078H, 01CH, 000H	; 51H Q
   65 EF90  FC 66 66 7C 	DB	0FCH, 066H, 066H, 07CH, 06CH, 066H, 0E6H, 000H	; 52H R
   66 EF98  7C C6 F0 3C 	DB	07CH, 0C6H, 0F0H, 03CH, 00EH, 0C6H, 07CH, 000H	; 53H S
   67 EFA0  FC B4 30 30 	DB	0FCH, 0B4H, 030H, 030H, 030H, 030H, 078H, 000H	; 54H T
   68 EFA8  CC CC CC CC 	DB	0CCH, 0CCH, 0CCH, 0CCH, 0CCH, 0CCH, 078H, 000H	; 55H U
   69 EFB0  CC CC CC 78 	DB	0CCH, 0CCH, 0CCH, 078H, 078H, 030H, 030H, 000H	; 56H V
   70 EFB8  C6 C6 C6 D6 	DB	0C6H, 0C6H, 0C6H, 0D6H, 0FEH, 0EEH, 0C6H, 000H	; 57H W
   71 EFC0  C6 C6 6C 38 	DB	0C6H, 0C6H, 06CH, 038H, 06CH, 0C6H, 0C6H, 000H	; 58H X
   72 EFC8  CC CC CC 78 	DB	0CCH, 0CCH, 0CCH, 078H, 030H, 030H, 078H, 000H	; 59H Y
   73 EFD0  FE C6 8C 18 	DB	0FEH, 0C6H, 08CH, 018H, 032H, 066H, 0FEH, 000H	; 5AH Z
   74 EFD8  FF FF FF FF 	DB	0FFH, 0FFH, 0FFH, 0FFH, 0FFH, 0FFH, 0FFH, 0FFH	; 5BH Vollzeichen
   75 EFE0  18 18 18 18 	DB	018H, 018H, 018H, 018H, 018H, 018H, 018H, 000H	; 5CH senkr. Strich
   76 EFE8  00 FE 06 06 	DB	000H, 0FEH, 006H, 006H, 000H, 000H, 000H, 000H	; 5DH Negationszeichen
   77 EFF0  10 38 6C C6 	DB	010H, 038H, 06CH, 0C6H, 000H, 000H, 000H, 000H	; 5EH ^
   78 EFF8  00 00 00 00 	DB	000H, 000H, 000H, 000H, 000H, 000H, 000H, 0FFH	; 5FH _
   17                   include	caosfi.asm		; ROM-F
    1                   ;	CAOS 3.4 - ROM F
    2                   ;	Version V.24 / RS 232
    3                   ;	und Centronics
    4                   ;	Date: 11.06.1991  (c) by '#+$'
    5                   ;	Intern-Version
    6                   ;(Direkteinbau in KC85/3)
    7                   ;
    8         0008      SIO	EQU 008H	;SIO PORT A
    9         000C      CTC	EQU 00CH	;SIO-CTC
   10                   ; StrukturByte des Interface-Moduls
   11         0001      IF V24
   12         01EE      UMODL	EQU 1EEH	;M003 V24
   13                   ELSE
   15                   ENDIF
   16         F000      	ORG 0F000H
   17                    
   18 F000  C3 F160     PRESET:	JP PWRON	;>> POWER ON <<
   19 F003  C3 F047     	JP PV1		;DEFB NR
   20 F006  18 5D       	JR PV2		;(ARGC)
   21 F008  00          ZEI0:	DEFB 0
   22 F009  18 58       	JR PV3		;REG. E
   23 F00B  02          ZEI2:	DEFB 2
   24 F00C  18 25       	JR PV4		;+IRM
   25 F00E  04          ZEI4:	DEFB 4
   26 F00F  C3 F0B1     	JP RCALL
   27 F012  C3 F179     	JP NEWOS	;>JUMP<
   28 F015  C3 F027     	JP PV5		;(ARGC)
   29 F018  C3 F078     	JP IRMON
   30 F01B  C3 F091     	JP IRMOFF
   31                    
   32 F01E  C5          PV6:	PUSH BC		;*** PV 6 ***
   33 F01F  CD F078     	CALL IRMON
   34 F022  CD F065     	CALL PV2
   35 F025  18 07       	JR PV51
   36                    
   37 F027  C5          PV5:	PUSH BC		;*** PV 5 ***
   38 F028  CD F078     	CALL IRMON
   39 F02B  CD F063     	CALL PV3
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  41
CAOSFI  ASM

   40 F02E  CD F091     PV51: 	CALL IRMOFF
   41 F031  C1          	POP BC
   42 F032  C9          	RET
   43                    
   44 F033  F5          PV4:	PUSH AF		;*** PV 4 ***
   45 F034  DB 88       	IN A,(88H)
   46 F036  F6 04       	OR 4
   47 F038  D3 88       	OUT (88H),A
   48 F03A  F1          	POP AF
   49 F03B  CD F063     	CALL PV3
   50 F03E  F5          SCROFF:	PUSH AF
   51 F03F  DB 88       	IN A,(88H)
   52 F041  E6 FB       	AND 0FBH
   53 F043  D3 88       	OUT (88H),A
   54 F045  F1          	POP AF
   55 F046  C9          	RET
   56                    
   57 F047  E5          PV1:	PUSH HL		;*** PV 1 ***
   58 F048  F3          	DI
   59 F049  E1          	POP HL
   60 F04A  E1          	POP HL
   61 F04B  23          	INC HL
   62 F04C  E5          	PUSH HL
   63 F04D  2B          	DEC HL
   64 F04E  3B          	DEC SP
   65 F04F  3B          	DEC SP
   66 F050  FB          	EI
   67 F051  D5          TABJP:	PUSH DE
   68 F052  5E          	LD E,(HL)
   69 F053  16 00       PV11:	LD D,0
   70 F055  2A B7B0     	LD HL,(0B7B0H)
   71 F058  F5          	PUSH AF
   72 F059  19          	ADD HL,DE
   73 F05A  19          	ADD HL,DE
   74 F05B  F1          	POP AF
   75 F05C  5E          	LD E,(HL)
   76 F05D  23          	INC HL
   77 F05E  56          	LD D,(HL)
   78 F05F  EB          	EX DE,HL
   79 F060  D1          	POP DE
   80 F061  E3          PV1END:	EX (SP),HL
   81 F062  C9          	RET
   82                    
   83 F063  37          PV3:	SCF		;*** PV 3 ***
   84 F064  ED          	DEFB 0EDH
   85 F065  A7          PV2:	AND A		;*** PV 2 ***
   86 F066  E5          PV21:	PUSH HL
   87 F067  D5          	PUSH DE
   88 F068  C5          	PUSH BC
   89 F069  E5          	PUSH HL
   90 F06A  21 E17C     	LD HL,POPS3
   91 F06D  E3          	EX (SP),HL
   92 F06E  E5          	PUSH HL
   93 F06F  D5          	PUSH DE
   94 F070  38 E1       	JR C,PV11
   95 F072  ED 5B B780  	LD DE,(0B780H)
   96 F076  18 DB       	JR PV11
   97                    
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  42
CAOSFI  ASM

   98 F078  C1          IRMON:	POP BC		;*** IRM ON ***
   99 F079  F3          	DI
  100 F07A  DD 77 0B    	LD (IX+0BH),A
  101 F07D  DB 88       	IN A,(88H)
  102 F07F  CB D7       	SET 2,A
  103 F081  D3 88       	OUT (88H),A
  104 F083  ED 73 B7CB  	LD (0B7CBH),SP
  105 F087  ED 7B B7AE  	LD SP,(0B7AEH)
  106 F08B  DD 7E 0B    OFFEND:	LD A,(IX+0BH)
  107 F08E  FB          	EI
  108 F08F  C5          	PUSH BC
  109 F090  C9          	RET
  110                    
  111 F091  C1          IRMOFF:	POP BC		;*** IRM OFF ***
  112 F092  F3          	DI
  113 F093  ED 7B B7CB  	LD SP,(0B7CBH)
  114 F097  DD 77 0B    	LD (IX+0BH),A
  115 F09A  DB 88       	IN A,(88H)
  116 F09C  CB 97       	RES 2,A
  117 F09E  D3 88       	OUT (88H),A
  118 F0A0  18 E9       	JR OFFEND
  119                    
  120 F0A2  E5          INTB:	PUSH HL		;UP 16 INTB
  121 F0A3  2A B7BB     	LD HL,(0B7BBH)	;INTAB
  122 F0A6  18 A9       	JR TABJP
  123                    
  124 F0A8  3A B7D9     OCHRP:	LD A,(0B7D9H)
  125 F0AB  E5          OCHR:	PUSH HL		;UP 24 OCHR
  126 F0AC  2A B7B9     	LD HL,(0B7B9H)	;OUTAB
  127 F0AF  18 A0       	JR TABJP
  128                    
  129 F0B1  E3          RCALL:	EX (SP),HL	;*** RCALL ***
  130 F0B2  5E          	LD E,(HL)
  131 F0B3  23          	INC HL
  132 F0B4  56          	LD D,(HL)
  133 F0B5  23          	INC HL
  134 F0B6  EB          	EX DE,HL
  135 F0B7  19          	ADD HL,DE
  136 F0B8  EB          	EX DE,HL
  137 F0B9  E3          	EX (SP),HL
  138 F0BA  D5          	PUSH DE
  139 F0BB  C9          	RET
  140                    
  141                   ;*** Switch & Jump ***
  142                    
  143 F0BC  7F7F        	DEFW 7F7FH	;>SWITCH<
  144 F0BE  53 57 49 54 	DEFM 'SWITCH'
  145 F0C4  01          	DEFB 1
  146 F0C5  28 12       	JR	Z,MODUL
  147                   	;
  148 F0C7  53          	LD D,E
  149 F0C8  CD F0E9     	CALL MODU
  150 F0CB              MODOUT:	;Ausgabe 3 Bytes L,H,D
  151 F0CB  CD F324     	CALL LHSPCE
  152 F0CE  7C          	LD A,H
  153 F0CF  CD F325     	CALL AHSPCE
  154 F0D2  7A          	LD A,D
  155 F0D3  CD F346     	CALL AHEX
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  43
CAOSFI  ASM

  156 F0D6  C3 F337     	JP CRLF
  157 F0D9  D5          MODUL:	PUSH DE
  158 F0DA  6F          	LD L,A
  159 F0DB  AF          MODUL1:	XOR A
  160 F0DC  CD F0E9     	CALL MODU
  161 F0DF  7C          	LD A,H
  162 F0E0  3C          	INC A
  163 F0E1  C4 F0CB     	CALL NZ,MODOUT
  164 F0E4  2C          	INC L
  165 F0E5  20 F4       	JR NZ,MODUL1
  166 F0E7  D1          	POP DE
  167 F0E8  C9          	RET
  168                    
  169 F0E9              MODU:	;VR:AF,H,BC,(D)	;UP 26 MODU
  170 F0E9  26 B8       	LD H,0B8H
  171 F0EB  0E 80       	LD C,80H
  172 F0ED  45          	LD B,L		; Steckplatz
  173 F0EE  FE 02       	CP 2		; 2 Parameter angegeben?
  174 F0F0  30 04       	JR NC,MDL2	; Module schalten
  175 F0F2  56          	LD D,(HL)	; Schaltzustand lesen
  176 F0F3  ED 60       MDL1:	IN H,(C)	; Strukturbyte lesen
  177 F0F5  C9          	RET
  178                    
  179 F0F6  72          MDL2:	LD (HL),D	; neues Steuerbyte eintragen
  180 F0F7  45          	LD B,L		; (Befehl doppelt drin, kann raus!)
  181 F0F8  04          	INC B
  182 F0F9  DB 88       	IN A,(88H)	; aktueller Schaltzustand
  183                   
  184 F0FB  10 12       	DJNZ NRAM0	; 0: RAM0?
  185 F0FD  E6 F5       	AND 0F5H
  186 F0FF  CB 42       	BIT 0,D
  187 F101  28 02       	JR Z,RAM01
  188 F103  CB CF       	SET 1,A		; RAM0 ON
  189 F105  CB 4A       RAM01:	BIT 1,D
  190 F107  28 02       	JR Z,OUTB
  191 F109  CB DF       	SET 3,A		; RAM0 Schreibschutz
  192 F10B  D3 88       OUTB:	OUT (88H),A
  193 F10D  18 E4       	JR MDL1
  194                    
  195 F10F  10 0A       NRAM0:	DJNZ NIRM	; 1: IRM?
  196 F111  CB 42       	BIT 0,D
  197 F113  CB 97       	RES 2,A		; IRM OFF
  198 F115  28 F4       	JR Z,OUTB
  199 F117  CB D7       	SET 2,A		; IRM ON
  200 F119  18 F0       	JR OUTB
  201                    
  202 F11B  10 16       NIRM:	DJNZ NROM	; 2: USER-ROM?
  203                   	;Neu: Segmentschaltung!
  204 F11D  7A          	ld	a,d	; Steuerbyte
  205 F11E  17          	rla		; 1x nach links rotieren
  206 F11F  2F          	cpl		;Seg 01=BASIC
  207 F120  E6 60       	and	60h	;Seg 11=EDAS
  208 F122  67          	ld	h,a	;Seg 21=WordPro
  209 F123  DB 89       	in	a,89h	;Seg 31=FORTH?
  210 F125  E6 9F       	and	9fh
  211 F127  B4          	or	h	; PIO-B Bit 5+6 schalten die Ebene des ROM-C
  212 F128  D3 89       	OUT	(89H),A
  213 F12A  DB 88       	in	a,88h
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  44
CAOSFI  ASM

  214 F12C  17          	RLA
  215 F12D  62          	LD H,D
  216 F12E  CB 1C       	RR H
  217 F130  1F          	RRA
  218 F131  18 D8       	JR OUTB
  219                    
  220 F133  45          NROM:	LD B,L		; Steckplatz
  221 F134  ED 51       	OUT (C),D	; Modul schalten
  222 F136  18 BB       	JR MDL1
  223                    
  224 F138  7F7F        	DEFW 7F7FH	;>JUMP<
  225 F13A  4A 55 4D 50 	DEFM 'JUMP'
  226 F13E  01          	DEFB 1
  227 F13F  C8          	RET Z
  228 F140  7D          	LD A,L
  229                   	;
  230 F141  B7          JUMP:	OR A		;UP 27 JUMP
  231 F142  28 14       	JR Z,SYS
  232 F144  47          	LD B,A
  233 F145  0E 80       	LD C,80H
  234 F147  ED 78       	IN A,(C)
  235 F149  3C          	INC A
  236 F14A  CA F32D     	JP Z,ERRM
  237 F14D  16 FF       	LD D,0FFH
  238 F14F  CD FACD     	CALL MOSW2
  239 F152  DB 88       	in	a,(88H)
  240 F154  E6 7E       	and	7eh
  241 F156  18 04       	JR SYS1
  242 F158              SYS:
  243 F158  DB 88       	IN	a,(88H)
  244 F15A  CB A7       	res	4,a	;res "NMI"
  245 F15C  F3          SYS1:	DI
  246 F15D  C3 B7B4     	JP 0B7B4H
  247                    
  248                   ;====== POWER ON =======================
  249                   ;(Einspruenge PWRON,NEWOS,BYE)
  250                    
  251 F160  F3          PWRON:	DI
  252 F161  31 01C4     	LD SP,1C4H	;System-Stack KC85/3-5
  253                   ;	LD A,3FH
  254                   ;	OUT (88H),A	;ROM-E ein, ROM-C aus
  255 F164  CD FAB1     	CALL MODSW1
  256 F167  AF          	XOR A
  257 F168  06 E0       	LD B,0E0H
  258 F16A  67          	LD H,A		;Clear Memo
  259 F16B  6F          	LD L,A
  260 F16C  77          PWRO1:	LD (HL),A
  261 F16D  2C          	INC L
  262 F16E  20 FC       	JR NZ,PWRO1
  263 F170  24          	INC H
  264 F171  10 F9       	DJNZ PWRO1
  265 F173  0E 80       	LD C,80H	;Modul off
  266 F175  ED 79       PWRO2:	OUT (C),a
  267 F177  10 FC       	DJNZ PWRO2
  268 F179  F3          NEWOS:	DI
  269 F17A  CD F3B5     	CALL SYSI	;Systeminit
  270 F17D  3E 0A       	ld	a,0ah
  271 F17F  32 B79B     PWRO4:	LD (0B79BH),A	;Windows
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  45
CAOSFI  ASM

  272 F182  CD F77D     	CALL WCOPY
  273 F185  D6 01       	sub 1
  274 F187  30 F6       	JR NC,PWRO4
  275 F189  CD FAA8     	CALL MODSW
  276                    
  277 F18C  31 01C4     BYE:	LD SP,1C4H	;UP 0D BYE
  278                   ;	LD A,1FH
  279                   ;	OUT (88H),A	;init.MEM on !!
  280 F18F  CD F3B5     	CALL SYSI
  281 F192  18 08       	JR MEN1
  282                    
  283 F194  7F7F        	DEFW 7F7FH	;>MENU<
  284 F196  4D 45 4E 55 	DEFM 'MENU'
  285 F19A  01          	DEFB 1
  286                   	;
  287 F19B  E1          	POP HL
  288 F19C  CD F264     MEN1:	CALL OSTR
  289 F19F  0C          	DEFB 0CH
  290 F1A0  0A          	DEFB 0AH
  291 F1A1  2A 20 48 43 	DEFM '* HC-CAOS 3.4i *'
  292 F1B1  00          	DEFB 0
  293 F1B2  21 C000     MENU:	LD HL,0C000H	;UP 46 MENU
  294 F1B5  4D          	LD C,L
  295 F1B6  45          	LD B,L
  296 F1B7  CD F337     MEN2:	CALL CRLF
  297 F1BA  CD F287     MEN3:	CALL BRKT
  298 F1BD  38 34       	JR C,LOOP
  299 F1BF  DD 7E 09    	LD A,(IX+9)
  300 F1C2  ED B1       MEN4:	CPIR
  301 F1C4  E2 F1F3     	JP PO,LOOP
  302 F1C7  ED A1       	CPI
  303 F1C9  20 F7       	JR NZ,MEN4
  304 F1CB  CD F0A8     	CALL OCHRP
  305 F1CE  7E          MEN5:	LD A,(HL)
  306 F1CF  FE 02       	CP 2
  307 F1D1  38 E4       	JR C,MEN2
  308 F1D3  FE 30       	CP 30H
  309 F1D5  38 0B       	JR C,MEN6
  310 F1D7  FE 60       	CP 60H
  311 F1D9  30 07       	JR NC,MEN6
  312 F1DB  CD F0AB     	CALL OCHR
  313 F1DE  23          	INC HL
  314 F1DF  0B          	DEC BC
  315 F1E0  18 EC       	JR MEN5
  316 F1E2  CD F342     MEN6:	CALL CLLN
  317 F1E5  18 D3       	JR MEN3
  318                    
  319 F1E7  E1          NLP1:	POP HL		;LOOP
  320 F1E8  CD F32D     NLP2:	CALL ERRM	; kommt mit CY=0 zurueck
  321 F1EB  3E 0B       LOOP0:	LD A,0BH	; Zeile loeschen
  322 F1ED  DC F0AB     	CALL C,OCHR	; bei BRK
  323 F1F0  CD F342     	CALL CLLN
  324 F1F3  CD F0A8     LOOP:	CALL OCHRP	;UP 12 LOOP
  325 F1F6  CD F2F9     	CALL INLIN
  326 F1F9  38 F0       	JR C,LOOP0	;Brk
  327 F1FB  13          	INC DE
  328 F1FC  1A          	LD A,(DE)
  329 F1FD  FE 21       	CP 21H
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  46
CAOSFI  ASM

  330 F1FF  38 F2       	JR C,LOOP
  331 F201  CD F21C     	CALL MSUCH
  332 F204  30 E2       	JR NC,NLP2	; nicht gefunden -> Error
  333 F206  E5          	PUSH HL
  334 F207  CD F397     	CALL GARG
  335 F20A  38 DB       	JR C,NLP1	; Parameterfehler -> Error
  336 F20C  21 F1F3     	LD HL,LOOP
  337 F20F  E3          	EX (SP),HL
  338 F210  7E          	LD A,(HL)
  339 F211  23          	INC HL
  340 F212  E5          	PUSH HL
  341 F213  A7          	AND A
  342 F214  CD F480     	CALL LARG
  343 F217  CC F03E     	CALL Z,SCROFF
  344 F21A  A7          	AND A
  345 F21B  C9          	RET
  346                    
  347 F21C  21 C000     MSUCH:	LD HL,0C000H
  348 F21F  45          	LD B,L
  349 F220  4D          	LD C,L
  350 F221  DD 7E 09    	LD A,(IX+9)
  351                    
  352 F224  ED B1       ZSUCH:	CPIR		;UP 1D ZSUCH
  353 F226  37          	SCF
  354 F227  3F          	CCF
  355 F228  E0          	RET PO
  356 F229  ED A1       	CPI
  357 F22B  20 F7       	JR NZ,ZSUCH
  358 F22D  F5          	PUSH AF
  359 F22E  D5          	PUSH DE
  360 F22F  1A          ZS1:	LD A,(DE)
  361 F230  FE 21       	CP 21H
  362 F232  38 09       	JR C,ZS3
  363 F234  13          	INC DE
  364 F235  ED A1       	CPI
  365 F237  28 F6       	JR Z,ZS1
  366 F239  D1          ZS2:	POP DE
  367 F23A  F1          	POP AF
  368 F23B  18 E7       	JR ZSUCH
  369 F23D  7E          ZS3:	LD A,(HL)
  370 F23E  FE 02       	CP 2
  371 F240  38 07       	JR C,ZS4
  372 F242  FE 20       	CP 20H
  373 F244  38 F3       	JR C,ZS2
  374 F246  23          	INC HL
  375 F247  18 F4       	JR ZS3
  376 F249  C1          ZS4:	POP BC
  377 F24A  F1          	POP AF
  378 F24B  37          	SCF
  379 F24C  C9          	RET
  380                    
  381 F24D              WAIT	;UP 14 WAIT
  382 F24D  47          	LD	B,A
  383 F24E  AF          	XOR	A
  384 F24F  CD F255     WAIT0	CALL	WAIT1
  385 F252  10 FB       	DJNZ	WAIT0
  386 F254  C9          	RET
  387                    
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  47
CAOSFI  ASM

  388 F255  3D          WAIT1:	DEC A
  389 F256  C8          	RET Z
  390 F257  F5          	PUSH AF
  391 F258  F1          	POP AF
  392 F259  18 FA       	JR WAIT1
  393                    
  394 F25B  CD F342     CBNRO:	CALL CLLN
  395 F25E  DD 7E 02    BNROST:	LD A,(IX+2)
  396 F261  CD F346     AHOSTR:	CALL AHEX
  397                   	;
  398 F264  E3          OSTR:	EX (SP),HL	;UP 23 OSTR
  399 F265  CD FA83     	CALL ZKOUT
  400 F268  E3          	EX (SP),HL
  401 F269  C9          	RET
  402                    
  403 F26A  CD F27A     NORM:	CALL NIN	;UP 13 NORM
  404                   	;
  405 F26D  21 F008     NOUT:	LD HL,ZEI0	;UP 20 NOUT
  406                   	;
  407 F270  E5          SOUT:	PUSH HL		;UP 1E SOUT
  408 F271  2A B7B9     	LD HL,(0B7B9H)	;OUTAB
  409 F274  E3          	EX (SP),HL
  410 F275  22 B7B9     	LD (0B7B9H),HL	;OUTAB
  411 F278  E1          	POP HL
  412 F279  C9          	RET
  413                    
  414 F27A  21 F00E     NIN:	LD HL,ZEI4	;UP 21 NIN
  415                   	;
  416 F27D  E5          SIN:	PUSH HL		;UP 1F SIN
  417 F27E  2A B7BB     	LD HL,(0B7BBH)	;INTAB
  418 F281  E3          	EX (SP),HL
  419 F282  22 B7BB     	LD (0B7BBH),HL	;INTAB
  420 F285  E1          	POP HL
  421 F286  C9          	RET
  422                    
  423 F287  CD E3F1     BRKT:	CALL KBDS	;UP 2A BRKT
  424 F28A  FE 03       BRKT1:	CP 3
  425 F28C  37          	SCF
  426 F28D  C8          	RET Z
  427 F28E  FE 13       	CP 13H
  428 F290  37          	SCF
  429 F291  3F          	CCF
  430 F292  C0          	RET NZ
  431 F293  CD E400     	CALL RESFL
  432 F296  CD F29F     	CALL KBD1
  433 F299  18 EF       	JR BRKT1
  434                    
  435 F29B  DD CB 08 76 KBD:	BIT 6,(IX+8)	;UP 4 KBD
  436 F29F  E5          KBD1:	PUSH HL
  437 F2A0  D5          	PUSH DE
  438 F2A1  C5          	PUSH BC
  439 F2A2  20 3E       	JR NZ,KBD8	;F-Taste aktiv
  440 F2A4  CD F816     KBD2:	CALL CUCP
  441 F2A7  CD E3FC     KBD3:	CALL KBDZ
  442 F2AA  30 FB       	JR NC,KBD3	;keine Taste gedr.
  443 F2AC  CD F816     	CALL CUCP
  444 F2AF  DD CB 08 6E KBD4:	BIT 5,(IX+8)	;Click ein?
  445 F2B3  57          	LD D,A
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  48
CAOSFI  ASM

  446 F2B4  C4 E310     	CALL NZ,RCLICK
  447 F2B7  7A          	LD A,D
  448 F2B8  21 B7A2     	LD HL,0B7A2H
  449 F2BB  CB 66       	BIT 4,(HL)
  450 F2BD  C4 E349     	CALL NZ,CRT
  451 F2C0  20 E2       	JR NZ,KBD2
  452 F2C2  FE 1B       KBD5:	CP 1BH
  453 F2C4  20 04       	JR NZ,KBD6
  454 F2C6  CB E6       	SET 4,(HL)
  455 F2C8  18 DA       	JR KBD2
  456                    
  457 F2CA  FE F1       KBD6:	CP 0F1H
  458 F2CC  DA E17C     	JP C,POPS3
  459 F2CF  DD CB 08 F6 	SET 6,(IX+8)
  460 F2D3  D6 F0       	SUB 0F0H
  461 F2D5  47          	LD B,A
  462 F2D6  21 B900     	LD HL,0B900H
  463 F2D9  7E          KBD7:	LD A,(HL)
  464 F2DA  A7          	AND A
  465 F2DB  23          	INC HL
  466 F2DC  20 FB       	JR NZ,KBD7
  467 F2DE  10 F9       	DJNZ KBD7
  468 F2E0  18 08       	JR KBD9
  469                    
  470 F2E2  CD F287     KBD8:	CALL BRKT
  471 F2E5  38 0C       	JR C,KBD10
  472 F2E7  2A B7D1     	LD HL,(0B7D1H)
  473 F2EA  7E          KBD9:	LD A,(HL)
  474 F2EB  23          	INC HL
  475 F2EC  22 B7D1     	LD (0B7D1H),HL
  476 F2EF  A7          	AND A
  477 F2F0  C2 E17C     	JP NZ,POPS3
  478 F2F3  DD CB 08 B6 KBD10:	RES 6,(IX+8)
  479 F2F7  18 AB       	JR KBD2
  480                    
  481                   ;*** CCP ***
  482                    
  483 F2F9  CD F0A2     INLIN:	CALL INTB
  484 F2FC  CD F0AB     	CALL OCHR
  485 F2FF  FE 0D       	CP 0DH
  486 F301  28 05       	JR Z,ILN1
  487 F303  FE 03       	CP 3
  488 F305  20 F2       	JR NZ,INLIN
  489 F307  37          	SCF
  490 F308  F5          ILN1:	PUSH AF
  491 F309  CD F337     	CALL CRLF
  492 F30C  ED 5B B7A0  	LD DE,(0B7A0H)
  493 F310  BA          	CP D
  494 F311  20 04       	JR NZ,ILN2
  495 F313  3A B79F     	LD A,(0B79FH)
  496 F316  57          	LD D,A
  497 F317  15          ILN2:	DEC D
  498 F318  E5          	PUSH HL
  499 F319  CD E0BD     	CALL DABR
  500 F31C  EB          	EX DE,HL
  501 F31D  E1          	POP HL
  502 F31E  F1          	POP AF
  503 F31F  C9          	RET
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  49
CAOSFI  ASM

  504                    
  505 F320  7C          HLHX:	LD A,H		;UP 1A HLHX
  506 F321  CD F346     	CALL AHEX
  507 F324  7D          LHSPCE:	LD A,L
  508 F325  CD F346     AHSPCE:	CALL AHEX
  509                   	;
  510 F328  3E 20       SPAC:	LD A,20H	;UP 2B SPAC
  511 F32A  C3 F0AB     SPAC0:	JP OCHR
  512                    
  513 F32D  CD F264     ERRM:	CALL OSTR	;UP 19 ERRM
  514 F330  45 72 72 6F 	DEFM 'Error'
  515 F335  07          	DEFB 7
  516 F336  00          	DEFB 0
  517                   	;
  518 F337  CD F264     CRLF:	CALL OSTR	;UP 2C CRLF
  519 F33A  0D          	DEFB 0DH
  520 F33B  0A          	DEFB 0AH
  521 F33C  00          	DEFB 0
  522 F33D  C9          	RET
  523                    
  524 F33E  3E 10       HOME:	LD A,10H	;UP 2D HOME
  525 F340  18 E8       	JR SPAC0
  526                    
  527 F342  3E 02       CLLN:	LD A,2
  528 F344  18 E4       	JR SPAC0
  529                    
  530 F346  F5          AHEX:	PUSH AF		;UP 1C AHEX
  531 F347  1F          	RRA
  532 F348  1F          	RRA
  533 F349  1F          	RRA
  534 F34A  1F          	RRA
  535 F34B  CD F34F     	CALL AHEX1
  536 F34E  F1          	POP AF
  537 F34F  E6 0F       AHEX1:	AND 0FH
  538 F351  C6 90       	ADD 90H
  539 F353  27          	DAA
  540 F354  CE 40       	ADC 40H
  541 F356  27          	DAA
  542 F357  18 D1       	JR SPAC0
  543                    
  544 F359  CD F35C     HLDE:	CALL HLDE1	;UP 1B HLDE
  545 F35C  CD F320     HLDE1:	CALL HLHX
  546 F35F  EB          	EX DE,HL
  547 F360  C9          	RET
  548                    
  549 F361  13          RHEX0:	INC DE
  550                   	;
  551 F362  1A          RHEX:	LD A,(DE)	;UP 18 RHEX
  552 F363  FE 20       	CP 20H
  553 F365  28 FA       	JR Z,RHEX0
  554 F367  AF          	XOR A
  555 F368  21 B798     	LD HL,0B798H
  556 F36B  77          	LD (HL),A
  557 F36C  2B          	DEC HL
  558 F36D  77          	LD (HL),A
  559 F36E  2B          	DEC HL
  560 F36F  77          	LD (HL),A
  561 F370  1A          RH1:	LD A,(DE)
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  50
CAOSFI  ASM

  562 F371  B7          	OR A
  563 F372  C8          	RET Z
  564 F373  FE 20       	CP 20H
  565 F375  C8          	RET Z
  566 F376  D6 30       	SUB 30H
  567 F378  D8          	RET C
  568 F379  FE 0A       	CP 0AH
  569 F37B  38 0B       	JR C,RH2
  570 F37D  D6 07       	SUB 7
  571 F37F  E6 DF       	AND 0DFH
  572 F381  FE 0A       	CP 0AH
  573 F383  D8          	RET C
  574 F384  FE 10       	CP 10H
  575 F386  3F          	CCF
  576 F387  D8          	RET C
  577 F388  13          RH2:	INC DE
  578 F389  34          	INC (HL)
  579 F38A  23          	INC HL
  580 F38B  ED 6F       	RLD
  581 F38D  23          	INC HL
  582 F38E  ED 6F       	RLD
  583 F390  2B          	DEC HL
  584 F391  2B          	DEC HL
  585 F392  28 DC       	JR Z,RH1
  586 F394  1B          	DEC DE
  587 F395  37          	SCF
  588 F396  C9          	RET
  589                    
  590 F397  01 B781     GARG:	LD BC,0B781H	;UP 22 GARG
  591 F39A  AF          	XOR A
  592 F39B  02          	LD (BC),A
  593 F39C  13          	INC DE
  594 F39D  CD F362     GARG1:	CALL RHEX
  595 F3A0  D8          	RET C
  596 F3A1  7E          	LD A,(HL)
  597 F3A2  B7          	OR A
  598 F3A3  C8          	RET Z
  599 F3A4  23          	INC HL
  600 F3A5  03          	INC BC
  601 F3A6  7E          	LD A,(HL)
  602 F3A7  02          	LD (BC),A
  603 F3A8  23          	INC HL
  604 F3A9  03          	INC BC
  605 F3AA  7E          	LD A,(HL)
  606 F3AB  02          	LD (BC),A
  607 F3AC  2E 81       	LD L,81H
  608 F3AE  34          	INC (HL)
  609 F3AF  7E          	LD A,(HL)
  610 F3B0  C6 F5       	ADD 0F5H
  611 F3B2  30 E9       	JR NC,GARG1
  612 F3B4  C9          	RET
  613                    
  614                   ;*** Systeminit ***
  615                    
  616 F3B5  21 FD8E     SYSI:	LD HL,KCTAB0
  617         0001      IF V24
  618 F3B8  16 08       	LD D,6+2	;+2:V.24-Interf.
  619                   ELSE
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  51
CAOSFI  ASM

  621                   ENDIF
  622 F3BA  CD F420     	CALL INIMEI
  623 F3BD  11 B799     	LD DE,0B799H	;HCADR
  624 F3C0  01 0032     	LD BC,STBL1
  625 F3C3  ED B0       	LDIR
  626 F3C5  1E D8       	LD E,0D8H
  627 F3C7  0E 09       	LD C,STBL2
  628 F3C9  ED B0       	LDIR
  629 F3CB  3E 01       	LD A,1
  630                   	;
  631 F3CD  F3          SIXD:	DI		;UP 31 SIXD
  632 F3CE  21 FD82     	LD HL,ISRTAB
  633 F3D1  32 B7D7     	LD (0B7D7H),A
  634 F3D4  ED 47       	LD I,A
  635 F3D6  1E E4       	LD E,0E4H
  636 F3D8  57          	LD D,A
  637 F3D9  01 000C     	LD BC,0CH
  638 F3DC  ED B0       	LDIR
  639 F3DE  D5          	PUSH DE
  640 F3DF  DD E1       	POP IX
  641 F3E1  DD 36 08 88 	LD (IX+8),88H
  642 F3E5  DD 36 09 7F 	LD (IX+9),7FH
  643 F3E9  DD 36 0E 02 	LD (IX+14),Low(KTAB)
  644 F3ED  DD 36 0F FD 	LD (IX+15),High(KTAB)
  645 F3F1  16 04       	LD D,4		; 4 Ports initialisieren
  646 F3F3  21 FDA1     	LD HL,KCTAB1
  647 F3F6  CD F422     	CALL INIME
  648 F3F9  21 0103     	LD HL,103H
  649 F3FC  22 B800     	LD (0B800H),HL
  650 F3FF  DD 7E 07    SIXD2:	LD A,(IX+7)
  651 F402  E6 1F       	AND 1FH
  652 F404  DD 77 07    	LD (IX+7),A
  653 F407  3E FF       SIXD3:	LD A,0FFH
  654 F409  D3 89       	OUT (89H),A
  655 F40B  DD 36 05 00 	LD (IX+5),0
  656 F40F  DD 36 06 B7 	LD (IX+6),0B7H
  657 F413  FB          	EI
  658 F414  C3 E400     	JP RESFL
  659                    
  660 F417  C5          INIEA:	PUSH BC		;UP 43 INIEA
  661 F418  4E          	LD C,(HL)
  662 F419  23          	INC HL
  663 F41A  46          	LD B,(HL)
  664 F41B  23          	INC HL
  665 F41C  ED B3       	OTIR
  666 F41E  C1          	POP BC
  667 F41F  C9          	RET
  668                    
  669 F420  ED 5E       INIMEI:	IM 2
  670 F422  CD F417     INIME:	CALL INIEA	;UP 44 INIME
  671 F425  15          	DEC D
  672 F426  20 FA       	JR NZ,INIME
  673 F428  C9          	RET
  674                    
  675                   ;*** Tape-Routinen ***
  676                    
  677 F429  7F7F        	DEFW 7F7FH	;>SAVE<
  678 F42B  53 41 56 45 	DEFM 'SAVE'
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  52
CAOSFI  ASM

  679 F42F  01          	DEFB 1
  680                   	;
  681 F430  FE 02       	CP 2
  682 F432  DA F32D     	JP C,ERRM
  683 F435  CD F264     SAVE1:	CALL OSTR
  684 F438  4E 61 6D 65 	DEFM 'Name :'
  685 F43E  00          	DEFB 0
  686 F43F  CD F2F9     	CALL INLIN
  687 F442  D8          	RET C
  688 F443  21 0006     	LD HL,6
  689 F446  19          	ADD HL,DE
  690                   	;
  691 F447  11 B700     SAVE:	LD DE,0B700H	;UP 36 SAVE
  692 F44A  01 000B     	LD BC,11
  693 F44D  ED B0       	LDIR
  694 F44F  AF          	XOR A
  695 F450  12          	LD (DE),A
  696 F451  21 B781     	LD HL,0B781H
  697 F454  1E 10       	LD E,10H
  698 F456  0E 15       	LD C,15H
  699 F458  ED B0       	LDIR
  700 F45A  CD F604     	CALL NBWI
  701 F45D  DD CB 07 AE 	RES 5,(IX+7)
  702 F461  2A B782     	LD HL,(0B782H)
  703 F464  DD 75 05    SAVE0:	LD (IX+5),L
  704 F467  DD 74 06    	LD (IX+6),H
  705 F46A  11 0080     	LD DE,80H
  706 F46D  19          	ADD HL,DE
  707 F46E  ED 5B B784  	LD DE,(0B784H)
  708 F472  ED 52       	SBC HL,DE
  709 F474  3F          	CCF
  710 F475  DA F5E9     	JP C,NBW1
  711 F478  CD F5E5     	CALL NBW
  712 F47B  DA E45E     	JP C,CRO0
  713 F47E  18 E4       	JR SAVE0
  714                   			;UP 15 LARG
  715 F480  ED 4B B786  LARG:	LD BC,(0B786H)	;ARG3
  716 F484  ED 5B B784  	LD DE,(0B784H)
  717 F488  2A B782     	LD HL,(0B782H)
  718 F48B  3A B781     	LD A,(0B781H)
  719 F48E  C9          	RET
  720                    
  721 F48F  CD F264     NBL1:	CALL OSTR
  722 F492  3F 3F 3F    	DEFM '???'
  723 F495  00          	DEFB 0
  724 F496  C3 E442     NBL2:	JP CMBI		;END CSRO
  725                    
  726 F499  7F7F        	DEFW 7F7FH	;>VERIFY<
  727 F49B  56 45 52 49 	DEFM 'VERIFY'
  728 F4A1  01          	DEFB 1
  729                   	;
  730 F4A2  DD CB 07 86 VERIFY:	RES 0,(IX+7)	;UP 11 VERIFY
  731 F4A6  18 0B       	JR LOAD0
  732                    
  733 F4A8  7F7F        	DEFW 7F7FH	;>LOAD<
  734 F4AA  4C 4F 41 44 	DEFM 'LOAD'
  735 F4AE  01          	DEFB 1
  736                   	;
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  53
CAOSFI  ASM

  737 F4AF  DD CB 07 C6 LOAD:	SET 0,(IX+7)	;UP 10 LOAD
  738                   	;
  739 F4B3  CD E40E     LOAD0:	CALL IMBII
  740 F4B6  CD F58D     	CALL NBR
  741 F4B9  DD CB 07 AE 	RES 5,(IX+7)
  742 F4BD  38 D7       LOAD1:	JR C,NBL2	;>CSRO
  743 F4BF  21 B700     	LD HL,0B700H
  744 F4C2  06 0B       	LD B,11
  745 F4C4  7E          LOADN:	LD A,(HL)
  746 F4C5  23          	INC HL
  747 F4C6  CD E349     	CALL CRT
  748 F4C9  10 F9       	DJNZ LOADN
  749 F4CB  CD F328     	CALL SPAC
  750 F4CE  DD CB 07 46 	BIT 0,(IX+7)
  751 F4D2  28 47       	JR Z,LOAD4
  752 F4D4  2E 10       	LD L,10H
  753 F4D6  7E          	LD A,(HL)
  754 F4D7  D6 02       	SUB 2
  755 F4D9  FE 08       	CP 8		;A=0..7
  756 F4DB  30 B2       	JR NC,NBL1
  757 F4DD  07          	RLCA
  758 F4DE  07          	RLCA
  759 F4DF  67          	LD H,A
  760 F4E0  DD 7E 07    	LD A,(IX+7)
  761 F4E3  E6 03       	AND 3
  762 F4E5  B4          	OR H
  763 F4E6  DD 77 07    	LD (IX+7),A
  764 F4E9  ED 4B B715  	LD BC,(0B715H)
  765 F4ED  ED 5B B713  	LD DE,(0B713H)
  766 F4F1  2A B711     	LD HL,(0B711H)
  767 F4F4  3A B781     	LD A,(0B781H)
  768 F4F7  A7          	AND A
  769 F4F8  28 13       	JR Z,LOAD3
  770 F4FA  C5          	PUSH BC
  771 F4FB  ED 4B B782  	LD BC,(0B782H)
  772 F4FF  09          	ADD HL,BC
  773 F500  EB          	EX DE,HL
  774 F501  09          	ADD HL,BC
  775 F502  EB          	EX DE,HL
  776 F503  DD CB 07 5E 	BIT 3,(IX+7)
  777 F507  20 03       	JR NZ,LOAD2
  778 F509  E3          	EX (SP),HL
  779 F50A  09          	ADD HL,BC
  780 F50B  E3          	EX (SP),HL
  781 F50C  C1          LOAD2:	POP BC
  782 F50D  22 B782     LOAD3:	LD (0B782H),HL
  783 F510  ED 53 B784  	LD (0B784H),DE
  784 F514  ED 43 B786  	LD (0B786H),BC	;ARG3
  785 F518  CD F359     	CALL HLDE
  786 F51B  CD F337     LOAD4:	CALL CRLF
  787 F51E  EB          	EX DE,HL	;Ziel=DE
  788 F51F  CD F58D     LOAD5:	CALL NBR
  789 F522  38 99       	JR C,LOAD1	;>CSRO
  790 F524  DD CB 07 46 	BIT 0,(IX+7)
  791 F528  28 12       	JR Z,LOAD6
  792 F52A  E5          	PUSH HL
  793 F52B  ED 52       	SBC HL,DE
  794 F52D  01 0080     	LD BC,80H
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  54
CAOSFI  ASM

  795 F530  ED 42       	SBC HL,BC
  796 F532  09          	ADD HL,BC
  797 F533  30 01       	JR NC,BLC1
  798 F535  4D          	LD C,L
  799 F536  21 B700     BLC1:	LD HL,0B700H
  800 F539  ED B0       	LDIR
  801 F53B  E1          	POP HL
  802 F53C  DD 34 02    LOAD6:	INC (IX+2)	;FF?
  803 F53F  20 DE       	JR NZ,LOAD5
  804                   	;
  805 F541  CD E442     CSRI:	CALL CMBI	;UP 0B CSRI
  806 F544  DD 7E 07    	LD A,(IX+7)
  807 F547  1F          	RRA
  808 F548  D0          	RET NC		;bei VER.
  809 F549  E6 0E       	AND 0EH
  810 F54B  DD CB 07 86 	RES 0,(IX+7)
  811 F54F  C8          	RET Z		;2 ARG
  812                   	;
  813 F550  DD CB 07 4E 	BIT 1,(IX+7)	;AutoSt.enable ?
  814 F554  28 19       	JR Z,CSRI3
  815 F556  CD F264     CSRI1:	CALL OSTR
  816 F559  52 75 6E    	DEFM 'Run'
  817 F55C  00          	DEFB 0
  818 F55D  CD F573     	CALL YESNO
  819 F560  28 0D       	JR Z,CSRI3
  820 F562  FE 53       	CP 'S'
  821 F564  C0          	RET NZ
  822 F565  3E 03       	LD A,3
  823 F567  32 B781     	LD (0B781H),A
  824 F56A  CD F435     	CALL SAVE1	;PROGR. COPY
  825 F56D  18 E7       	JR CSRI1
  826                    
  827 F56F  2A B786     CSRI3:	LD HL,(0B786H)	;ARG3
  828 F572  E9          	JP (HL)		;AUTOSTART-ADR.
  829                    
  830 F573              YESNO:	;PA:Z=1 bei YES, RG A
  831 F573  CD F264     	CALL OSTR
  832 F576  3F 20 28 59 	DEFM '? (Y):'
  833 F57C  00          	DEFB 0
  834 F57D  CD F0A2     	CALL INTB
  835 F580  F5          	PUSH AF
  836 F581  CD F0AB     	CALL OCHR
  837 F584  CD F337     	CALL CRLF
  838 F587  F1          	POP AF
  839 F588  CB AF       	RES 5,A
  840 F58A  FE 59       	CP 'Y'
  841 F58C  C9          	RET
  842                    
  843 F58D              NBR:	;NewBlockRead
  844 F58D  E5          	PUSH HL
  845 F58E  2E 04       	LD L,4		;4 Versuche
  846 F590  DD 66 03    	LD H,(IX+3)
  847 F593  CD F287     NBR0:	CALL BRKT
  848 F596  38 2A       	JR C,NBREND
  849 F598  CD F047     	CALL PV1
  850 F59B  05          	DEFB 5		;Saubere Schale
  851 F59C  DD 7E 02    	LD A,(IX+2)
  852 F59F  F5          	PUSH AF
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  55
CAOSFI  ASM

  853 F5A0  BC          	CP H
  854 F5A1  28 0C       	JR Z,NBR2
  855 F5A3  3C          	INC A		;FF?
  856 F5A4  20 1F       	JR NZ,NBR4
  857 F5A6  7D          	LD A,L
  858 F5A7  FE 04       	CP 4		;4 Versuche
  859 F5A9  20 1A       	JR NZ,NBR4	;Kein 1.Vers.
  860 F5AB  25          	DEC H
  861 F5AC  28 16       	JR Z,NBR41	;01 erwartet
  862 F5AE  24          	INC H
  863 F5AF  F1          NBR2:	POP AF
  864 F5B0  38 1E       	JR C,NBR5
  865 F5B2  DD CB 07 6E 	BIT 5,(IX+7)
  866 F5B6  20 06       	JR NZ,NBR3
  867 F5B8  CD F25B     	CALL CBNRO
  868 F5BB  3E 20       	DEFM '> '
  869 F5BD  00          	DEFB 0
  870 F5BE  24          NBR3:	INC H
  871 F5BF  DD 74 03    	LD (IX+3),H
  872 F5C2  E1          NBREND:	POP HL
  873 F5C3  C9          	RET
  874                    
  875 F5C4  24          NBR41:	INC H
  876 F5C5  F1          NBR4:	POP AF
  877 F5C6  CD F25E     	CALL BNROST
  878 F5C9  2A          	DEFM '*'
  879 F5CA  0808        	DEFW 808H
  880 F5CC  08          	DEFB 8
  881 F5CD  00          	DEFB 0
  882 F5CE  18 C3       	JR NBR0
  883                    
  884 F5D0  67          NBR5:	LD H,A		;falls FF
  885 F5D1  2D          	DEC L
  886 F5D2  28 09       	JR Z,NBR6
  887 F5D4  CD F25E     	CALL BNROST
  888 F5D7  3F 20       	DEFM '? '
  889 F5D9  07          	DEFB 7
  890 F5DA  00          	DEFB 0
  891 F5DB  18 B6       	JR NBR0
  892                    
  893 F5DD  CD F25E     NBR6:	CALL BNROST
  894 F5E0  21          	DEFM '!'
  895 F5E1  1E          	DEFB 1EH	;CRNL
  896 F5E2  00          	DEFB 0
  897 F5E3  18 D9       	JR NBR3
  898                    
  899 F5E5              NBW:	;NewBlockWrite
  900 F5E5  CD F287     	CALL BRKT
  901 F5E8  D8          	RET C
  902 F5E9  ED 4B B7DA  NBW1:	LD BC,(0B7DAH)	;mit CY=1 !
  903 F5ED  DD CB 07 6E 	BIT 5,(IX+7)
  904 F5F1  28 03       	JR Z,NBW2
  905 F5F3  01 0500     	LD BC,500H
  906 F5F6  DA E456     NBW2:	JP C,CSRO
  907 F5F9  CD F047     	CALL PV1
  908 F5FC  01          	DEFB 1		;MBOT
  909 F5FD  CD F25E     NBW3:	CALL BNROST
  910 F600  3C          	DEFM '<'
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  56
CAOSFI  ASM

  911 F601  0D          	DEFB 0DH
  912 F602  00          	DEFB 0
  913 F603  C9          	RET
  914                    
  915 F604  CD E480     NBWI:	CALL ISROI
  916 F607  CD F342     	CALL CLLN
  917 F60A  18 F1       	JR NBW3
  918                    
  919                   ;*** Monitor ***
  920                    
  921 F60C  7F7F        	DEFW 7F7FH	;>COLOR<
  922 F60E  43 4F 4C 4F 	DEFM 'COLOR'
  923 F613  01          	DEFB 1
  924                   	;
  925 F614  F5          COLOR:	PUSH AF
  926 F615  3E 1F       	LD A,1FH
  927 F617  A5          	AND L
  928 F618  17          	RLA
  929 F619  17          	RLA
  930 F61A  17          	RLA
  931 F61B  6F          	LD L,A
  932 F61C  F1          	POP AF
  933 F61D  FE 02       	CP 2
  934 F61F  7B          	LD A,E
  935 F620  30 03       	JR NC,COL1
  936 F622  3A B7A3     	LD A,(0B7A3H)
  937 F625  E6 07       COL1:	AND 7
  938 F627  B5          	OR L
  939 F628  32 B7A3     COL2:	LD (0B7A3H),A
  940 F62B  C9          	RET
  941                    
  942 F62C  3A B7A3     ESC2:	LD A,(0B7A3H)	;Blinken on/off
  943 F62F  EE 80       	XOR 80H
  944 F631  18 F5       	JR COL2
  945                    
  946 F633  CD F320     DPMEMO:	CALL HLHX
  947 F636  E5          	PUSH HL
  948 F637  41          	LD B,C
  949 F638  7E          DPM1:	LD A,(HL)
  950 F639  23          	INC HL
  951 F63A  CD F325     	CALL AHSPCE
  952 F63D  10 F9       	DJNZ DPM1
  953 F63F  E1          	POP HL
  954 F640  41          	LD B,C
  955 F641  3E 09       	LD A,9
  956 F643  CD F0AB     	CALL OCHR
  957 F646  7E          DPM2:	LD A,(HL)
  958 F647  23          	INC HL
  959 F648  CD F64E     	CALL CSTBT
  960 F64B  10 F9       	DJNZ DPM2
  961 F64D  C9          	RET
  962                    
  963 F64E  E5          CSTBT:	PUSH HL		;UP 42 CSTBT
  964 F64F  21 B7A2     	LD HL,0B7A2H
  965 F652  CB DE       	SET 3,(HL)
  966 F654  CD F0AB     	CALL OCHR
  967 F657  CB 9E       	RES 3,(HL)
  968 F659  E1          	POP HL
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  57
CAOSFI  ASM

  969 F65A  C9          	RET
  970                    
  971 F65B  7F7F        	DEFW 7F7FH	;>DISPLAY<
  972 F65D  44 49 53 50 	DEFM 'DISPLAY'
  973 F664  01          	DEFB 1
  974                   	;
  975 F665  D6 03       DISP:	SUB 3		;UP 3B DISP
  976 F667  30 07       	JR NC,DISP1
  977 F669  0E 08       	LD C,8
  978 F66B  3C          	INC A
  979 F66C  28 02       	JR Z,DISP1
  980 F66E  1E 04       	LD E,4
  981 F670  D5          DISP1:	PUSH DE
  982 F671  CD F633     DISP2:	CALL DPMEMO
  983 F674  CD F337     	CALL CRLF
  984 F677  CD F287     	CALL BRKT
  985 F67A  38 06       	JR C,DISP3
  986 F67C  1D          	DEC E
  987 F67D  20 F2       	JR NZ,DISP2
  988 F67F  CD F0A2     	CALL INTB
  989 F682  D1          DISP3:	POP DE
  990 F683  FE 03       	CP 3
  991 F685  C8          	RET Z
  992 F686  FE 13       	CP 13H
  993 F688  20 E6       	JR NZ,DISP1
  994 F68A  18 10       	JR MO1
  995                    
  996 F68C  7F7F        	DEFW 7F7FH	;>MODIFY<
  997 F68E  4D 4F 44 49 	DEFM 'MODIFY'
  998 F694  01          	DEFB 1
  999                   	;
 1000 F695  4B          	LD C,E
 1001 F696  FE 02       	CP 2
 1002 F698  30 02       	JR NC,MO1
 1003 F69A  0E 01       MODI:	LD C,1		;UP 2E MODI
 1004 F69C  CD F633     MO1:	CALL DPMEMO
 1005 F69F  3E 05       	LD A,5
 1006 F6A1  32 B7A0     	LD (0B7A0H),A
 1007 F6A4  CD F2F9     	CALL INLIN
 1008 F6A7  D8          	RET C
 1009 F6A8  E5          	PUSH HL
 1010 F6A9  CD F362     	CALL RHEX
 1011 F6AC  7E          	LD A,(HL)
 1012 F6AD  E1          	POP HL
 1013 F6AE  38 4F       	JR C,MO10
 1014 F6B0  A7          	AND A
 1015 F6B1  28 E9       	JR Z,MO1
 1016 F6B3  2A B797     	LD HL,(0B797H)
 1017 F6B6  E5          MO2:	PUSH HL
 1018 F6B7  CD F362     	CALL RHEX
 1019 F6BA  7E          	LD A,(HL)
 1020 F6BB  A7          	AND A
 1021 F6BC  23          	INC HL
 1022 F6BD  7E          	LD A,(HL)
 1023 F6BE  E1          	POP HL
 1024 F6BF  28 02       	JR Z,MO4
 1025 F6C1  77          MO3:	LD (HL),A
 1026 F6C2  23          	INC HL
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  58
CAOSFI  ASM

 1027 F6C3  1A          MO4:	LD A,(DE)
 1028 F6C4  FE 2E       	CP '.'
 1029 F6C6  C8          	RET Z
 1030 F6C7  FE 2C       	CP ','
 1031 F6C9  20 05       	JR NZ,MO5
 1032 F6CB  13          	INC DE
 1033 F6CC  1A          	LD A,(DE)
 1034 F6CD  13          	INC DE
 1035 F6CE  18 F1       	JR MO3
 1036 F6D0  FE 3A       MO5:	CP ':'
 1037 F6D2  20 03       	JR NZ,MO6
 1038 F6D4  2B          	DEC HL
 1039 F6D5  18 C5       	JR MO1
 1040 F6D7  FE 2F       MO6:	CP '/'
 1041 F6D9  20 0B       	JR NZ,MO7
 1042 F6DB  13          	INC DE
 1043 F6DC  CD F362     	CALL RHEX
 1044 F6DF  38 1E       	JR C,MO10
 1045 F6E1  2A B797     	LD HL,(0B797H)
 1046 F6E4  18 B6       	JR MO1
 1047 F6E6  FE 27       MO7:	CP 27H		;Hochkomma
 1048 F6E8  20 0E       	JR NZ,MO9
 1049 F6EA  13          	INC DE
 1050 F6EB  1A          MO8:	LD A,(DE)
 1051 F6EC  13          	INC DE
 1052 F6ED  A7          	AND A
 1053 F6EE  28 AC       	JR Z,MO1
 1054 F6F0  FE 27       	CP 27H		;Hochkomma
 1055 F6F2  28 CF       	JR Z,MO4
 1056 F6F4  77          	LD (HL),A
 1057 F6F5  23          	INC HL
 1058 F6F6  18 F3       	JR MO8
 1059 F6F8  A7          MO9:	AND A
 1060 F6F9  28 A1       	JR Z,MO1
 1061 F6FB  FE 20       	CP 20H
 1062 F6FD  28 B7       	JR Z,MO2
 1063 F6FF  CD F32D     MO10:	CALL ERRM
 1064 F702  18 98       	JR MO1
 1065                    
 1066 F704  7F7F        	DEFW 7F7FH	;>WINDOW<
 1067 F706  57 49 4E 44 	DEFM 'WINDOW'
 1068 F70C  01          	DEFB 1
 1069                   	;
 1070 F70D  A7          	AND A
 1071 F70E  28 3C       	JR Z,WINAK
 1072 F710  3D          	DEC A
 1073 F711  28 38       	JR Z,WINAK0
 1074 F713  FE 03       	CP 3
 1075 F715  38 13       	JR C,ERRM2
 1076 F717  65          	LD H,L
 1077 F718  69          	LD L,C
 1078 F719  53          	LD D,E
 1079 F71A  3A B788     	LD A,(0B788H)
 1080 F71D  5F          	LD E,A
 1081 F71E  3A B78A     	LD A,(0B78AH)
 1082 F721  20 03       	JR NZ,WIN5
 1083 F723  3A B79B     	LD A,(0B79BH)
 1084 F726  CD F730     WIN5:	CALL WININ
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  59
CAOSFI  ASM

 1085 F729  D0          	RET NC
 1086 F72A  C3 F32D     ERRM2:	JP ERRM
 1087                    
 1088 F72D  3A B79B     WININ0:	LD A,(0B79BH)	;von BASIC
 1089 F730  F5          WININ:	PUSH AF		;UP 3C WININ
 1090 F731  CD F768     	CALL PART
 1091 F734  DA E0AE     IAD21:	JP C,IAD2
 1092 F737  F1          	POP AF
 1093 F738  D5          	PUSH DE
 1094 F739  E5          	PUSH HL
 1095 F73A  CD F77D     	CALL WCOPY
 1096 F73D  E1          	POP HL
 1097 F73E  D1          	POP DE
 1098 F73F  22 B79C     	LD (0B79CH),HL
 1099 F742  ED 53 B79E  	LD (0B79EH),DE
 1100 F746  ED 43 B7A0  	LD (0B7A0H),BC
 1101 F74A  C9          	RET
 1102                    
 1103 F74B  7D          WINAK0:	LD A,L
 1104 F74C  CD F77D     WINAK:	CALL WCOPY	;UP 3D WINAK
 1105 F74F  CD F757     WINAK1:	CALL WINANF	;von BASIC
 1106 F752  D8          	RET C
 1107 F753  23          	INC HL
 1108 F754  EB          	EX DE,HL
 1109 F755  18 2F       	JR WCPY1
 1110                    
 1111 F757  21 B79B     WINANF:	LD HL,0B79BH
 1112 F75A  7E          	LD A,(HL)
 1113 F75B  C6 F6       	ADD 0F6H
 1114 F75D  D8          	RET C
 1115 F75E  87          	ADD A
 1116 F75F  5F          	LD E,A
 1117 F760  87          	ADD A
 1118 F761  87          	ADD A
 1119 F762  83          	ADD E
 1120 F763  5F          	LD E,A
 1121 F764  16 B9       	LD D,0B9H
 1122 F766  A7          	AND A
 1123 F767  C9          	RET
 1124                    
 1125 F768  C6 F6       PART:	ADD 0F6H
 1126 F76A  D8          	RET C
 1127 F76B  7A          	LD A,D
 1128 F76C  D6 01       	SUB 1
 1129 F76E  D8          	RET C
 1130 F76F  84          	ADD H
 1131 F770  D8          	RET C
 1132 F771  C6 E0       	ADD 0E0H
 1133 F773  D8          	RET C
 1134 F774  7B          	LD A,E
 1135 F775  D6 01       	SUB 1
 1136 F777  D8          	RET C
 1137 F778  85          	ADD L
 1138 F779  D8          	RET C
 1139 F77A  C6 D8       	ADD 0D8H
 1140 F77C  C9          	RET
 1141                    
 1142 F77D  F5          WCOPY:	PUSH AF
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  60
CAOSFI  ASM

 1143 F77E  CD F757     	CALL WINANF
 1144 F781  38 B1       	JR C,IAD21
 1145 F783  F1          	POP AF
 1146 F784  77          	LD (HL),A
 1147 F785  23          	INC HL
 1148 F786  01 000A     WCPY1:	LD BC,0AH
 1149 F789  ED B0       JPLD:	LDIR
 1150 F78B  B7          	OR A
 1151 F78C  C9          	RET
 1152                    
 1153 F78D  23          KDISP1	INC HL
 1154 F78E  7E          KYDISP:	LD A,(HL)
 1155 F78F  A7          	AND A
 1156 F790  C8          	RET Z
 1157 F791  CD F64E     	CALL CSTBT
 1158 F794  18 F7       	JR KDISP1
 1159                    
 1160 F796  7F7F        	DEFW 7F7FH	;>KEY<
 1161 F798  4B 45 59    	DEFM 'KEY'
 1162 F79B  01          	DEFB 1
 1163                   	;
 1164 F79C  28 5E       	JR Z,KEYLI
 1165 F79E  7D          	LD A,L
 1166                   	;
 1167 F79F  A7          KEY:	AND A		;UP 39 KEY
 1168 F7A0  21 B900     	LD HL,0B900H
 1169 F7A3  28 50       	JR Z,KKILL
 1170 F7A5  FE 0D       	CP 0DH
 1171 F7A7  D0          	RET NC
 1172 F7A8  47          	LD B,A
 1173 F7A9  7E          KEY1:	LD A,(HL)
 1174 F7AA  23          	INC HL
 1175 F7AB  A7          	AND A
 1176 F7AC  20 FB       	JR NZ,KEY1
 1177 F7AE  10 F9       	DJNZ KEY1
 1178 F7B0  CD F78E     	CALL KYDISP
 1179 F7B3  F5          KEY2:	PUSH AF
 1180 F7B4  2B          	DEC HL
 1181 F7B5  F1          KEY3:	POP AF
 1182 F7B6  CD F0A2     KEY4:	CALL INTB
 1183 F7B9  FE 13       	CP 13H
 1184 F7BB  CA F337     	JP Z,CRLF
 1185 F7BE  F5          	PUSH AF
 1186 F7BF  06 00       	LD B,0
 1187 F7C1  3D          	DEC A
 1188 F7C2  20 15       	JR NZ,KEY5
 1189 F7C4  7E          	LD A,(HL)
 1190 F7C5  A7          	AND A
 1191 F7C6  28 ED       	JR Z,KEY3
 1192 F7C8  54          	LD D,H
 1193 F7C9  5D          	LD E,L
 1194 F7CA  E5          	PUSH HL
 1195 F7CB  23          	INC HL
 1196 F7CC  3E 9C       	LD A,9CH
 1197 F7CE  95          	SUB L
 1198 F7CF  4F          	LD C,A
 1199 F7D0  ED B0       	LDIR
 1200 F7D2  E1          	POP HL
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  61
CAOSFI  ASM

 1201 F7D3  F1          	POP AF
 1202 F7D4  CD F0AB     	CALL OCHR
 1203 F7D7  18 DA       	JR KEY2
 1204 F7D9  3A B99A     KEY5:	LD A,(0B99AH)
 1205 F7DC  A7          	AND A
 1206 F7DD  20 D6       	JR NZ,KEY3
 1207 F7DF  E5          	PUSH HL
 1208 F7E0  3E 9B       	LD A,9BH
 1209 F7E2  95          	SUB L
 1210 F7E3  4F          	LD C,A
 1211 F7E4  21 B99A     	LD HL,0B99AH
 1212 F7E7  11 B99B     	LD DE,0B99BH
 1213 F7EA  ED B8       	LDDR
 1214 F7EC  E1          	POP HL
 1215 F7ED  F1          	POP AF
 1216 F7EE  23          	INC HL
 1217 F7EF  77          	LD (HL),A
 1218 F7F0  CD F64E     	CALL CSTBT
 1219 F7F3  18 C1       	JR KEY4
 1220                    
 1221 F7F5  06 9C       KKILL:	LD B,09CH
 1222 F7F7  77          KKIL1:	LD (HL),A
 1223 F7F8  23          	INC HL
 1224 F7F9  10 FC       	DJNZ KKIL1
 1225 F7FB  C9          	RET
 1226                    
 1227 F7FC  21 B900     KEYLI:	LD HL,0B900H	;UP 3A KEYLI
 1228 F7FF  01 0CF0     	LD BC,0CF0H
 1229 F802  0C          KEYL0:	INC C
 1230 F803  CD F342     	CALL CLLN
 1231 F806  79          	LD A,C
 1232 F807  CD F261     	CALL AHOSTR
 1233 F80A  20 3A       	DEFM ' :'
 1234 F80C  00          	DEFB 0
 1235 F80D  CD F78D     	CALL KDISP1
 1236 F810  CD F337     	CALL CRLF
 1237 F813  10 ED       	DJNZ KEYL0
 1238 F815  C9          	RET
 1239                    
 1240 F816  E5          CUCP:	PUSH HL		;UP 25 CUCP
 1241 F817  D5          	PUSH DE
 1242 F818  F5          	PUSH AF
 1243 F819  ED 5B B7A0  	LD DE,(0B7A0H)
 1244 F81D  CD E0BD     	CALL DABR
 1245 F820  38 21       	JR C,CEND
 1246 F822  7E          	LD A,(HL)
 1247 F823  CD E045     	CALL PADR1
 1248 F826  B7          	OR A
 1249 F827  20 0A       	JR NZ,CFARB
 1250 F829  CB ED       	SET 5,L
 1251 F82B  CB C4       	SET 0,H
 1252 F82D  7E          	LD A,(HL)
 1253 F82E  EE 7F       	XOR 7FH
 1254 F830  77          	LD (HL),A
 1255 F831  18 10       	JR CEND
 1256                    
 1257 F833  1A          CFARB:	LD A,(DE)
 1258 F834  2F          	CPL
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  62
CAOSFI  ASM

 1259 F835  12          	LD (DE),A
 1260 F836  CB EB       	SET 5,E
 1261 F838  1A          	LD A,(DE)
 1262 F839  2F          	CPL
 1263 F83A  DD CB 08 7E 	BIT 7,(IX+8)
 1264 F83E  20 02       	JR NZ,CFAB1
 1265 F840  EE 04       	XOR 4
 1266 F842  12          CFAB1:	LD (DE),A
 1267 F843  F1          CEND:	POP AF
 1268 F844  18 14       	JR PUDEND
 1269                    
 1270                   ;*** Grafiktreiber ***
 1271                    
 1272 F846  3E          PUDE:	DEFB 3EH	;UP 2F PUDE
 1273                   	;
 1274 F847  AF          PUSE:	XOR A		;UP 30 PUSE
 1275 F848  E5          	PUSH HL
 1276 F849  D5          	PUSH DE
 1277 F84A  2A B7D3     	LD HL,(0B7D3H)	;HOR
 1278 F84D  ED 5B B7D5  	LD DE,(0B7D5H)	;VERT
 1279 F851  B7          	OR A
 1280 F852  20 09       	JR NZ,PUDEJP
 1281 F854  CD F99B     	CALL WTESTV
 1282 F857  D4 F957     	CALL NC,POINT
 1283 F85A  D1          PUDEND:	POP DE
 1284 F85B  E1          	POP HL
 1285 F85C  C9          	RET
 1286                    
 1287 F85D  CD F99B     PUDEJP:	CALL WTESTV
 1288 F860  38 F8       	JR C,PUDEND
 1289 F862  C5          	PUSH BC
 1290 F863  CD F97F     	CALL BADR
 1291 F866  47          	LD B,A
 1292 F867  4E          	LD C,(HL)
 1293 F868  2F          	CPL
 1294 F869  A1          	AND C
 1295 F86A  77          	LD (HL),A
 1296 F86B  78          	LD A,B
 1297 F86C  A1          	AND C
 1298 F86D  1A          	LD A,(DE)
 1299 F86E  C1          	POP BC
 1300 F86F  18 E9       	JR PUDEND
 1301                    
 1302 F871  D9          LINE:	EXX		;UP 3E LINE
 1303 F872  E5          	PUSH HL
 1304 F873  D5          	PUSH DE
 1305 F874  C5          	PUSH BC
 1306 F875  ED 5B B788  	LD DE,(0B788H)
 1307 F879  2A B784     	LD HL,(0B784H)
 1308 F87C  D9          	EXX
 1309 F87D  CD F480     	CALL LARG
 1310 F880  50          	LD D,B
 1311 F881  59          	LD E,C
 1312 F882  AF          LINE1:	XOR A
 1313 F883  ED 52       	SBC HL,DE
 1314 F885  30 07       	JR NC,LINE2
 1315 F887  19          	ADD HL,DE
 1316 F888  EB          	EX DE,HL
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  63
CAOSFI  ASM

 1317 F889  D9          	EXX
 1318 F88A  EB          	EX DE,HL
 1319 F88B  D9          	EXX
 1320 F88C  18 F4       	JR LINE1
 1321 F88E  D9          LINE2:	EXX
 1322 F88F  D5          	PUSH DE
 1323 F890  ED 52       LINE3:	SBC HL,DE
 1324 F892  30 06       	JR NC,LINE4
 1325 F894  19          	ADD HL,DE
 1326 F895  EB          	EX DE,HL
 1327 F896  F6 01       	OR 1
 1328 F898  18 F6       	JR LINE3
 1329 F89A  E5          LINE4:	PUSH HL
 1330 F89B  D9          	EXX
 1331 F89C  C1          	POP BC
 1332 F89D  E5          	PUSH HL
 1333 F89E  ED 42       	SBC HL,BC
 1334 F8A0  E1          	POP HL
 1335 F8A1  C5          	PUSH BC
 1336 F8A2  30 03       	JR NC,LINE5
 1337 F8A4  E3          	EX (SP),HL
 1338 F8A5  F6 02       	OR 2
 1339 F8A7  E5          LINE5:	PUSH HL
 1340 F8A8  44          	LD B,H
 1341 F8A9  4D          	LD C,L
 1342 F8AA  D9          	EXX
 1343 F8AB  C1          	POP BC
 1344 F8AC  D1          	POP DE
 1345 F8AD  60          	LD H,B
 1346 F8AE  69          	LD L,C
 1347 F8AF  CB 3C       	SRL H
 1348 F8B1  CB 1D       	RR  L
 1349 F8B3  D9          	EXX
 1350 F8B4  E1          	POP HL
 1351 F8B5  EB          	EX DE,HL
 1352 F8B6  03          	INC BC
 1353 F8B7  CD F948     LINE6:	CALL SHLDE
 1354 F8BA  D9          	EXX
 1355 F8BB  A7          	AND A
 1356 F8BC  ED 52       	SBC HL,DE
 1357 F8BE  30 01       	JR NC,LINE7
 1358 F8C0  09          	ADD HL,BC
 1359 F8C1  D9          LINE7:	EXX
 1360 F8C2  CB 4F       	BIT 1,A
 1361 F8C4  20 02       	JR NZ,VDE
 1362 F8C6  30 0A       	JR NC,IHL
 1363 F8C8  CB 47       VDE:	BIT 0,A
 1364 F8CA  13          	INC DE
 1365 F8CB  28 02       	JR Z,IDE
 1366 F8CD  1B          	DEC DE
 1367 F8CE  1B          	DEC DE
 1368 F8CF  38 01       IDE:	JR C,IHL
 1369 F8D1  2B          	DEC HL
 1370 F8D2  ED A1       IHL:	CPI
 1371 F8D4  EA F8B7     	JP PE,LINE6
 1372                   	;
 1373 F8D7  C1          CIREND:	POP BC
 1374 F8D8  D1          	POP DE
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  64
CAOSFI  ASM

 1375 F8D9  E1          	POP HL
 1376 F8DA  D9          	EXX
 1377 F8DB  C9          	RET
 1378                    
 1379 F8DC  D9          CIRCLE:	EXX		;UP 3F CIRCLE
 1380 F8DD  E5          	PUSH HL
 1381 F8DE  D5          	PUSH DE
 1382 F8DF  C5          	PUSH BC
 1383 F8E0  3A B786     	LD A,(0B786H)	;ARG3
 1384 F8E3  4F          	LD C,A
 1385 F8E4  51          	LD D,C
 1386 F8E5  CD FA98     	CALL MULT
 1387 F8E8  60          	LD H,B
 1388 F8E9  6F          	LD L,A
 1389 F8EA  54          	LD D,H
 1390 F8EB  5D          	LD E,L
 1391 F8EC  79          	LD A,C
 1392 F8ED  06 00       	LD B,0
 1393 F8EF  CB 21       	SLA C
 1394 F8F1  CB 10       	RL  B
 1395 F8F3  0B          	DEC BC
 1396 F8F4  C5          	PUSH BC
 1397 F8F5  01 0001     	LD BC,1
 1398 F8F8  D9          	EXX
 1399 F8F9  4F          	LD C,A
 1400 F8FA  06 00       	LD B,0
 1401 F8FC  CD F922     CIR1:	CALL CIRUP1
 1402 F8FF  CD F922     	CALL CIRUP1
 1403 F902  D9          	EXX
 1404 F903  A7          	AND A
 1405 F904  ED 42       	SBC HL,BC
 1406 F906  03          	INC BC
 1407 F907  03          	INC BC
 1408 F908  ED 52       	SBC HL,DE
 1409 F90A  19          	ADD HL,DE
 1410 F90B  D9          	EXX
 1411 F90C  30 0C       	JR NC,CIR2
 1412 F90E  D9          	EXX
 1413 F90F  E3          	EX (SP),HL
 1414 F910  EB          	EX DE,HL
 1415 F911  A7          	AND A
 1416 F912  ED 52       	SBC HL,DE
 1417 F914  1B          	DEC DE
 1418 F915  1B          	DEC DE
 1419 F916  EB          	EX DE,HL
 1420 F917  E3          	EX (SP),HL
 1421 F918  D9          	EXX
 1422 F919  0D          	DEC C
 1423 F91A  04          CIR2:	INC B
 1424 F91B  79          	LD A,C
 1425 F91C  B8          	CP B
 1426 F91D  30 DD       	JR NC,CIR1
 1427 F91F  C1          	POP BC
 1428 F920  18 B5       	JR CIREND
 1429                    
 1430 F922  78          CIRUP1:	LD A,B
 1431 F923  41          	LD B,C
 1432 F924  4F          	LD C,A
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  65
CAOSFI  ASM

 1433 F925  AF          	XOR A
 1434 F926  57          	LD D,A
 1435 F927  2A B784     	LD HL,(0B784H)
 1436 F92A  E5          	PUSH HL
 1437 F92B  59          	LD E,C
 1438 F92C  19          	ADD HL,DE
 1439 F92D  CD F936     	CALL CIRUP2
 1440 F930  AF          	XOR A
 1441 F931  57          	LD D,A
 1442 F932  E1          	POP HL
 1443 F933  59          	LD E,C
 1444 F934  ED 52       	SBC HL,DE
 1445 F936  E5          CIRUP2:	PUSH HL
 1446 F937  2A B782     	LD HL,(0B782H)
 1447 F93A  58          	LD E,B
 1448 F93B  A7          	AND A
 1449 F93C  ED 52       	SBC HL,DE
 1450 F93E  D1          	POP DE
 1451 F93F  CD F948     	CALL SHLDE
 1452 F942  D5          	PUSH DE
 1453 F943  57          	LD D,A
 1454 F944  58          	LD E,B
 1455 F945  19          	ADD HL,DE
 1456 F946  19          	ADD HL,DE
 1457 F947  D1          	POP DE
 1458                   	;
 1459 F948  F5          SHLDE:	PUSH AF
 1460 F949  CD F997     	CALL WTEST
 1461 F94C  38 07       	JR C,ENDS
 1462 F94E  E5          	PUSH HL
 1463 F94F  D5          	PUSH DE
 1464 F950  CD F957     	CALL POINT
 1465 F953  D1          	POP DE
 1466 F954  E1          	POP HL
 1467 F955  F1          ENDS:	POP AF
 1468 F956  C9          	RET
 1469                    
 1470 F957  CD F97F     POINT:	CALL BADR
 1471 F95A  D5          	PUSH DE
 1472 F95B  ED 5B B7D6  	LD DE,(0B7D6H)
 1473 F95F  CB 4B       	BIT 1,E
 1474 F961  20 14       	JR NZ,NOTPT
 1475 F963  CB 43       	BIT 0,E
 1476 F965  20 15       	JR NZ,XORPT
 1477 F967  B6          	OR (HL)
 1478 F968  CB 53       XORPT1:	BIT 2,E
 1479 F96A  77          	LD (HL),A
 1480 F96B  7B          	LD A,E
 1481 F96C  D1          	POP DE
 1482 F96D  C0          	RET NZ
 1483 F96E  E6 F8       	AND 0F8H
 1484 F970  67          	LD H,A
 1485 F971  1A          	LD A,(DE)
 1486 F972  E6 07       	AND 7
 1487 F974  B4          	OR H
 1488 F975  12          	LD (DE),A
 1489 F976  C9          	RET
 1490                    
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  66
CAOSFI  ASM

 1491 F977  2F          NOTPT:	CPL
 1492 F978  A6          	AND (HL)
 1493 F979  77          	LD (HL),A
 1494 F97A  D1          	POP DE
 1495 F97B  C9          	RET
 1496                    
 1497 F97C  AE          XORPT:	XOR (HL)
 1498 F97D  18 E9       	JR XORPT1
 1499                    
 1500 F97F  7D          BADR:	LD A,L
 1501 F980  53          	LD D,E
 1502 F981  E6 07       	AND 7
 1503 F983  29          	ADD HL,HL
 1504 F984  29          	ADD HL,HL
 1505 F985  29          	ADD HL,HL
 1506 F986  29          	ADD HL,HL
 1507 F987  29          	ADD HL,HL
 1508 F988  6C          	LD L,H
 1509 F989  C6 F8       	ADD Low(BITTAB)
 1510 F98B  5F          	LD E,A
 1511 F98C  7A          	LD A,D
 1512 F98D  2F          	CPL
 1513 F98E  67          	LD H,A
 1514 F98F  3A B7D8     	LD A,(0B7D8H)
 1515 F992  57          	LD D,A
 1516 F993  1A          	LD A,(DE)
 1517 F994  C3 E04F     	JP PADR
 1518                    
 1519 F997  7A          WTEST:	LD A,D
 1520 F998  C6 FF       	ADD 0FFH
 1521 F99A  D8          	RET C
 1522 F99B  7C          WTESTV:	LD A,H
 1523 F99C  B7          	OR A
 1524 F99D  C8          	RET Z
 1525 F99E  C6 FE       	ADD 0FEH
 1526 F9A0  D8          	RET C
 1527 F9A1  7D          	LD A,L
 1528 F9A2  C6 C0       	ADD 0C0H
 1529 F9A4  C9          	RET
 1530                    
 1531                   ;*** Byteweise Tape-Routinen***
 1532                    
 1533 F9A5  5A          MBOUT:	LD E,D		;UP 38 MBOT
 1534 F9A6  57          	LD D,A
 1535 F9A7  D5          	PUSH DE
 1536 F9A8  C5          	PUSH BC
 1537 F9A9  CB 5B       	BIT 3,E
 1538 F9AB  20 46       	JR NZ,INITO
 1539 F9AD  3A B7DC     	LD A,(0B7DCH)
 1540 F9B0  26 B7       INITO2:	LD H,0B7H
 1541 F9B2  6F          	LD L,A
 1542 F9B3  72          	LD (HL),D
 1543 F9B4  3C          	INC A
 1544 F9B5  CB 73       	BIT 6,E
 1545 F9B7  20 25       	JR NZ,CLOSEO
 1546 F9B9  E6 7F       	AND 7FH
 1547 F9BB  32 B7DC     	LD (0B7DCH),A
 1548 F9BE  20 2E       	JR NZ,POPS
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  67
CAOSFI  ASM

 1549 F9C0  DD CB 07 4E 	BIT 1,(IX+7)
 1550 F9C4  28 09       	JR Z,KINITO
 1551 F9C6  CD F604     	CALL NBWI
 1552 F9C9  DD CB 07 8E 	RES 1,(IX+7)
 1553 F9CD  18 1F       	JR POPS
 1554                    
 1555 F9CF  CD F5E5     KINITO:	CALL NBW
 1556 F9D2  30 1A       	JR NC,POPS
 1557 F9D4  CD E45E     IOERRO:	CALL CRO0
 1558 F9D7  2A B7C9     IOERR:	LD HL,(0B7C9H)
 1559 F9DA  CD F091     	CALL IRMOFF
 1560 F9DD  E9          	JP (HL)
 1561                    
 1562 F9DE  DD CB 07 4E CLOSEO:	BIT 1,(IX+7)
 1563 F9E2  F5          	PUSH AF
 1564 F9E3  C4 F604     	CALL NZ,NBWI
 1565 F9E6  F1          	POP AF
 1566 F9E7  CC F5E5     	CALL Z,NBW
 1567 F9EA  37          	SCF
 1568 F9EB  CD F5E9     	CALL NBW1
 1569 F9EE  C1          POPS:	POP BC
 1570 F9EF  D1          	POP DE
 1571 F9F0  CB 9B       	RES 3,E
 1572 F9F2  C9          	RET
 1573                    
 1574 F9F3  DD CB 07 CE INITO:	SET 1,(IX+7)
 1575 F9F7  7E          	LD A,(HL)
 1576 F9F8  FE D5       	CP 'U'+80H
 1577 F9FA  20 04       	JR NZ,INITO1
 1578 F9FC  DD CB 07 EE 	SET 5,(IX+7)
 1579 FA00  D5          INITO1:	PUSH DE
 1580 FA01  11 B700     	LD DE,0B700H
 1581 FA04  01 000B     	LD BC,11
 1582 FA07  ED B0       	LDIR
 1583 FA09  7B          	LD A,E
 1584 FA0A  D1          	POP DE
 1585 FA0B  18 A3       	JR INITO2
 1586                    
 1587 FA0D  CD E442     IOERRI:	CALL CMBI
 1588 FA10  18 C5       	JR IOERR
 1589                    
 1590 FA12  5A          MBIN:	LD E,D		;UP 37 MBIN
 1591 FA13  D5          	PUSH DE
 1592 FA14  C5          	PUSH BC
 1593 FA15  CB 73       	BIT 6,E
 1594 FA17  20 65       	JR NZ,CLOSI
 1595 FA19  CB 5B       	BIT 3,E
 1596 FA1B  20 17       	JR NZ,INII
 1597 FA1D  3A B7DC     	LD A,(0B7DCH)
 1598 FA20  B7          	OR A
 1599 FA21  6F          	LD L,A
 1600 FA22  CC F58D     	CALL Z,NBR
 1601 FA25  38 E6       	JR C,IOERRI
 1602 FA27  26 B7       BYTHOL:	LD H,0B7H
 1603 FA29  56          	LD D,(HL)
 1604 FA2A  7D          	LD A,L
 1605 FA2B  3C          	INC A
 1606 FA2C  E6 7F       	AND 7FH
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  68
CAOSFI  ASM

 1607 FA2E  32 B7DC     	LD (0B7DCH),A
 1608 FA31  7A          	LD A,D
 1609 FA32  18 BA       POPS1:	JR POPS
 1610                    
 1611 FA34  DD CB 07 8E INII:	RES 1,(IX+7)
 1612 FA38  CD E40E     	CALL IMBII
 1613 FA3B  CD F58D     	CALL NBR
 1614 FA3E  38 CD       	JR C,IOERRI
 1615 FA40  11 B700     	LD DE,0B700H
 1616 FA43  06 0B       	LD B,11
 1617 FA45  1A          	LD A,(DE)
 1618 FA46  FE D5       	CP 'U'+80H
 1619 FA48  28 04       	JR Z,INII1
 1620 FA4A  DD CB 07 AE 	RES 5,(IX+7)
 1621 FA4E  C6 29       INII1:	ADD 29H
 1622 FA50  30 0D       	JR NC,INII2
 1623 FA52  1A          	LD A,(DE)
 1624 FA53  D6 04       	SUB 4
 1625 FA55  12          	LD (DE),A
 1626 FA56  13          	INC DE
 1627 FA57  12          	LD (DE),A
 1628 FA58  13          	INC DE
 1629 FA59  12          	LD (DE),A
 1630 FA5A  1B          	DEC DE
 1631 FA5B  1B          	DEC DE
 1632 FA5C  32 035E     	LD (35EH),A
 1633 FA5F  1A          INII2:	LD A,(DE)
 1634 FA60  CD E349     	CALL CRT
 1635 FA63  BE          	CP (HL)
 1636 FA64  28 04       	JR Z,INII3
 1637 FA66  DD CB 07 CE 	SET 1,(IX+7)
 1638 FA6A  13          INII3:	INC DE
 1639 FA6B  23          	INC HL
 1640 FA6C  10 F1       	DJNZ INII2
 1641 FA6E  CD F337     	CALL CRLF
 1642 FA71  DD CB 07 4E 	BIT 1,(IX+7)
 1643 FA75  DD CB 07 8E 	RES 1,(IX+7)
 1644 FA79  20 92       	JR NZ,IOERRI
 1645 FA7B  6B          	LD L,E
 1646 FA7C  18 A9       	JR BYTHOL
 1647                    
 1648 FA7E  CD E442     CLOSI:	CALL CMBI
 1649 FA81  18 AF       	JR POPS1
 1650                    
 1651                   ;*** Sonstiges ***
 1652                    
 1653 FA83  7E          ZKOUT:	LD A,(HL)		;UP 45 ZKOUT
 1654 FA84  23          	INC HL
 1655 FA85  A7          	AND A
 1656 FA86  C8          	RET Z
 1657 FA87  CD F0AB     	CALL OCHR
 1658 FA8A  18 F7       	JR ZKOUT
 1659                    
 1660 FA8C  AF          SQR:	XOR A		;UP 40 SQR
 1661 FA8D  3D          	DEC A
 1662 FA8E  5F          	LD E,A
 1663 FA8F  57          	LD D,A
 1664 FA90  3C          SQR1:	INC A
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  69
CAOSFI  ASM

 1665 FA91  13          	INC DE
 1666 FA92  13          	INC DE
 1667 FA93  ED 52       	SBC HL,DE
 1668 FA95  F8          	RET M
 1669 FA96  18 F8       	JR SQR1
 1670                    
 1671 FA98  AF          MULT:	XOR A		;UP 41 MULT
 1672 FA99  06 08       	LD B,8
 1673 FA9B  CB 1A       	RR D
 1674 FA9D  30 01       MU1:	JR NC,MU2
 1675 FA9F  81          	ADD C
 1676 FAA0  1F          MU2:	RRA
 1677 FAA1  CB 1A       	RR D
 1678 FAA3  10 F8       	DJNZ MU1
 1679 FAA5  47          	LD B,A
 1680 FAA6  7A          	LD A,D
 1681 FAA7  C9          	RET
 1682                    
 1683                   ; Module schalten fuer PWRON
 1684 FAA8  11 01EE     MODSW:	LD DE,UMODL	;IO-Modul
 1685 FAAB  CD FAC0     	CALL MOSW
 1686 FAAE  32 B7E1     	LD (0B7E1H),A	;IO-Modul 0/1?
 1687 FAB1  11 43F6     MODSW1:	LD DE,43F6H	;64K-Modul
 1688 FAB4  CD FAC0     	CALL MOSW
 1689 FAB7  1E F4       	LD E,0F4H	;16K-Modul
 1690 FAB9  B7          	OR A
 1691 FABA  CC FAC0     	CALL Z,MOSW	;nur wenn kein 64K-Modul
 1692 FABD  11 C1FB     	LD DE,0C1FBH	;8K ROM (EDAS, FORTH, TEXOR)
 1693                   ;Modul suchen und schalten
 1694                   ;PE:	E=Modulkennung
 1695                   ;	D=Sollzustand
 1696                   ;PA:	A=1 wenn gefunden
 1697                   ;	A=0 nicht gefunden
 1698 FAC0  01 0680     MOSW:	LD BC,680H	;ab Steckplatz 7
 1699 FAC3  AF          MOSW1:	XOR A
 1700 FAC4  04          	INC B		;Steckplatz+1
 1701 FAC5  C8          	RET Z		;alles durchsucht
 1702 FAC6  ED 78       	IN A,(C)
 1703 FAC8  BB          	CP E		;gesuchte Modulkennung?
 1704 FAC9  20 F8       	JR NZ,MOSW1
 1705 FACB  3E 01       	LD A,1
 1706 FACD  26 B8       MOSW2:	LD H,0B8H	;Steuerbytetabelle im IRM
 1707 FACF  68          	LD L,B		;Steckplatz
 1708 FAD0  ED 51       	OUT (C),D	;Modul schalten und
 1709 FAD2  72          	LD (HL),D	;in Tabelle eintragen
 1710 FAD3  C9          	RET
 1711                    
 1712                   ;*** Druckertreiber (V.24 bzw. CEN) ***
 1713                    
 1714 FAD4              PRZK:	;folgt TAB, 1.Byte Laenge
 1715 FAD4  E3          	EX (SP),HL
 1716 FAD5  46          	LD B,(HL)	;Laenge
 1717 FAD6  23          	INC HL
 1718 FAD7  7E          PRZK1:	LD A,(HL)	;Datenbyte
 1719 FAD8  23          	INC HL
 1720 FAD9  CD FB0A     	CALL PRINT
 1721 FADC  10 F9       	DJNZ PRZK1
 1722 FADE  E3          	EX (SP),HL
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  70
CAOSFI  ASM

 1723 FADF  C9          	RET
 1724                    
 1725 FAE0  F5          ECHO:	PUSH AF
 1726 FAE1  E5          	PUSH HL
 1727 FAE2  21 B7A2     	LD HL,0B7A2H	;STBT
 1728 FAE5  CB 66       	BIT 4,(HL)
 1729 FAE7  CD E349     	CALL CRT
 1730 FAEA  20 1A       	JR NZ,ECH4
 1731 FAEC  CB 5E       	BIT 3,(HL)
 1732 FAEE  28 0E       	JR Z,ECH2
 1733 FAF0  E6 7F       	AND 7FH
 1734 FAF2  FE 20       	CP 20H
 1735 FAF4  38 04       	JR C,ECH1
 1736 FAF6  FE 7F       	CP 7FH
 1737 FAF8  20 0C       	JR NZ,ECH4
 1738 FAFA  3E 5F       ECH1:	LD A,'_'
 1739 FAFC  18 06       	JR ECH3
 1740                    
 1741 FAFE  FE 09       ECH2:	CP 9		;CUR
 1742 FB00  20 02       	JR NZ,ECH3
 1743 FB02  3E 20       	LD A,' '
 1744 FB04  FE 0F       ECH3:	CP 0FH		;SH+CLR
 1745 FB06  E1          ECH4:	POP HL
 1746 FB07  28 17       	JR Z,PRT	;POP+RET
 1747 FB09  ED          	DEFB 0EDH	;NOP-BYTE
 1748                   	;
 1749 FB0A  F5          PRINT:	PUSH AF
 1750         0001      IF V24
 1751 FB0B  00          	NOP		;Freihalte-Bytes
 1752 FB0C  00          	NOP		; f. CENTR.Vers.
 1753 FB0D  CD F287     WT:	CALL BRKT
 1754 FB10  38 0E       	JR C,PRT
 1755 FB12  DB 0A       	IN A,(SIO+2)
 1756 FB14  CB 57       	BIT 2,A
 1757 FB16  28 F5       	JR Z,WT
 1758 FB18  F1          	POP AF
 1759 FB19  D3 08       	OUT (SIO),A
 1760 FB1B  C9          	RET
 1761 FB1C  ED 44       	NEG		; Fuell-Bytes?
 1762 FB1E  ED 44       	NEG		; Fuell-Bytes?
 1763                   ELSE
 1774                   ENDIF
 1775 FB20  F1          PRT:	POP AF
 1776 FB21  C9          	RET
 1777                    
 1778 FB22              SHCLX:	;Reaktion auf SH+CLR
 1779 FB22  3A B7E1     	LD A,(0B7E1H)	;HCPZ
 1780 FB25  3D          	DEC A
 1781 FB26  20 24       	JR NZ,HCPX	;IO-Modul vorhanden
 1782 FB28  2A B7B9     	LD HL,(0B7B9H)	;OUTAB
 1783 FB2B  7E          	LD A,(HL)
 1784 FB2C  B7          	OR A
 1785 FB2D  28 08       	JR Z,SHX1
 1786 FB2F  21 FB0A     	LD HL,PRINT
 1787 FB32  01 F008     	LD BC,ZEI0
 1788 FB35  18 06       	JR SHX2
 1789 FB37  21 FAE0     SHX1:	LD HL,ECHO
 1790 FB3A  01 F00B     	LD BC,ZEI2
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  71
CAOSFI  ASM

 1791 FB3D  22 B7BE     SHX2:	LD (0B7BEH),HL	;UOUT1+1
 1792 FB40  ED 43 B7B9  	LD (0B7B9H),BC	;OUTAB
 1793 FB44  C9          	RET
 1794                    
 1795 FB45  3A B7E1     ESC6:	LD A,(0B7E1H)	;HCPZ
 1796 FB48  B7          	OR A
 1797 FB49  C8          	RET Z		;kein IO-Modul
 1798 FB4A  18 03       	JR HCPX0
 1799 FB4C  FE 02       HCPX:	CP 2
 1800 FB4E  D0          	RET NC
 1801 FB4F  D5          HCPX0:	PUSH DE
 1802 FB50  21 0000     	LD HL,0
 1803 FB53  CD FAD4     HCPX1:	CALL PRZK
 1804 FB56  09          	DEFB 9
 1805 FB57  1B          	DEFB 1BH
 1806 FB58  4A          	DEFB 'J'	;Vorschub 1/9"
 1807 FB59  18          	DEFB 24
 1808 FB5A  0D          	DEFB 0DH
 1809 FB5B  1B          	DEFB 1BH
 1810 FB5C  2A          	DEFB '*'	;Plottergrafik
 1811 FB5D  05          	DEFB 5
 1812 FB5E  0140        	DEFW 140H
 1813 FB60  E5          HCPX2:	PUSH HL
 1814 FB61  CD E04F     	CALL PADR
 1815 FB64  CD FB98     	CALL RDX
 1816 FB67  0E 08       	LD C,8
 1817 FB69  21 B78E     HCPX3:	LD HL,0B78EH	;ARG7
 1818 FB6C  06 08       	LD B,8
 1819 FB6E  CB 16       HCPX4:	RL (HL)
 1820 FB70  2C          	INC L
 1821 FB71  17          	RLA
 1822 FB72  10 FA       	DJNZ HCPX4
 1823 FB74  2E A2       	LD L,0A2H
 1824 FB76  CB 56       	BIT 2,(HL)
 1825 FB78  28 01       	JR Z,HCPX5
 1826 FB7A  2F          	CPL		;negiert
 1827 FB7B  CD FB0A     HCPX5:	CALL PRINT
 1828 FB7E  0D          	DEC C
 1829 FB7F  20 E8       	JR NZ,HCPX3
 1830 FB81  E1          	POP HL
 1831 FB82  2C          	INC L
 1832 FB83  7D          	LD A,L
 1833 FB84  FE 28       	CP 40
 1834 FB86  20 D8       	JR NZ,HCPX2
 1835 FB88  2E 00       	LD L,0
 1836 FB8A  7C          	LD A,H
 1837 FB8B  C6 08       	ADD 8
 1838 FB8D  67          	LD H,A
 1839 FB8E  30 C3       	JR NC,HCPX1
 1840 FB90  CD FAD4     	CALL PRZK
 1841 FB93  02          	DEFB 2
 1842 FB94  0D0A        	DEFW 0D0AH
 1843 FB96  D1          	POP DE
 1844 FB97  C9          	RET
 1845                    
 1846 FB98              RDX:	;liest Zeichen nach ARG7
 1847 FB98  11 B78E     	LD DE,0B78EH
 1848 FB9B  01 0080     	LD BC,80H
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  72
CAOSFI  ASM

 1849 FB9E  E5          	PUSH HL
 1850 FB9F  CD FBA5     	CALL RDX1
 1851 FBA2  E1          	POP HL
 1852 FBA3  CB ED       	SET 5,L
 1853 FBA5  3E 04       RDX1:	LD A,4
 1854 FBA7  ED A0       RDX2:	LDI
 1855 FBA9  09          	ADD HL,BC
 1856 FBAA  03          	INC BC
 1857 FBAB  3D          	DEC A
 1858 FBAC  20 F9       	JR NZ,RDX2
 1859 FBAE  C9          	RET
 1860                    
 1861         0001      IF V24
 1862 FBAF  7F7F        	DEFW 7F7FH	;>V24><
 1863 FBB1  56 32 34    	DEFM 'V24'
 1864 FBB4  01          	DEFB 1		; als Parameter 0 oder 1 eingeben
 1865                   	;		; (fuer V.24-Modul nutzen oder nicht)
 1866                   ELSE
 1871                   ENDIF
 1872 FBB5  7D          	LD A,L
 1873 FBB6  32 B7E1     	LD (0B7E1H),A	;HCPZ: IO-Modul
 1874 FBB9  C9          	RET
 1875                    
 1876 FBBA  7F7F        	DEFW 7F7FH	;>SEND<
 1877 FBBC  53 45 4E 44 	DEFM 'SEND'
 1878 FBC0  01          	DEFB 1
 1879                   	;
 1880 FBC1  C8          	RET Z		;kein Argument eingegeben
 1881 FBC2  47          	LD B,A		;Anzahl Argumente
 1882 FBC3  21 B782     	LD HL,0B782H	;ARG1
 1883 FBC6  7E          SND1:	LD A,(HL)
 1884 FBC7  23          	INC HL
 1885 FBC8  23          	INC HL
 1886 FBC9  CD FB0A     	CALL PRINT
 1887 FBCC  10 F8       	DJNZ SND1
 1888 FBCE  C9          	RET
 1889                    
 1890 FBCF  7F7F        	DEFW 7F7FH	;>USER<
 1891 FBD1  55 53 45 52 	DEFM 'USER'
 1892 FBD5  01          	DEFB 1
 1893                   	;
 1894 FBD6  FE 03       	CP 3
 1895 FBD8  CA F789     	JP Z,JPLD
 1896 FBDB  3D          	DEC A
 1897 FBDC  C2 F32D     	JP NZ,ERRM
 1898 FBDF  E9          	JP (HL)
 1899                    
 1900 FBE0  7F7F        	DEFW 7F7FH
 1901 FBE2  53 45 45 4B 	DEFM 'SEEK'
 1902 FBE6  01          	DEFB 1
 1903                    
 1904 FBE7  FE 03       	CP	3
 1905 FBE9  D8          	RET	C
 1906 FBEA  EB          	EX	DE,HL
 1907 FBEB  ED 52       	SBC	HL,DE
 1908 FBED  44          	LD	B,H
 1909 FBEE  4D          	LD	C,L
 1910 FBEF  EB          	EX	DE,HL
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  73
CAOSFI  ASM

 1911 FBF0  11 B786     SCHL	LD	DE,0B786H	;ARG3
 1912 FBF3  1A          	LD	A,(DE)
 1913 FBF4  ED B1       	CPIR
 1914 FBF6  E2 F337     	JP	PO,CRLF
 1915 FBF9  C5          	PUSH	BC
 1916 FBFA  E5          	PUSH	HL
 1917 FBFB  3A B781     	LD	A,(0B781H)
 1918 FBFE  D6 03       	SUB	3
 1919 FC00  47          	LD	B,A
 1920 FC01  28 09       	JR	Z,GEF
 1921 FC03  13          NBYT	INC	DE
 1922 FC04  13          	INC	DE
 1923 FC05  1A          	LD	A,(DE)
 1924 FC06  BE          	CP	(HL)
 1925 FC07  23          	INC	HL
 1926 FC08  20 10       	JR	NZ,NGEF
 1927 FC0A  10 F7       	DJNZ	NBYT
 1928 FC0C  E1          GEF	POP	HL
 1929 FC0D  C1          	POP	BC
 1930 FC0E  2B          	DEC	HL
 1931 FC0F  CD F320     	CALL	HLHX
 1932 FC12  23          	INC	HL
 1933 FC13  CD F287     	CALL	BRKT
 1934 FC16  DA F337     	JP	C,CRLF
 1935 FC19  11          	DEFB	11H
 1936 FC1A  E1          NGEF	POP	HL
 1937 FC1B  C1          	POP	BC
 1938 FC1C  18 D2       	JR	SCHL
 1939                    
 1940                   ;*** Tabellen ***
 1941                    
 1942 FC1E  E1DB        ESCTAB:	DEFW ASC5	;ESC0	Tabulatorschritt
 1943 FC20  E405        	DEFW ESC1	;ESC1
 1944 FC22  F62C        	DEFW ESC2	;ESC2
 1945 FC24  E360        	DEFW ESC3	;ESC3
 1946 FC26  E35D        	DEFW ESC4	;ESC4
 1947 FC28  F0D9        	DEFW MODUL	;ESC5	Auflisten aller Module
 1948 FC2A  FB45        	DEFW ESC6	;ESC6
 1949 FC2C  E35E        	DEFW ESC7	;ESC7
 1950 FC2E  E323        	DEFW ASC6	;ESC8
 1951 FC30  E35F        	DEFW ESCF	;ESC9
 1952 FC32  E560        	DEFW MOT	;ESCA
 1953                    
 1954                    
 1955 FC34  E349        SUTAB:	DEFW CRT	;0
 1956 FC36  E496        	DEFW MBOT	;1
 1957 FC38  B7BD        	DEFW 0B7BDH	;UOUT 1
 1958 FC3A  B7C3        	DEFW 0B7C3H	;UOUT 2
 1959 FC3C  F29B        	DEFW KBD	;4
 1960 FC3E  E4FF        	DEFW MBI	;5
 1961 FC40  B7C0        	DEFW 0B7C0H	;USIN 1
 1962 FC42  B7C6        	DEFW 0B7C6H	;USIN 2
 1963 FC44  E483        	DEFW ISRO	;8
 1964 FC46  E456        	DEFW CSRO	;9
 1965 FC48  E4F7        	DEFW ISRI	;0A
 1966 FC4A  F541        	DEFW CSRI	;0B
 1967 FC4C  E3F1        	DEFW KBDS	;0C
 1968 FC4E  F18C        	DEFW BYE	;0D
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  74
CAOSFI  ASM

 1969 FC50  E3FC        	DEFW KBDZ	;0E
 1970 FC52  F614        	DEFW COLOR	;0F
 1971 FC54  F4AF        	DEFW LOAD	;10
 1972 FC56  F4A2        	DEFW VERIFY	;11
 1973 FC58  F1F3        	DEFW LOOP	;12
 1974 FC5A  F26A        	DEFW NORM	;13
 1975 FC5C  F24D        	DEFW WAIT	;14
 1976 FC5E  F480        	DEFW LARG	;15
 1977 FC60  F0A2        	DEFW INTB	;16
 1978 FC62  F2F9        	DEFW INLIN	;17
 1979 FC64  F362        	DEFW RHEX	;18
 1980 FC66  F32D        	DEFW ERRM	;19
 1981 FC68  F320        	DEFW HLHX	;1A
 1982 FC6A  F359        	DEFW HLDE	;1B
 1983 FC6C  F346        	DEFW AHEX	;1C
 1984 FC6E  F224        	DEFW ZSUCH	;1D
 1985 FC70  F270        	DEFW SOUT	;1E
 1986 FC72  F27D        	DEFW SIN	;1F
 1987 FC74  F26D        	DEFW NOUT	;20
 1988 FC76  F27A        	DEFW NIN	;21
 1989 FC78  F397        	DEFW GARG	;22
 1990 FC7A  F264        	DEFW OSTR	;23
 1991 FC7C  F0AB        	DEFW OCHR	;24
 1992 FC7E  F816        	DEFW CUCP	;25
 1993 FC80  F0E9        	DEFW MODU	;26
 1994 FC82  F141        	DEFW JUMP	;27
 1995 FC84  E339        	DEFW LDMA	;28
 1996 FC86  E33B        	DEFW LDAM	;29
 1997 FC88  F287        	DEFW BRKT	;2A
 1998 FC8A  F328        	DEFW SPAC	;2B
 1999 FC8C  F337        	DEFW CRLF	;2C
 2000 FC8E  F33E        	DEFW HOME	;2D
 2001 FC90  F69A        	DEFW MODI	;2E
 2002 FC92  F846        	DEFW PUDE	;2F
 2003 FC94  F847        	DEFW PUSE	;30
 2004 FC96  F3CD        	DEFW SIXD	;31
 2005 FC98  E0BD        	DEFW DABR	;32
 2006 FC9A  E0B1        	DEFW TCIF	;33
 2007 FC9C  E04F        	DEFW PADR	;34
 2008 FC9E  E5BE        	DEFW TON	;35
 2009 FCA0  F447        	DEFW SAVE	;36
 2010 FCA2  FA12        	DEFW MBIN	;37
 2011 FCA4  F9A5        	DEFW MBOUT	;38
 2012 FCA6  F79F        	DEFW KEY	;39
 2013 FCA8  F7FC        	DEFW KEYLI	;3A
 2014 FCAA  F665        	DEFW DISP	;3B
 2015 FCAC  F730        	DEFW WININ	;3C
 2016 FCAE  F74C        	DEFW WINAK	;3D
 2017 FCB0  F871        	DEFW LINE	;3E
 2018 FCB2  F8DC        	DEFW CIRCLE	;3F
 2019 FCB4  FA8C        	DEFW SQR	;40
 2020 FCB6  FA98        	DEFW MULT	;41
 2021 FCB8  F64E        	DEFW CSTBT	;42
 2022 FCBA  F417        	DEFW INIEA	;43
 2023 FCBC  F422        	DEFW INIME	;44
 2024 FCBE  FA83        	DEFW ZKOUT	;45
 2025 FCC0  F1B2        	DEFW MENU	;46
 2026                    
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  75
CAOSFI  ASM

 2027                    
 2028 FCC2  E348        CRTTAB:	DEFW DUMMY
 2029 FCC4  E223        	DEFW CLEAR
 2030 FCC6  E2ED        	DEFW DELLN
 2031 FCC8  E348        	DEFW DUMMY	;BRK
 2032 FCCA  E348        	DEFW DUMMY
 2033 FCCC  E1DB        	DEFW ASC5	;Tab
 2034 FCCE  E323        	DEFW ASC6	;Color
 2035 FCD0  E011        	DEFW BEL
 2036 FCD2  E202        	DEFW CUL
 2037 FCD4  E1EB        	DEFW CUR
 2038 FCD6  E1F4        	DEFW CUD
 2039 FCD8  E212        	DEFW CUU
 2040 FCDA  E299        	DEFW CLS
 2041 FCDC  E2A9        	DEFW CRN
 2042 FCDE  E348        	DEFW DUMMY
 2043 FCE0  E1FE        	DEFW HCOPY
 2044 FCE2  E2A7        	DEFW HOMEPG
 2045 FCE4  E217        	DEFW PAGE
 2046 FCE6  E21E        	DEFW SCROL
 2047 FCE8  E348        	DEFW DUMMY	;STOP
 2048 FCEA  E340        	DEFW CLICK
 2049 FCEC  E348        	DEFW DUMMY
 2050 FCEE  E33D        	DEFW SHLOCK
 2051 FCF0  E348        	DEFW DUMMY
 2052 FCF2  E20C        	DEFW CEL
 2053 FCF4  E2A9        	DEFW CRN	;CCR
 2054 FCF6  E249        	DEFW INS
 2055 FCF8  E35C        	DEFW ESC
 2056 FCFA  E348        	DEFW DUMMY	;LIST
 2057 FCFC  E348        	DEFW DUMMY	;RUN
 2058 FCFE  E1F2        	DEFW CRNL	;CONT
 2059 FD00  E226        	DEFW DEL
 2060                    
 2061                    
 2062 FD02  57 77       KTAB:	DEFM 'Ww'
 2063 FD04  41 61       	DEFM 'Aa'
 2064 FD06  32 22       	DEFM '2"'
 2065 FD08  1908        	DEFW 1908H
 2066 FD0A  0C10        	DEFW 0C10H
 2067 FD0C  2D 3D       	DEFM '-='
 2068 FD0E  F8F2        	DEFW 0F8F2H
 2069 FD10  59 79       	DEFM 'Yy'
 2070 FD12  45 65       	DEFM 'Ee'
 2071 FD14  53 73       	DEFM 'Ss'
 2072 FD16  33 23       	DEFM '3#'
 2073 FD18  5E 5D       	DEFM '^]'
 2074 FD1A  0F01        	DEFW 0F01H
 2075 FD1C  3A 2A       	DEFM ':*'
 2076 FD1E  F9F3        	DEFW 0F9F3H
 2077 FD20  58 78       	DEFM 'Xx'
 2078 FD22  54 74       	DEFM 'Tt'
 2079 FD24  46 66       	DEFM 'Ff'
 2080 FD26  35 25       	DEFM '5%'
 2081 FD28  50 70       	DEFM 'Pp'
 2082 FD2A  021F        	DEFW 21FH
 2083 FD2C  4030        	DEFW 4030H
 2084 FD2E  FBF5        	DEFW 0FBF5H
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  76
CAOSFI  ASM

 2085 FD30  56 76       	DEFM 'Vv'
 2086 FD32  55 75       	DEFM 'Uu'
 2087 FD34  48 68       	DEFM 'Hh'
 2088 FD36  2737        	DEFW 2737H
 2089 FD38  4F 6F       	DEFM 'Oo'
 2090 FD3A  141A        	DEFW 141AH
 2091 FD3C  39 29       	DEFM '9)'
 2092 FD3E  0303        	DEFW 303H
 2093 FD40  4E 6E       	DEFM 'Nn'
 2094 FD42  49 69       	DEFM 'Ii'
 2095 FD44  4A 6A       	DEFM 'Jj'
 2096 FD46  38 28       	DEFM '8('
 2097 FD48  20 5B       	DEFM ' ['
 2098 FD4A  4B 6B       	DEFM 'Kk'
 2099 FD4C  2C 3C       	DEFM ',<'
 2100 FD4E  1B13        	DEFW 1B13H	;STOP/ESC
 2101 FD50  4D 6D       	DEFM 'Mm'
 2102 FD52  5A 7A       	DEFM 'Zz'
 2103 FD54  47 67       	DEFM 'Gg'
 2104 FD56  36 26       	DEFM '6&'
 2105 FD58  051B        	DEFW 51BH	;Taste nicht vorhanden
 2106 FD5A  4C 6C       	DEFM 'Ll'
 2107 FD5C  2E 3E       	DEFM '.>'
 2108 FD5E  FCF6        	DEFW 0FCF6H
 2109 FD60  42 62       	DEFM 'Bb'
 2110 FD62  52 72       	DEFM 'Rr'
 2111 FD64  44 64       	DEFM 'Dd'
 2112 FD66  34 24       	DEFM '4$'
 2113 FD68  5F 5C       	DEFM '_\'
 2114 FD6A  2B 3B       	DEFM '+;'
 2115 FD6C  2F 3F       	DEFM '/?'
 2116 FD6E  FAF4        	DEFW 0FAF4H
 2117 FD70  43 63       	DEFM 'Cc'
 2118 FD72  51 71       	DEFM 'Qq'
 2119 FD74  1616        	DEFW 1616H
 2120 FD76  31 21       	DEFM '1!'
 2121 FD78  120A        	DEFW 120AH
 2122 FD7A  110B        	DEFW 110BH
 2123 FD7C  1809        	DEFW 1809H
 2124 FD7E  F7F1        	DEFW 0F7F1H
 2125 FD80  0D0D        	DEFW 0D0DH
 2126                    
 2127                    
 2128 FD82  E576        ISRTAB:	DEFW ISRPA
 2129 FD84  E372        	DEFW ISRPB
 2130 FD86  E585        	DEFW INTEND
 2131 FD88  E566        	DEFW ISRC1
 2132 FD8A  E5B5        	DEFW ISRC2
 2133 FD8C  E366        	DEFW ISRC3
 2134                    
 2135                    
 2136 FD8E              KCTAB0:
 2137 FD8E  8A          	DEFB	8AH	;PIO A Steuerwort
 2138 FD8F  02          	DEFB	2	;2 Parameter
 2139 FD90  E4          	DEFB	0E4H	;Interruptvektor
 2140 FD91  4F          	DEFB	4FH	;Byte-Ausgabe
 2141                   	;
 2142 FD92  88          	DEFB 88H	;PIO A Daten
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  77
CAOSFI  ASM

 2143 FD93  01          	DEFB 1		;Anzahl
 2144 FD94  1F          	DEFB 1FH	;/NMI=H! (interner ROM mit CAOS 3.1 aus)
 2145         0001      IF V24
 2146 FD95  0C          	DEFB CTC	;SIO-CTC
 2147 FD96  02          	DEFB 2		;Anzahl
 2148 FD97  47          	DEFB 47H	;9600 Bd
 2149 FD98  5B          	DEFB 5BH
 2150                   	;
 2151 FD99  0A          	DEFB SIO+2	;Drucker SIO
 2152 FD9A  06          	DEFB 6		;Takt *1
 2153 FD9B  04          	DEFB 4		;8 Datenbits
 2154 FD9C  04          	DEFB 4		;1 Stopbit
 2155 FD9D  03          	DEFB 3		;keine Parit{t
 2156 FD9E  20          	DEFB 20H
 2157 FD9F  05          	DEFB 5
 2158 FDA0  6A          	DEFB 6AH
 2159                   ELSE
 2174                   ENDIF
 2175 FDA1              KCTAB1:
 2176 FDA1  8A          	DEFB 8AH	;PIO A C
 2177 FDA2  03          	DEFB 3		;Anz.
 2178 FDA3  E4          	DEFB 0E4H	;I-Vektor
 2179 FDA4  0F          	DEFB 0FH	;Byteout
 2180 FDA5  03          	DEFB 3		;DI
 2181                   	;
 2182 FDA6  8B          	DEFB 8BH	;PIO B C
 2183 FDA7  03          	DEFB 3		;Anz.
 2184 FDA8  E6          	DEFB 0E6H	;I-Vektor
 2185 FDA9  0F          	DEFB 0FH	;Byteout
 2186 FDAA  83          	DEFB 83H	;EI
 2187                   	;
 2188 FDAB  8C          	DEFB 8CH	;CTC 0
 2189 FDAC  01          	DEFB 1		;Anz.
 2190 FDAD  E8          	DEFB 0E8H	;I-Vektor
 2191                   	;
 2192 FDAE  8E          	DEFB 8EH	;CTC 2
 2193 FDAF  02          	DEFB 2		;Anz.
 2194 FDB0  47          	DEFB 47H	;Zaehler,DI
 2195 FDB1  0C          	DEFB 0CH	;Blink-ZK
 2196                    
 2197                    
 2198 FDB2  FB22        SYSTAB:	DEFW SHCLX	;HCADR
 2199 FDB4  00          	DEFB 0		;WINNR
 2200 FDB5  0000        	DEFW 0		;WINON
 2201 FDB7  2028        	DEFW 2028H	;WINLG
 2202 FDB9  0000        	DEFW 0		;CURSO
 2203 FDBB  00          	DEFB 0		;STBT
 2204 FDBC  39          	DEFB 39H	;COLOR
 2205 FDBD  E2AC        	DEFW SCRLPG	;WEND
 2206 FDBF  EE00        	DEFW 0EE00H	;CCTL 0
 2207 FDC1  FE00        	DEFW 0FE00H	;CCTL 1
 2208 FDC3  EE00        	DEFW 0EE00H	;CCTL 2
 2209 FDC5  FE00        	DEFW 0FE00H	;CCLT 3
 2210 FDC7  01C4        	DEFW 01C4H	;SYSP
 2211 FDC9  FC34        	DEFW SUTAB	;SUTAB
 2212 FDCB  FCC2        	DEFW CRTTAB	;CTAB
 2213 FDCD  D3 88       	OUT (88H),A	;JUMP IN NEUES
 2214 FDCF  C3 F012     	JP 0F012H	; CAOS
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  78
CAOSFI  ASM

 2215 FDD2  F008        	DEFW ZEI0	;OUTAB
 2216 FDD4  F00E        	DEFW ZEI4	;INTAB
 2217 FDD6  C3 FB0A     	JP PRINT	;USER OUT 2
 2218 FDD9  C3 E348     	JP DUMMY	;USER  IN 2
 2219 FDDC  C3 E348     	JP DUMMY	;USER OUT 3
 2220 FDDF  C3 E348     	JP DUMMY	;USER  IN 3
 2221 FDE2  DC82        	DEFW 0DC82H	;ZEIG. IO ERROR
 2222 FDE4              STBE1:	;
 2223 FDE4  FD          	DEFB 0FDH	;H-Teil Bittab
 2224 FDE5  25          	DEFM '%'	;Prompter
 2225 FDE6  00A0        	DEFW 0A0H	;Vortonl{nge
 2226 FDE8  00          	DEFB 0		;Byte-Z{hler
 2227 FDE9  FC1E        	DEFW ESCTAB
 2228 FDEB  0B          	DEFB 11		;L{nge ESC-TAB.
 2229 FDEC  05          	DEFB 5		;COUNT
 2230 FDED              STBE2:	;
 2231                   	;
 2232         0032      STBL1	EQU STBE1-SYSTAB
 2233         0009      STBL2	EQU STBE2-STBE1
 2234                    
 2235                    
 2236 FDED  FF FF FF FF 	DS 0FDF8h-$,0FFH
 2237 FDF8  80          BITTAB:	DEFB 80H
 2238 FDF9  40          	DEFB 40H
 2239 FDFA  20          	DEFB 20H
 2240 FDFB  10          	DEFB 10H
 2241 FDFC  08          	DEFB 08H
 2242 FDFD  04          	DEFB 04H
 2243 FDFE  02          	DEFB 02H
 2244 FDFF  01          	DEFB 01H
 2245                   ;
 2246                   ;
 2247                   ;	END
   18                   include zskl34.inc		; Zeichensatz Kleinbuchstaben
    1                   ;*****************************************
    2                   ;**	CAOS 4.5 Zeichensatz Klein	**
    3                   ;**					**
    4                   ;**	Adresse:  FE00h bis FFFFh	**
    5                   ;**					**
    6                   ;**	letzte Aenderung: 19.08.2023	**
    7                   ;*****************************************
    8                   
    9                   ; 19.08.2023: Codes aus ROM-Images regeneriert
   10                   
   11 FE00  00 00 00 00 	DB	000H, 000H, 000H, 000H, 000H, 000H, 081H, 0FFH	; 00H Dummy
   12 FE08  00 00 22 72 	DB	000H, 000H, 022H, 072H, 022H, 03EH, 000H, 000H	; 01H Backspace
   13 FE10  00 00 12 32 	DB	000H, 000H, 012H, 032H, 07EH, 032H, 012H, 000H	; 02H Zeile loeschen
   14 FE18  7E 81 B9 A5 	DB	07EH, 081H, 0B9H, 0A5H, 0B9H, 0A5H, 0B9H, 081H	; 03H Break
   15 FE20  55 FF 55 FF 	DB	055H, 0FFH, 055H, 0FFH, 055H, 0FFH, 055H, 0FFH	; 04H
   16 FE28  AA AA AA AA 	DB	0AAH, 0AAH, 0AAH, 0AAH, 0AAH, 0AAH, 0AAH, 0AAH	; 05H
   17 FE30  FF 00 FF 00 	DB	0FFH, 000H, 0FFH, 000H, 0FFH, 000H, 0FFH, 000H	; 06H
   18 FE38  00 00 3C 42 	DB	000H, 000H, 03CH, 042H, 042H, 07EH, 000H, 000H	; 07H Beep
   19 FE40  00 10 30 7E 	DB	000H, 010H, 030H, 07EH, 030H, 010H, 000H, 000H	; 08H Cursor links
   20 FE48  00 08 0C 7E 	DB	000H, 008H, 00CH, 07EH, 00CH, 008H, 000H, 000H	; 09H Cursor rechts
   21 FE50  00 10 10 10 	DB	000H, 010H, 010H, 010H, 07CH, 038H, 010H, 000H	; 0AH Cursor unten
   22 FE58  08 1C 3E 08 	DB	008H, 01CH, 03EH, 008H, 008H, 008H, 008H, 000H	; 0BH Cursor oben
   23 FE60  38 30 28 08 	DB	038H, 030H, 028H, 008H, 008H, 008H, 03EH, 000H	; 0CH Bildschirm loeschen
   24 FE68  00 00 12 32 	DB	000H, 000H, 012H, 032H, 07EH, 030H, 010H, 000H	; 0DH Enter
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  79
ZSKL34  INC

   25 FE70  AA 55 AA 55 	DB	0AAH, 055H, 0AAH, 055H, 0AAH, 055H, 0AAH, 055H	; 0EH
   26 FE78  3E 7C 7C 3E 	DB	03EH, 07CH, 07CH, 03EH, 03EH, 07CH, 0F8H, 0F8H	; 0FH Hardcopy
   27                   
   28 FE80  38 30 28 04 	DB	038H, 030H, 028H, 004H, 004H, 004H, 004H, 000H	; 10H Cursor Home
   29 FE88  7F 08 1C 2A 	DB	07FH, 008H, 01CH, 02AH, 008H, 008H, 008H, 000H	; 11H Page-Modus
   30 FE90  00 08 08 08 	DB	000H, 008H, 008H, 008H, 02AH, 01CH, 008H, 07FH	; 12H Scroll-Modus
   31 FE98  7E 81 9D A1 	DB	07EH, 081H, 09DH, 0A1H, 0B9H, 085H, 085H, 0B9H	; 13H Stop
   32 FEA0  00 3C 42 5A 	DB	000H, 03CH, 042H, 05AH, 05AH, 042H, 03CH, 000H	; 14H Tastenclick
   33 FEA8  88 44 22 11 	DB	088H, 044H, 022H, 011H, 088H, 044H, 022H, 011H	; 15H
   34 FEB0  00 7F 22 72 	DB	000H, 07FH, 022H, 072H, 027H, 022H, 07FH, 000H	; 16H Shift-Lock
   35 FEB8  11 22 44 88 	DB	011H, 022H, 044H, 088H, 011H, 022H, 044H, 088H	; 17H
   36 FEC0  00 01 09 0D 	DB	000H, 001H, 009H, 00DH, 07FH, 00DH, 009H, 001H	; 18H Cursor an Zeilenende
   37 FEC8  00 90 B0 FE 	DB	000H, 090H, 0B0H, 0FEH, 0B0H, 090H, 000H, 000H	; 19H Cursor an Zeilenanfang
   38 FED0  00 08 7C 06 	DB	000H, 008H, 07CH, 006H, 07CH, 008H, 000H, 000H	; 1AH INS
   39 FED8  CC CC 33 33 	DB	0CCH, 0CCH, 033H, 033H, 0CCH, 0CCH, 033H, 033H	; 1BH ESC
   40 FEE0  7E 81 A1 A1 	DB	07EH, 081H, 0A1H, 0A1H, 0A1H, 0A1H, 0BDH, 081H	; 1CH List
   41 FEE8  7E 81 B9 A5 	DB	07EH, 081H, 0B9H, 0A5H, 0B9H, 0A5H, 0A5H, 081H	; 1DH Run
   42 FEF0  7E 81 99 A1 	DB	07EH, 081H, 099H, 0A1H, 0A1H, 0A1H, 099H, 081H	; 1EH Cont
   43 FEF8  00 10 3E 60 	DB	000H, 010H, 03EH, 060H, 03EH, 010H, 000H, 000H	; 1FH DEL
   44                   
   45 FF00  3C 42 99 A1 	DB	03CH, 042H, 099H, 0A1H, 0A1H, 099H, 042H, 03CH	; 60H (c)
   46 FF08  00 00 78 0C 	DB	000H, 000H, 078H, 00CH, 07CH, 0CCH, 076H, 000H	; 61H a
   47 FF10  E0 60 7C 66 	DB	0E0H, 060H, 07CH, 066H, 066H, 066H, 0DCH, 000H	; 62H b
   48 FF18  00 00 78 CC 	DB	000H, 000H, 078H, 0CCH, 0C0H, 0CCH, 078H, 000H	; 63H c
   49 FF20  1C 0C 7C CC 	DB	01CH, 00CH, 07CH, 0CCH, 0CCH, 0CCH, 076H, 000H	; 64H d
   50 FF28  00 00 78 CC 	DB	000H, 000H, 078H, 0CCH, 0FCH, 0C0H, 078H, 000H	; 65H e
   51 FF30  38 6C 60 F0 	DB	038H, 06CH, 060H, 0F0H, 060H, 060H, 0F0H, 000H	; 66H f
   52 FF38  00 00 76 CC 	DB	000H, 000H, 076H, 0CCH, 0CCH, 07CH, 00CH, 0F8H	; 67H g
   53 FF40  E0 60 6C 76 	DB	0E0H, 060H, 06CH, 076H, 066H, 066H, 0E6H, 000H	; 68H h
   54 FF48  30 00 70 30 	DB	030H, 000H, 070H, 030H, 030H, 030H, 0FCH, 000H	; 69H i
   55 FF50  0C 00 1C 0C 	DB	00CH, 000H, 01CH, 00CH, 00CH, 0CCH, 0CCH, 078H	; 6AH j
   56 FF58  E0 60 66 6C 	DB	0E0H, 060H, 066H, 06CH, 078H, 06CH, 0E6H, 000H	; 6BH k
   57 FF60  70 30 30 30 	DB	070H, 030H, 030H, 030H, 030H, 030H, 0FCH, 000H	; 6CH l
   58 FF68  00 00 CC FE 	DB	000H, 000H, 0CCH, 0FEH, 0FEH, 0D6H, 0C6H, 000H	; 6DH m
   59 FF70  00 00 F8 CC 	DB	000H, 000H, 0F8H, 0CCH, 0CCH, 0CCH, 0CCH, 000H	; 6EH n
   60 FF78  00 00 78 CC 	DB	000H, 000H, 078H, 0CCH, 0CCH, 0CCH, 078H, 000H	; 6FH o
   61                   
   62 FF80  00 00 DC 66 	DB	000H, 000H, 0DCH, 066H, 066H, 07CH, 060H, 0F0H	; 70H p
   63 FF88  00 00 76 CC 	DB	000H, 000H, 076H, 0CCH, 0CCH, 07CH, 00CH, 01EH	; 71H q
   64 FF90  00 00 DC 76 	DB	000H, 000H, 0DCH, 076H, 066H, 060H, 0F0H, 000H	; 72H r
   65 FF98  00 00 7C C0 	DB	000H, 000H, 07CH, 0C0H, 078H, 00CH, 0F8H, 000H	; 73H s
   66 FFA0  10 30 7C 30 	DB	010H, 030H, 07CH, 030H, 030H, 034H, 018H, 000H	; 74H t
   67 FFA8  00 00 CC CC 	DB	000H, 000H, 0CCH, 0CCH, 0CCH, 0CCH, 076H, 000H	; 75H u
   68 FFB0  00 00 CC CC 	DB	000H, 000H, 0CCH, 0CCH, 0CCH, 078H, 030H, 000H	; 76H v
   69 FFB8  00 00 C6 D6 	DB	000H, 000H, 0C6H, 0D6H, 0FEH, 0FEH, 06CH, 000H	; 77H w
   70 FFC0  00 00 C6 6C 	DB	000H, 000H, 0C6H, 06CH, 038H, 06CH, 0C6H, 000H	; 78H x
   71 FFC8  00 00 CC CC 	DB	000H, 000H, 0CCH, 0CCH, 0CCH, 07CH, 00CH, 0F8H	; 79H y
   72 FFD0  00 00 FC 98 	DB	000H, 000H, 0FCH, 098H, 030H, 064H, 0FCH, 000H	; 7AH z
   73 FFD8  6C 00 78 0C 	DB	06CH, 000H, 078H, 00CH, 07CH, 0CCH, 076H, 000H	; 7BH ae
   74 FFE0  CC 00 78 CC 	DB	0CCH, 000H, 078H, 0CCH, 0CCH, 0CCH, 078H, 000H	; 7CH oe
   75 FFE8  CC 00 CC CC 	DB	0CCH, 000H, 0CCH, 0CCH, 0CCH, 0CCH, 076H, 000H	; 7DH ue
   76 FFF0  3C 66 66 6C 	DB	03CH, 066H, 066H, 06CH, 066H, 066H, 06CH, 0F0H	; 7EH sz
   77 FFF8  FF 81 81 81 	DB	0FFH, 081H, 081H, 081H, 081H, 081H, 081H, 0FFH	; 7FH
 0 Error(s) Detected.
 4224 Absolute Bytes. 586 Symbols Detected.
 034H, 018