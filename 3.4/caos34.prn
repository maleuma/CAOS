SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   1
CAOS34  Z80

    1                   ; Zusammensetzen der Einzeldateien zu CAOS 3.4
    2                   ; (C) Mario Leubner, 31.05.2021-04.06.2021
    3                   ;-------------------------------------------------
    4                   ; CAOS-Vorblock:
    5         DF80      	ORG	0E000H-128
    6 DF80  43 41 4F 53 	DB	'CAOS34  KCC'
    7 DF8B  00 00 00 00 	DS	5,0
    8 DF90  02          	DB	2		; 2 Adressen
    9 DF91  4000        	DW	4000H		; AADR
   10 DF93  8000        	DW	8000H		; EADR+1
   11 DF95  00 00 00 00 	DS	107,0
   12                   ;-------------------------------------------------
   13                   include	caose.asm		; ROM-E
    1                   ;	CAOS 3.4 - ROM E
    2                   ;	Version CENTRONICS & V.24
    3                   ;
    4                   ;	Date: 11.06.1991  (c) by '#+$'
    5                   ;	Externe (Modul)-Version!
    6                   
    7         E000      	ORG 0E000H
    8                    
    9 E000  F3          RESET:	DI
   10 E001  18 0E       	JR OSTEST
   11 E003  C3 E65C     	JP BEXP1
   12 E006  C3 E679     	JP BEXP2
   13 E009  C3 E6E9     	JP BEXP3
   14 E00C  ED18        	DEFW TOKTAB
   15 E00E  C3 E5FE     	JP BASPV
   16                    
   17                   ;*** Steuerung ***
   18                    
   19 E011              OSTEST:	;CAOS-on-Test (Modul)-Version
   20 E011  DB 88       	IN A,(88H)
   21 E013  1F          	RRA		;Bit 0 = CAOS-ROM?
   22 E014  D2 F17E     	JP NC,BYE	;CAOS-ROM ist ein
   23 E017  3E 08       	LD A,8		;Steckplatz 8
   24 E019  CD F003     	CALL 0F003H
   25 E01C  27          	DEFB 27H	;JUMP
   26                    
   27 E01D  7F7F        	DEFW 7F7FH	;>BASIC<
   28 E01F  42 41 53 49 	DEFM 'BASIC'
   29 E024  00          	DEFB 0
   30                   	;
   31 E025  21 C000     	LD HL,0C000H
   32 E028  18 0D       	JR BASON
   33                    
   34 E02A  7F7F        	DEFW 7F7FH	;>REBASIC<
   35 E02C  52 45 42 41 	DEFM 'REBASIC'
   36 E033  00          	DEFB 0
   37                   	;
   38 E034  21 C002     	LD HL,0C002H
   39 E037  DB 88       BASON:	IN A,(88H)
   40 E039  CB FF       	SET 7,A
   41 E03B  D3 88       	OUT (88H),A
   42 E03D  E9          	JP (HL)
   43                    
   44                   ;*** CRT-Unit ***
   45                    
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   2
CAOSE   ASM

   46 E03E  2A B79C     PADR1:	LD HL,(0B79CH)
   47 E041  19          	ADD HL,DE
   48 E042  CB 24       	SLA H
   49 E044  CB 24       	SLA H
   50 E046  CB 24       	SLA H
   51 E048  F5          PADR:	PUSH AF		;UP 34 PADR
   52 E049  7D          	LD A,L
   53 E04A  FE 20       	CP 20H
   54 E04C  30 23       	JR NC,IAD1
   55 E04E  87          	ADD A
   56 E04F  87          	ADD A
   57 E050  87          	ADD A
   58 E051  6C          	LD L,H
   59 E052  CB 3C       	SRL H
   60 E054  CB 3C       	SRL H
   61 E056  37          	SCF
   62 E057  CB 1C       	RR H
   63 E059  1F          	RRA
   64 E05A  CB 3C       	SRL H
   65 E05C  1F          	RRA
   66 E05D  54          	LD D,H
   67 E05E  37          	SCF
   68 E05F  CB 1A       	RR D
   69 E061  CB DA       	SET 3,D
   70 E063  5F          	LD E,A
   71 E064  CB 1B       	RR E
   72 E066  CB 1D       	RR L
   73 E068  1F          	RRA
   74 E069  CB 1D       	RR L
   75 E06B  6F          	LD L,A
   76 E06C  CB 14       	RL H
   77 E06E  F1          	POP AF
   78 E06F  A7          	AND A
   79 E070  C9          	RET
   80                    
   81 E071  FE 28       IAD1:	CP 28H
   82 E073  30 32       	JR NC,IAD2
   83 E075  C5          	PUSH BC
   84 E076  E6 07       	AND 7
   85 E078  87          	ADD A
   86 E079  6F          	LD L,A
   87 E07A  7C          	LD A,H
   88 E07B  07          	RLCA
   89 E07C  47          	LD B,A
   90 E07D  E6 01       	AND 1
   91 E07F  F6 B0       	OR 0B0H
   92 E081  57          	LD D,A
   93 E082  78          	LD A,B
   94 E083  07          	RLCA
   95 E084  4F          	LD C,A
   96 E085  E6 03       	AND 3
   97 E087  F6 50       	OR 50H
   98 E089  44          	LD B,H
   99 E08A  67          	LD H,A
  100 E08B  78          	LD A,B
  101 E08C  E6 30       	AND 30H
  102 E08E  B5          	OR L
  103 E08F  6F          	LD L,A
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   3
CAOSE   ASM

  104 E090  79          	LD A,C
  105 E091  07          	RLCA
  106 E092  07          	RLCA
  107 E093  E6 C0       	AND 0C0H
  108 E095  B5          	OR L
  109 E096  6F          	LD L,A
  110 E097  CB 18       	RR B
  111 E099  CB 1D       	RR L
  112 E09B  CB 18       	RR B
  113 E09D  CB 14       	RL H
  114 E09F  CB 19       	RR C
  115 E0A1  1F          	RRA
  116 E0A2  5F          	LD E,A
  117 E0A3  C1          	POP BC
  118 E0A4  F1          DBRE:	POP AF
  119 E0A5  A7          	AND A
  120 E0A6  C9          	RET
  121                    
  122 E0A7  F1          IAD2:	POP AF
  123 E0A8  37          	SCF
  124 E0A9  C9          	RET
  125                    
  126 E0AA  3A B79E     TCIF:	LD A,(0B79EH)	;UP 33 TCIF
  127 E0AD  3D          	DEC A
  128 E0AE  93          	SUB E
  129 E0AF  D8          	RET C
  130 E0B0  3A B79F     	LD A,(0B79FH)
  131 E0B3  3D          	DEC A
  132 E0B4  92          	SUB D
  133 E0B5  C9          	RET
  134                    
  135 E0B6  F5          DABR:	PUSH AF		;UP 32 DABR
  136 E0B7  CD E0AA     	CALL TCIF
  137 E0BA  38 EB       	JR C,IAD2
  138 E0BC  3A B79C     	LD A,(0B79CH)
  139 E0BF  83          	ADD E
  140 E0C0  D5          	PUSH DE
  141 E0C1  5F          	LD E,A
  142 E0C2  3A B79D     	LD A,(0B79DH)
  143 E0C5  82          	ADD D
  144 E0C6  87          	ADD A
  145 E0C7  87          	ADD A
  146 E0C8  87          	ADD A
  147 E0C9  6F          	LD L,A
  148 E0CA  26 00       	LD H,0
  149 E0CC  29          	ADD HL,HL
  150 E0CD  29          	ADD HL,HL
  151 E0CE  16 59       	LD D,59H
  152 E0D0  19          	ADD HL,DE
  153 E0D1  5F          	LD E,A
  154 E0D2  19          	ADD HL,DE
  155 E0D3  D1          	POP DE
  156 E0D4  18 CE       	JR DBRE
  157                    
  158 E0D6              WPIX:	;Zeichen sichtbar machen
  159 E0D6  D5          	PUSH DE
  160 E0D7  C5          	PUSH BC
  161 E0D8  CD E03E     	CALL PADR1
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   4
CAOSE   ASM

  162 E0DB  38 31       	JR C,WPIX4
  163 E0DD  ED 4B B7A2  	LD BC,(0B7A2H)	; STBT
  164 E0E1  EB          	EX DE,HL
  165 E0E2  CB 49       	BIT 1,C		; Schreiben COLOR?
  166 E0E4  20 04       	JR NZ,WPIX1
  167 E0E6  70          	LD (HL),B
  168 E0E7  CB ED       	SET 5,L
  169 E0E9  70          	LD (HL),B
  170 E0EA  CB 41       WPIX1:	BIT 0,C		; Schreiben Pixel?
  171 E0EC  20 20       	JR NZ,WPIX4
  172 E0EE  21 B7A6     	LD HL,0B7A6H	; CCTL0
  173 E0F1  87          	ADD A
  174 E0F2  30 02       	JR NC,WPIX2
  175 E0F4  2E AA       	LD L,0AAH	; CCTL2
  176 E0F6  D6 40       WPIX2:	SUB 40H
  177 E0F8  F2 E0FF     	JP P,WPIX3
  178 E0FB  2C          	INC L
  179 E0FC  2C          	INC L
  180 E0FD  EE C0       	XOR 0C0H	; CCTL1/3
  181 E0FF  46          WPIX3:	LD B,(HL)
  182 E100  23          	INC HL
  183 E101  66          	LD H,(HL)
  184 E102  68          	LD L,B
  185 E103  87          	ADD A
  186 E104  CB 51       	BIT 2,C		; invers?
  187 E106  4F          	LD C,A
  188 E107  06 00       	LD B,0
  189 E109  09          	ADD HL,BC
  190 E10A  09          	ADD HL,BC
  191 E10B  CD E111     	CALL CPIX
  192 E10E  C1          WPIX4:	POP BC
  193 E10F  D1          	POP DE
  194 E110  C9          	RET
  195                    
  196 E111  CD E118     CPIX:	CALL CPIX1
  197 E114  CB EB       	SET 5,E
  198 E116  CB 82       	RES 0,D
  199 E118  CD E11D     CPIX1:	CALL CPIX2
  200 E11B  CB C2       	SET 0,D
  201 E11D  CB BB       CPIX2:	RES 7,E
  202 E11F  7E          	LD A,(HL)
  203 E120  23          	INC HL
  204 E121  28 01       	JR Z,CPIX3
  205 E123  2F          	CPL		; Pixel invertieren
  206 E124  12          CPIX3:	LD (DE),A
  207 E125  CB FB       	SET 7,E
  208 E127  7E          	LD A,(HL)
  209 E128  23          	INC HL
  210 E129  28 01       	JR Z,CPIX4
  211 E12B  2F          	CPL
  212 E12C  12          CPIX4:	LD (DE),A
  213 E12D  C9          	RET
  214                    
  215 E12E              RSPALT:	;Berechne BC,DE:Fenstergrenzen
  216                   	;E=0:Nur 1teilig
  217 E12E  87          	ADD A
  218 E12F  87          	ADD A
  219 E130  87          	ADD A
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   5
CAOSE   ASM

  220 E131  67          	LD H,A
  221 E132  11 2000     	LD DE,2000H
  222 E135  3A B79C     	LD A,(0B79CH)
  223 E138  47          	LD B,A
  224 E139  BA          	CP D
  225 E13A  3A B79E     	LD A,(0B79EH)
  226 E13D  4F          	LD C,A
  227 E13E  D0          	RET NC
  228 E13F  80          	ADD B
  229 E140  BA          	CP D
  230 E141  D8          	RET C
  231 E142  92          	SUB D
  232 E143  5F          	LD E,A
  233 E144  7A          	LD A,D
  234 E145  90          	SUB B
  235 E146  4F          	LD C,A
  236 E147  C9          	RET
  237                    
  238 E148              MOVELN:	;Rolle 1 Zeile
  239 E148  E5          	PUSH HL
  240 E149  D5          	PUSH DE
  241 E14A  C5          	PUSH BC
  242 E14B  4F          	LD C,A
  243 E14C  E5          	PUSH HL
  244 E14D  CD E048     	CALL PADR
  245 E150  38 22       	JR C,PIX2
  246 E152  E3          	EX (SP),HL
  247 E153  D5          	PUSH DE
  248 E154  7C          	LD A,H
  249 E155  C6 08       	ADD 8
  250 E157  67          	LD H,A
  251 E158  CD E048     	CALL PADR
  252 E15B  E3          	EX (SP),HL
  253 E15C  EB          	EX DE,HL
  254 E15D  06 00       	LD B,0
  255 E15F  3A B7A2     	LD A,(0B7A2H)
  256 E162  1F          	RRA
  257 E163  CB 47       	BIT 0,A
  258 E165  79          	LD A,C
  259 E166  CC E184     	CALL Z,PIX4
  260 E169  E1          	POP HL
  261 E16A  D1          	POP DE
  262 E16B  D4 E17D     	CALL NC,PIX31
  263 E16E  24          	INC H
  264 E16F  14          	INC D
  265 E170  D4 E179     	CALL NC,PIX3
  266 E173  06          	DEFB 6		;LD B,n
  267 E174  E1          PIX2:	POP HL
  268 E175  C1          POPS3:	POP BC
  269 E176  D1          	POP DE
  270 E177  E1          	POP HL
  271 E178  C9          	RET
  272                    
  273 E179  CB BD       PIX3:	RES 7,L
  274 E17B  CB BB       	RES 7,E
  275 E17D  CD E184     PIX31:	CALL PIX4
  276 E180  CB FD       	SET 7,L
  277 E182  CB FB       	SET 7,E
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   6
CAOSE   ASM

  278 E184  CB AD       PIX4:	RES 5,L
  279 E186  CB AB       	RES 5,E
  280 E188  CD E18F     	CALL PIX5
  281 E18B  CB ED       	SET 5,L
  282 E18D  CB EB       	SET 5,E
  283 E18F  D5          PIX5:	PUSH DE
  284 E190  E5          	PUSH HL
  285 E191  4F          	LD C,A
  286 E192  ED B0       	LDIR
  287 E194  E1          	POP HL
  288 E195  D1          	POP DE
  289 E196  C9          	RET
  290                    
  291 E197  21 B7A2     PCHR:	LD HL,0B7A2H
  292 E19A  CB 66       	BIT 4,(HL)
  293 E19C  28 1F       	JR Z,PCHR0
  294 E19E  CB A6       	RES 4,(HL)
  295 E1A0  FE 30       	CP '0'
  296 E1A2  D8          	RET C
  297 E1A3  FE 3A       	CP 3AH
  298 E1A5  38 0A       	JR C,ESCJ1
  299 E1A7  FE 41       	CP 'A'
  300 E1A9  D8          	RET C
  301 E1AA  CB AF       	RES 5,A
  302 E1AC  FE 5B       	CP 5BH
  303 E1AE  D0          	RET NC
  304 E1AF  D6 07       	SUB 7
  305 E1B1  D6 30       ESCJ1:	SUB 30H
  306 E1B3  21 B7DF     	LD HL,0B7DFH
  307 E1B6  BE          	CP (HL)
  308 E1B7  D0          	RET NC
  309 E1B8  2A B7DD     	LD HL,(0B7DDH)
  310 E1BB  18 0B       	JR PCHV
  311                    
  312 E1BD  FE 20       PCHR0:	CP 20H
  313 E1BF  30 1B       	JR NC,PCHR1
  314 E1C1  CB 5E       	BIT 3,(HL)
  315 E1C3  20 17       	JR NZ,PCHR1
  316 E1C5  2A B7B2     	LD HL,(0B7B2H)
  317 E1C8  87          PCHV:	ADD A
  318 E1C9  4F          	LD C,A
  319 E1CA  06 00       	LD B,0
  320 E1CC  09          	ADD HL,BC
  321 E1CD  7E          	LD A,(HL)
  322 E1CE  23          	INC HL
  323 E1CF  66          	LD H,(HL)
  324 E1D0  6F          	LD L,A
  325 E1D1  3E 01       	LD A,1
  326 E1D3  E9          	JP (HL)
  327                    
  328 E1D4  7B          ASC5:	LD A,E
  329 E1D5  E6 F8       	AND 0F8H
  330 E1D7  C6 08       	ADD 8
  331 E1D9  5F          	LD E,A
  332 E1DA  18 09       	JR PCHR3
  333                    
  334 E1DC  CD E0B6     PCHR1:	CALL DABR
  335 E1DF  D8          	RET C
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   7
CAOSE   ASM

  336 E1E0  77          PCHR2:	LD (HL),A
  337 E1E1  CD E0D6     	CALL WPIX
  338 E1E4  1C          CUR:	INC E
  339 E1E5  3A B79E     PCHR3:	LD A,(0B79EH)
  340 E1E8  3D          	DEC A
  341 E1E9  BB          	CP E
  342 E1EA  D0          	RET NC
  343 E1EB  1E 00       CRNL:	LD E,0
  344 E1ED  14          CUD:	INC D
  345 E1EE  3A B79F     	LD A,(0B79FH)
  346 E1F1  BA          	CP D
  347 E1F2  C0          	RET NZ
  348 E1F3  2A B7A4     	LD HL,(0B7A4H)
  349 E1F6  E9          	JP (HL)
  350                    
  351 E1F7  2A B799     HCOPY:	LD HL,(0B799H)
  352 E1FA  E9          	JP (HL)
  353                    
  354 E1FB  7B          CUL:	LD A,E
  355 E1FC  A7          	AND A
  356 E1FD  28 02       	JR Z,LINUP
  357 E1FF  1D          	DEC E
  358 E200  C9          	RET
  359                    
  360 E201  7A          LINUP:	LD A,D
  361 E202  A7          	AND A
  362 E203  C8          	RET Z
  363 E204  15          	DEC D
  364 E205  3A B79E     CEL:	LD A,(0B79EH)
  365 E208  3D          	DEC A
  366 E209  5F          	LD E,A
  367 E20A  C9          	RET
  368                    
  369 E20B  7A          CUU:	LD A,D
  370 E20C  A7          	AND A
  371 E20D  C8          	RET Z
  372 E20E  15          	DEC D
  373 E20F  C9          	RET
  374                    
  375 E210  21 E2A0     PAGE:	LD HL,HOMEPG
  376 E213  22 B7A4     WADR:	LD (0B7A4H),HL
  377 E216  C9          	RET
  378                    
  379 E217  21 E2A5     SCROL:	LD HL,SCRLPG
  380 E21A  18 F7       	JR WADR
  381                    
  382 E21C  CD E1FB     CLEAR:	CALL CUL
  383 E21F  D5          DEL:	PUSH DE
  384 E220  CD E0B6     DEL1:	CALL DABR
  385 E223  7E          	LD A,(HL)
  386 E224  A7          	AND A
  387 E225  28 3A       	JR Z,INS3
  388 E227  D5          	PUSH DE
  389 E228  E5          	PUSH HL
  390 E229  1C          	INC E
  391 E22A  CD E0B6     	CALL DABR
  392 E22D  30 06       	JR NC,DEL2
  393 E22F  1E 00       	LD E,0
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   8
CAOSE   ASM

  394 E231  14          	INC D
  395 E232  CD E0B6     	CALL DABR
  396 E235  7E          DEL2:	LD A,(HL)
  397 E236  E1          	POP HL
  398 E237  D1          	POP DE
  399 E238  38 1D       	JR C,DEL3
  400 E23A  B7          	OR A
  401 E23B  28 1A       	JR Z,DEL3
  402 E23D  CD E1E0     	CALL PCHR2
  403 E240  18 DE       	JR DEL1
  404                    
  405 E242  D5          INS:	PUSH DE
  406 E243  3E 20       	LD A,20H
  407 E245  CD E0B6     INS1:	CALL DABR
  408 E248  46          	LD B,(HL)
  409 E249  CD E1E0     	CALL PCHR2
  410 E24C  78          	LD A,B
  411 E24D  A7          	AND A
  412 E24E  28 11       	JR Z,INS3
  413 E250  7B          	LD A,E
  414 E251  B2          	OR D
  415 E252  78          	LD A,B
  416 E253  20 F0       	JR NZ,INS1
  417 E255  D1          	POP DE
  418 E256  C9          	RET
  419                    
  420 E257  CD E0B6     DEL3:	CALL DABR
  421 E25A  AF          	XOR A
  422 E25B  77          	LD (HL),A
  423 E25C  3E 20       	LD A,20H
  424 E25E  CD E0D6     	CALL WPIX
  425 E261  D1          INS3:	POP DE
  426 E262  C9          	RET
  427                    
  428 E263              CLLINE:	;Zeile(nst}ck) l|schen
  429 E263  68          	LD L,B
  430 E264  CD E048     	CALL PADR
  431 E267  D8          	RET C
  432 E268  3A B7A2     	LD A,(0B7A2H)
  433 E26B  1F          	RRA
  434 E26C  CB 47       	BIT 0,A
  435 E26E  3A B7A3     	LD A,(0B7A3H)
  436 E271  CC E283     	CALL Z,CM2
  437 E274  3E 00       	LD A,0
  438 E276  D8          	RET C
  439 E277  EB          	EX DE,HL
  440 E278  CD E27C     	CALL CM1
  441 E27B  14          	INC D
  442 E27C  CB BB       CM1:	RES 7,E
  443 E27E  CD E283     	CALL CM2
  444 E281  CB FB       	SET 7,E
  445 E283  CB AB       CM2:	RES 5,E
  446 E285  CD E28A     	CALL CM3
  447 E288  CB EB       	SET 5,E
  448 E28A  D5          CM3:	PUSH DE
  449 E28B  41          	LD B,C
  450 E28C  12          CM4:	LD (DE),A
  451 E28D  1C          	INC E
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   9
CAOSE   ASM

  452 E28E  10 FC       	DJNZ CM4
  453 E290  D1          	POP DE
  454 E291  C9          	RET
  455                    
  456 E292  3A B79F     CLS:	LD A,(0B79FH)
  457 E295  16 00       	LD D,0
  458 E297  F5          CLS1:	PUSH AF
  459 E298  CD E2E6     	CALL DELLN
  460 E29B  F1          	POP AF
  461 E29C  14          	INC D
  462 E29D  3D          	DEC A
  463 E29E  20 F7       	JR NZ,CLS1
  464 E2A0  16 00       HOMEPG:	LD D,0
  465 E2A2  1E 00       CRN:	LD E,0
  466 E2A4  C9          	RET
  467                    
  468 E2A5              SCRLPG:	;Scrollroutine
  469 E2A5  3A B79E     	LD A,(0B79EH)
  470 E2A8  4F          	LD C,A
  471 E2A9  06 00       	LD B,0
  472 E2AB  3A B79F     	LD A,(0B79FH)
  473 E2AE  3D          	DEC A
  474 E2AF  28 34       	JR Z,SCRL4
  475 E2B1  D5          	PUSH DE
  476 E2B2  F5          	PUSH AF
  477 E2B3  11 0000     	LD DE,0
  478 E2B6  CD E0B6     	CALL DABR
  479 E2B9  38 28       	JR C,SCRL3
  480 E2BB  EB          	EX DE,HL
  481 E2BC  21 0028     SCRL1:	LD HL,28H
  482 E2BF  19          	ADD HL,DE
  483 E2C0  E5          	PUSH HL
  484 E2C1  C5          	PUSH BC
  485 E2C2  ED B0       	LDIR
  486 E2C4  C1          	POP BC
  487 E2C5  D1          	POP DE
  488 E2C6  3D          	DEC A
  489 E2C7  20 F3       	JR NZ,SCRL1
  490 E2C9  3A B79D     	LD A,(0B79DH)
  491 E2CC  CD E12E     	CALL RSPALT
  492 E2CF  79          SCRL2:	LD A,C
  493 E2D0  68          	LD L,B
  494 E2D1  CD E148     	CALL MOVELN
  495 E2D4  7B          	LD A,E
  496 E2D5  A7          	AND A
  497 E2D6  6A          	LD L,D
  498 E2D7  C4 E148     	CALL NZ,MOVELN
  499 E2DA  7C          	LD A,H
  500 E2DB  C6 08       	ADD 8
  501 E2DD  67          	LD H,A
  502 E2DE  F1          	POP AF
  503 E2DF  3D          	DEC A
  504 E2E0  F5          	PUSH AF
  505 E2E1  20 EC       	JR NZ,SCRL2
  506 E2E3  F1          SCRL3:	POP AF
  507 E2E4  D1          	POP DE
  508 E2E5  15          SCRL4:	DEC D
  509                   	;
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  10
CAOSE   ASM

  510 E2E6  1E 00       DELLN:	LD E,0
  511 E2E8  D5          	PUSH DE
  512 E2E9  CD E0B6     	CALL DABR
  513 E2EC  3A B79E     	LD A,(0B79EH)
  514 E2EF  47          	LD B,A
  515 E2F0  AF          	XOR A
  516 E2F1  77          DL1:	LD (HL),A
  517 E2F2  23          	INC HL
  518 E2F3  10 FC       	DJNZ DL1
  519 E2F5  3A B79D     	LD A,(0B79DH)
  520 E2F8  82          	ADD D
  521 E2F9  CD E12E     	CALL RSPALT
  522 E2FC  D5          	PUSH DE
  523 E2FD  E5          	PUSH HL
  524 E2FE  CD E263     	CALL CLLINE
  525 E301  E1          	POP HL
  526 E302  C1          	POP BC
  527 E303  B9          	CP C
  528 E304  C4 E263     	CALL NZ,CLLINE
  529 E307  D1          	POP DE
  530 E308  C9          	RET
  531                    
  532 E309  01 0A1F     BEL:	LD BC,0A1FH
  533 E30C  2E 70       	LD L,70H
  534 E30E  CD E320     	CALL RTON
  535 E311  3E 2E       	LD A,2EH	;Ton+Pause
  536                   	;
  537 E313  47          WAIT:	LD B,A		;UP 14 WAIT
  538 E314  AF          	XOR A
  539 E315  CD F242     WAIT0:	CALL WAIT1
  540 E318  10 FB       	DJNZ WAIT0
  541 E31A  C9          	RET
  542                    
  543 E31B  01 020F     RCLICK:	LD BC,20FH
  544 E31E  2E 50       	LD L,50H
  545 E320  D5          RTON:	PUSH DE		;Ton nur rechts
  546 E321  26 00       	LD H,0
  547 E323  5C          	LD E,H
  548 E324  CD E442     	CALL PHALT
  549 E327  D3 8E       	OUT (8EH),A	;CTC off
  550 E329  CD E5C7     	CALL TONP
  551 E32C  D1          	POP DE
  552 E32D  C9          	RET
  553                    
  554 E32E  21 B7A3     ASC6:	LD HL,0B7A3H	;=ESC 8
  555 E331  7E          	LD A,(HL)		;Farbe compeln
  556 E332  E6 C0       	AND 0C0H
  557 E334  4F          	LD C,A
  558 E335  7E          	LD A,(HL)
  559 E336  E6 07       	AND 7
  560 E338  07          	RLCA
  561 E339  07          	RLCA
  562 E33A  07          	RLCA
  563 E33B  B1          	OR C
  564 E33C  4F          	LD C,A
  565 E33D  7E          	LD A,(HL)
  566 E33E  0F          	RRCA
  567 E33F  0F          	RRCA
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  11
CAOSE   ASM

  568 E340  0F          	RRCA
  569 E341  E6 07       	AND 7
  570 E343  B1          	OR C
  571                    
  572 E344  77          LDMA:	LD (HL),A		;UP 28 LDMA
  573 E345  C9          	RET
  574                    
  575 E346  7E          LDAM:	LD A,(HL)		;UP 29 LDAM
  576 E347  C9          	RET
  577                    
  578 E348  3E 80       SHLOCK:	LD A,80H
  579 E34A  01          	DEFB 1		;LD BC,...
  580 E34B  3E 20       CLICK:	LD A,20H
  581 E34D  DD AE 08    	XOR (IX+8)
  582 E350  DD 77 08    	LD (IX+8),A
  583 E353  C9          DUMMY:	RET
  584                    
  585 E354  E5          CRT:	PUSH HL		;UP 00 CRT
  586 E355  D5          	PUSH DE
  587 E356  C5          	PUSH BC
  588 E357  F5          	PUSH AF
  589 E358  ED 5B B7A0  	LD DE,(0B7A0H)
  590 E35C  CD E197     	CALL PCHR
  591 E35F  ED 53 B7A0  	LD (0B7A0H),DE
  592 E363  F1          	POP AF
  593 E364  C3 E175     	JP POPS3
  594                    
  595 E367  87          ESC:	ADD A		;Beeinflussung
  596 E368  87          ESC4:	ADD A		; Steuerbits
  597 E369  87          ESC7:	ADD A
  598 E36A  87          ESCF:	ADD A
  599 E36B  21 B7A2     ESC3:	LD HL,0B7A2H
  600 E36E  AE          	XOR (HL)
  601 E36F  77          	LD (HL),A
  602 E370  C9          	RET
  603                    
  604                   ;*** KBD-Unit ***
  605                    
  606 E371  FB          ISRC3:	EI		;ISR CTC 3 KBD
  607 E372  F5          	PUSH AF
  608 E373  3E 23       	LD A,23H	;DI,ZG256,Res
  609 E375  D3 8F       	OUT (8FH),A
  610 E377  DD 36 0D 00 	LD (IX+13),0
  611 E37B  18 55       	JR TST4
  612                    
  613 E37D  FB          ISRPB:	EI		;ISR PIO B KBD
  614 E37E  F5          TAST:	PUSH AF
  615 E37F  DD 35 00    	DEC (IX)
  616 E382  DB 8F       	IN A,8FH
  617 E384  F5          	PUSH AF
  618 E385  3E A7       	LD A,0A7H
  619 E387  D3 8F       	OUT (8FH),A
  620 E389  3E 8F       	LD A,8FH
  621 E38B  D3 8F       	OUT (8FH),A
  622 E38D  F1          	POP AF
  623 E38E  FE 14       	CP 14H
  624 E390  38 40       	JR C,TST4
  625 E392  FE 65       	CP 65H
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  12
CAOSE   ASM

  626 E394  30 38       	JR NC,TST3
  627 E396  C6 BE       	ADD 0BEH
  628 E398  38 34       	JR C,TST3
  629 E39A  DD 7E 0C    	LD A,(IX+12)
  630 E39D  1F          	RRA
  631 E39E  EE 01       	XOR 1
  632 E3A0  E5          	PUSH HL
  633 E3A1  D5          	PUSH DE
  634 E3A2  5F          	LD E,A
  635 E3A3  16 00       	LD D,0
  636 E3A5  DD 6E 0E    	LD L,(IX+14)
  637 E3A8  DD 66 0F    	LD H,(IX+15)
  638 E3AB  19          	ADD HL,DE
  639 E3AC  7E          	LD A,(HL)
  640 E3AD  DD CB 08 7E 	BIT 7,(IX+8)
  641 E3B1  20 07       	JR NZ,TST1
  642 E3B3  FE 40       	CP 40H
  643 E3B5  FA E3BA     	JP M,TST1
  644 E3B8  EE 20       	XOR 20H
  645 E3BA  DD BE 0D    TST1:	CP (IX+13)
  646 E3BD  F5          	PUSH AF
  647 E3BE  20 15       	JR NZ,TST5
  648 E3C0  3A B7E0     	LD A,(0B7E0H)	;COUNT
  649 E3C3  DD BE 0A    	CP (IX+10)
  650 E3C6  38 2A       	JR C,TST7
  651 E3C8  F1          	POP AF
  652 E3C9  DD 34 0A    	INC (IX+10)
  653 E3CC  D1          TST2:	POP DE
  654 E3CD  E1          	POP HL
  655 E3CE  DD CB 0C 1E TST3:	RR (IX+12)
  656 E3D2  F1          TST4:	POP AF
  657 E3D3  ED 4D       INTE:	RETI
  658                    
  659 E3D5  DD 36 0A 00 TST5:	LD (IX+10),0
  660 E3D9  7B          	LD A,E
  661 E3DA  FE 73       	CP 73H		;Tast-Nr.SoftRes
  662 E3DC  20 10       	JR NZ,TST6
  663 E3DE  DD CB 08 5E 	BIT 3,(IX+8)
  664 E3E2  DD CB 08 9E 	RES 3,(IX+8)
  665 E3E6  20 0A       	JR NZ,TST7
  666 E3E8  21 E000     	LD HL,RESET
  667 E3EB  E5          	PUSH HL
  668 E3EC  18 E5       	JR INTE
  669                    
  670 E3EE  DD CB 08 DE TST6:	SET 3,(IX+8)
  671 E3F2  F1          TST7:	POP AF
  672 E3F3  DD 77 0D    	LD (IX+13),A
  673 E3F6  DD CB 08 C6 	SET 0,(IX+8)
  674 E3FA  18 D0       	JR TST2
  675                    
  676 E3FC  AF          KBDS:	XOR A		;UP 0C KBDS
  677 E3FD  DD CB 08 46 	BIT 0,(IX+8)
  678 E401  C8          	RET Z
  679 E402  DD 7E 0D    	LD A,(IX+13)
  680 E405  37          	SCF
  681 E406  C9          	RET
  682                    
  683 E407  CD E3FC     KBDZ:	CALL KBDS	;UP 0E KBDZ
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  13
CAOSE   ASM

  684 E40A  D0          	RET NC
  685 E40B  DD CB 08 86 RESFL:	RES 0,(IX+8)
  686 E40F  C9          	RET
  687                    
  688                   ;*** Tape-Unit ***
  689                    
  690 E410  DD 7E 07    ESC1:	LD A,(IX+7)
  691 E413  EE 02       	XOR 2
  692 E415  DD 77 07    	LD (IX+7),A
  693 E418  C9          	RET
  694                    
  695 E419              IMBII:	;intern mit Standardpuffer,
  696                   	;Erwarteter Block und Unter-
  697                   	;drueckung OK-Block
  698 E419  CD F3FA     	CALL SIXD3
  699 E41C  DD 36 03 01 	LD (IX+3),1
  700 E420  DD CB 07 EE 	SET 5,(IX+7)
  701                   	;
  702 E424              IMBI:	;Init.MB-Eingabe ohne Lesen
  703                   	;und ohne Init.(IX+5/6)
  704 E424  DB 89       	IN A,(89H)			; hier IN A,(00H) in CAOS34.ROM ???
  705 E426  CB BF       	RES 7,A
  706 E428  D3 89       	OUT (89H),A	;Blink off
  707 E42A  DB 88       	IN A,(88H)
  708 E42C  CB F7       	SET 6,A		;MSS on
  709 E42E  D3 88       IMBI1:	OUT (88H),A
  710 E430  FB          	EI
  711 E431  E5          	PUSH HL
  712 E432  2A B7A4     	LD HL,(0B7A4H)
  713 E435  22 B7CF     	LD (0B7CFH),HL
  714 E438  CD F25A     	CALL NOUT
  715 E43B  22 B7CD     	LD (0B7CDH),HL
  716 E43E  CD E210     	CALL PAGE
  717 E441  E1          	POP HL
  718 E442  3E 03       PHALT:	LD A,3
  719 E444  D3 8C       	OUT (8CH),A	;CTC0
  720 E446  D3 8D       	OUT (8DH),A
  721 E448  DD CB 08 8E 	RES 1,(IX+8)
  722 E44C  C9          	RET
  723                    
  724 E44D              CMBI:	;Abschluss MB-Eingabe
  725 E44D  CD E468     	CALL CRO0
  726 E450              BLION:	;Blinken on
  727 E450  DB 89       	IN A,(89H)
  728 E452  CB FF       	SET 7,A
  729 E454  D3 89       	OUT (89H),A
  730 E456  F3          	DI
  731 E457  3E 47       	LD A,47H
  732 E459  D3 8E       	OUT (8EH),A
  733 E45B  3E 0C       	LD A,0CH
  734 E45D  D3 8E       	OUT (8EH),A
  735 E45F  FB          	EI
  736 E460  C9          	RET
  737                    
  738 E461              CSRO:	;Abschluss MB-Ausgabe mit
  739                   	;Schreiben letzter Block
  740 E461  DD 36 02 FE 	LD (IX+2),0FEH;UP 09 CSRO
  741 E465  CD E49B     	CALL MBOT
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  14
CAOSE   ASM

  742 E468  E5          CRO0:	PUSH HL
  743 E469  2A B7CD     	LD HL,(0B7CDH)
  744 E46C  22 B7B9     	LD (0B7B9H),HL
  745 E46F  2A B7CF     	LD HL,(0B7CFH)
  746 E472  22 B7A4     	LD (0B7A4H),HL
  747 E475  21 B780     	LD HL,0B780H
  748 E478  AF          	XOR A
  749 E479  2D          CRO1:	DEC L
  750 E47A  77          	LD (HL),A
  751 E47B  20 FC       	JR NZ,CRO1
  752 E47D  E1          	POP HL
  753 E47E  DB 88       	IN A,(88H)
  754 E480  E6 9F       	AND 9FH
  755 E482  D3 88       	OUT (88H),A
  756 E484  CD F324     	CALL CRLF
  757 E487  C3 F3F2     	JP SIXD2
  758                    
  759 E48A  CD F3FA     ISROI:	CALL SIXD3	;intern
  760 E48D  DB 88       ISRO:	IN A,(88H)	;UP 08 ISRO
  761 E48F  F6 60       	OR 60H
  762 E491  CD E42E     	CALL IMBI1
  763 E494  DD 36 02 00 	LD (IX+2),0
  764 E498  01 0A00     	LD BC,0A00H	;Vortonlaenge		hier 1000H in CAOS34.ROM ???
  765                   	;
  766 E49B  DD 34 02    MBOT:	INC (IX+2)	;UP 01 MBOT
  767 E49E  F3          	DI
  768 E49F  3E 87       	LD A,87H
  769 E4A1  D3 8D       	OUT (8DH),A
  770 E4A3  3E 2F       	LD A,2FH
  771 E4A5  D3 8D       	OUT (8DH),A
  772 E4A7  FB          	EI
  773 E4A8  57          	LD D,A
  774 E4A9  5F          	LD E,A
  775 E4AA  CD E4EE     MBOT1:	CALL BITOUT
  776 E4AD  ED A1       	CPI
  777 E4AF  EA E4AA     	JP PE,MBOT1
  778 E4B2  CD E4EC     	CALL ZTON
  779 E4B5  DD 7E 02    	LD A,(IX+2)
  780 E4B8  CD E4D9     	CALL BYTOT
  781 E4BB  DD 6E 05    	LD L,(IX+5)
  782 E4BE  DD 66 06    	LD H,(IX+6)
  783 E4C1  06 80       	LD B,80H
  784 E4C3  7E          MBT1:	LD A,(HL)
  785 E4C4  CD E4D9     	CALL BYTOT
  786 E4C7  79          	LD A,C
  787 E4C8  86          	ADD (HL)
  788 E4C9  4F          	LD C,A
  789 E4CA  23          	INC HL
  790 E4CB  10 F6       	DJNZ MBT1
  791 E4CD  CD E4D9     	CALL BYTOT
  792 E4D0  7A          	LD A,D
  793 E4D1  CD E4F1     	CALL HBITOT
  794 E4D4  3E 03       	LD A,3
  795 E4D6  D3 8D       	OUT (8DH),A
  796 E4D8  C9          	RET
  797                    
  798 E4D9  C5          BYTOT:	PUSH BC
  799 E4DA  4F          	LD C,A
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  15
CAOSE   ASM

  800 E4DB  06 08       	LD B,8
  801 E4DD  CB 09       BYTOUT:	RRC C
  802 E4DF  1E 17       	LD E,17H
  803 E4E1  D4 E4EE     	CALL NC,BITOUT
  804 E4E4  1E 2F       	LD E,2FH
  805 E4E6  DC E4EE     	CALL C,BITOUT
  806 E4E9  10 F2       	DJNZ BYTOUT
  807 E4EB  C1          	POP BC
  808 E4EC  1E 5D       ZTON:	LD E,5DH
  809 E4EE  CD E4F1     BITOUT:	CALL HBITOT
  810 E4F1  DD 72 00    HBITOT:	LD (IX),D
  811 E4F4  DD 7E 00    HBIT1:	LD A,(IX)
  812 E4F7  A7          	AND A
  813 E4F8  20 FA       	JR NZ,HBIT1
  814 E4FA  53          	LD D,E
  815 E4FB  C9          	RET
  816                    
  817 E4FC  CD E424     ISRI:	CALL IMBI	;UP 0A ISRI
  818                   	;
  819 E4FF  3E 83       MBI:	LD A,83H	;UP 05 MBI
  820 E501  D3 8A       	OUT (8AH),A
  821 E503  E5          	PUSH HL
  822 E504  D5          	PUSH DE
  823 E505  CD F274     MBI1:	CALL BRKT
  824 E508  38 45       	JR C,MBI6
  825 E50A  06 16       	LD B,16H
  826 E50C  CD E588     MBI2:	CALL STOP1
  827 E50F  38 F4       	JR C,MBI1
  828 E511  FE BA       	CP 0BAH
  829 E513  CD E555     	CALL LEDON
  830 E516  38 ED       	JR C,MBI1
  831 E518  10 F2       	DJNZ MBI2
  832 E51A  06 02       MBI3:	LD B,2
  833 E51C  AF          MBI4:	XOR A
  834 E51D  4F          	LD C,A
  835 E51E  CD E593     	CALL STOP2
  836 E521  FE 5D       	CP 5DH
  837 E523  30 F5       	JR NC,MBI3
  838 E525  10 F5       	DJNZ MBI4
  839 E527  CD E59F     	CALL BYTIN
  840 E52A  38 23       	JR C,MBI6
  841 E52C  DD 77 02    	LD (IX+2),A
  842 E52F  06 80       	LD B,80H
  843 E531  DD 6E 05    	LD L,(IX+5)
  844 E534  DD 66 06    	LD H,(IX+6)
  845 E537  1E 00       	LD E,0
  846 E539  D5          MBI5:	PUSH DE
  847 E53A  CD E59F     	CALL BYTIN
  848 E53D  D1          	POP DE
  849 E53E  38 0F       	JR C,MBI6
  850 E540  77          	LD (HL),A
  851 E541  83          	ADD E
  852 E542  5F          	LD E,A
  853 E543  23          	INC HL
  854 E544  10 F3       	DJNZ MBI5
  855 E546  6F          	LD L,A
  856 E547  CD E59F     	CALL BYTIN
  857 E54A  38 03       	JR C,MBI6
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  16
CAOSE   ASM

  858 E54C  95          	SUB L
  859 E54D  C6 FF       	ADD 0FFH
  860 E54F  D1          MBI6:	POP DE
  861 E550  E1          	POP HL
  862 E551  3E 03       	LD A,3
  863 E553  D3 8A       	OUT (8AH),A
  864 E555  DB 88       LEDON:	IN A,(88H)
  865 E557  CB EF       	SET 5,A
  866 E559  30 02       	JR NC,MBI7
  867 E55B  CB AF       	RES 5,A
  868 E55D  D3 88       MBI7:	OUT (88H),A
  869 E55F  C9          	RET
  870                    
  871 E560              MOT:	;Umschalten der MSS (ESC A)
  872 E560  DB 88       	IN A,(88H)
  873 E562  EE 60       	XOR 60H
  874 E564  18 F7       	JR MBI7
  875                    
  876 E566  F5          ISRC1:	PUSH AF		;ISR CTC 1 MBO
  877 E567  3E 87       	LD A,87H
  878 E569  D3 8D       	OUT (8DH),A
  879 E56B  DD 7E 00    	LD A,(IX)
  880 E56E  D3 8D       	OUT (8DH),A
  881 E570  DD 36 00 00 	LD (IX),0
  882 E574  18 0E       	JR IMBEND
  883                    
  884 E576  F5          ISRPA:	PUSH AF		;ISR PIO A MBI
  885 E577  DB 8E       	IN A,8EH
  886 E579  DD 77 00    	LD (IX),A
  887 E57C  3E 07       	LD A,7
  888 E57E  D3 8E       	OUT (8EH),A
  889 E580  3E A3       	LD A,0A3H
  890 E582  D3 8E       	OUT (8EH),A
  891 E584  F1          IMBEND:	POP AF
  892 E585  FB          INTEND:	EI
  893 E586  ED 4D       	RETI
  894                    
  895 E588  DD 36 00 00 STOP1:	LD (IX),0
  896 E58C  DD 7E 00    STOP11:	LD A,(IX)
  897 E58F  B7          	OR A
  898 E590  28 FA       	JR Z,STOP11
  899 E592  4F          	LD C,A
  900 E593  DD 36 00 00 STOP2:	LD (IX),0
  901 E597  DD 7E 00    STOP21:	LD A,(IX)
  902 E59A  B7          	OR A
  903 E59B  28 FA       	JR Z,STOP21
  904 E59D  81          	ADD C
  905 E59E  C9          	RET
  906                    
  907 E59F  11 0800     BYTIN:	LD DE,800H
  908 E5A2  CD E588     TRN1:	CALL STOP1
  909 E5A5  38 03       	JR C,TRN2
  910 E5A7  FE BA       	CP 0BAH
  911 E5A9  D8          	RET C
  912 E5AA  3F          TRN2:	CCF
  913 E5AB  CB 1B       	RR E
  914 E5AD  15          	DEC D
  915 E5AE  20 F2       	JR NZ,TRN1
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  17
CAOSE   ASM

  916 E5B0  CD E588     	CALL STOP1
  917 E5B3  7B          	LD A,E
  918 E5B4  C9          	RET
  919                    
  920                   ;*** Sound Unit ***
  921                    
  922 E5B5  F5          ISRC2:	PUSH AF		;ISR CTC 2 TON
  923 E5B6  CD E442     	CALL PHALT
  924 E5B9  CD E450     	CALL BLION
  925 E5BC  18 C6       	JR IMBEND
  926                    
  927 E5BE  CD F473     TON:	CALL LARG	;UP 35 TON
  928 E5C1  DD CB 08 4E TON1:	BIT 1,(IX+8)	;noch alter Ton?
  929 E5C5  20 FA       	JR NZ,TON1	;warten
  930 E5C7  79          TONP:	LD A,C		;Lautstaerke
  931 E5C8  17          	RLA		;1x nach links rotieren
  932 E5C9  2F          	CPL		;negieren, da Low-aktiv
  933 E5CA  4F          	LD C,A
  934 E5CB  78          	LD A,B		;Tondauer
  935 E5CC  C6 FF       	ADD 0FFH
  936 E5CE  30 0D       	JR NC,TON2	;Dauerton (CY=0 fuer Blinken aus)
  937 E5D0  F3          	DI
  938 E5D1  DD CB 08 CE 	SET 1,(IX+8)	;neuer Ton
  939 E5D5  3E C7       	LD A,0C7H
  940 E5D7  D3 8E       	OUT (8EH),A	;CTC2: EI, Zaehler 50Hz
  941 E5D9  78          	LD A,B
  942 E5DA  D3 8E       	OUT (8EH),A	;Tondauer
  943 E5DC  FB          	EI
  944 E5DD  79          TON2:	LD A,C		;Lautstaerke
  945 E5DE  1F          	RRA		;1x nach rechts rotieren und Blinkbit einschieben
  946 E5DF  D3 89       	OUT (89H),A
  947                    
  948 E5E1  0E 8C       	LD C,8CH	;CTC 0
  949 E5E3  CD E5E8     	CALL ZKO
  950 E5E6  0C          	INC C		;CTC 1
  951 E5E7  EB          	EX DE,HL
  952 E5E8  7D          ZKO:	LD A,L
  953 E5E9  A7          	AND A
  954 E5EA  2E 03       	LD L,3
  955 E5EC  28 0C       	JR Z,TON3
  956 E5EE  6F          	LD L,A
  957 E5EF  7C          	LD A,H
  958 E5F0  0F          	RRCA
  959 E5F1  0F          	RRCA
  960 E5F2  F6 0A       	OR 0AH		;2*5
  961 E5F4  1F          	RRA
  962 E5F5  EE 02       	XOR 2
  963 E5F7  F3          	DI
  964 E5F8  ED 79       	OUT (C),A
  965 E5FA  ED 69       TON3:	OUT (C),L
  966 E5FC  FB          	EI
  967 E5FD  C9          	RET
  968                    
  969                    
  970                   ;====== BASIC-ERWEITERUNG ==============
  971                    
  972                    
  973                   ;*** BASIC I/O-Verteiler ***
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  18
CAOSE   ASM

  974                    
  975 E5FE  C5          BASPV:	PUSH BC
  976 E5FF  E5          	PUSH HL
  977 E600  CD F078     	CALL IRMON
  978 E603  CB 6B       	BIT 5,E
  979 E605  D5          	PUSH DE
  980 E606  20 4B       	JR NZ,BASBYE
  981 E608  23          	INC HL
  982 E609  23          	INC HL
  983 E60A  CB 7B       	BIT 7,E
  984 E60C  20 3A       	JR NZ,BSA2
  985 E60E  E5          	PUSH HL
  986 E60F  7B          	LD A,E
  987 E610  E6 07       	AND 7
  988 E612  21 E640     	LD HL,BUPTAB
  989 E615  85          	ADD L
  990 E616  6F          	LD L,A
  991 E617  7A          	LD A,D
  992 E618  53          	LD D,E
  993 E619  5E          	LD E,(HL)
  994 E61A  E1          	POP HL
  995 E61B  CD F063     	CALL PV3
  996 E61E  D1          	POP DE
  997 E61F  57          	LD D,A
  998 E620  7B          	LD A,E
  999 E621  E6 4F       	AND 4FH
 1000 E623  EE 43       	XOR 43H
 1001 E625  20 10       	JR NZ,BSA1
 1002 E627  CD F251     	CALL OSTR
 1003 E62A  56 45 52 49 	DEFM 'VERIFY'
 1004 E630  00          	DEFB 0
 1005 E631  CD F566     	CALL YESNO
 1006 E634  CC F495     	CALL Z,VERIFY
 1007 E637  7A          BSA1:	LD A,D
 1008 E638  CB 9B       	RES 3,E
 1009 E63A  CD F091     	CALL IRMOFF
 1010 E63D  E1          BSAE:	POP HL
 1011 E63E  C1          	POP BC
 1012 E63F  C9          	RET
 1013                    
 1014 E640  16          BUPTAB:	DEFB 16H	;KEINE 100H-
 1015 E641  24          	DEFB 24H	;Ueberschneidung
 1016 E642  37          	DEFB 37H
 1017 E643  38          	DEFB 38H
 1018 E644  06          	DEFB 6
 1019 E645  02          	DEFB 2
 1020 E646  07          	DEFB 7
 1021 E647  03          	DEFB 3
 1022                    
 1023 E648  CD E3FC     BSA2:	CALL KBDS
 1024 E64B  D1          BSA3:	POP DE
 1025 E64C  57          	LD D,A
 1026 E64D  30 E8       	JR NC,BSA1
 1027 E64F  CB BB       	RES 7,E
 1028 E651  18 E4       	JR BSA1
 1029                    
 1030 E653  DB 88       BASBYE:	IN A,(88H)
 1031 E655  CB BF       	RES 7,A
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  19
CAOSE   ASM

 1032 E657  D3 88       	OUT (88H),A
 1033 E659  C3 F1E8     	JP LOOP
 1034                    
 1035                   ;*** BASIC-Expander ***
 1036                    
 1037 E65C  78          BEXP1:	LD A,B
 1038 E65D  D6 09       	SUB 9
 1039 E65F  38 4B       	JR C,SNERR1
 1040 E661  FE 1B       	CP 27
 1041 E663  30 47       	JR NC,SNERR1
 1042 E665  07          	RLCA
 1043 E666  4F          	LD C,A
 1044 E667  06 00       	LD B,0
 1045 E669  EB          	EX DE,HL
 1046 E66A  21 EDCA     	LD HL,TADR5
 1047 E66D  C3 C8B7     	JP 0C8B7H
 1048                    
 1049 E670              LOCOL:	;LoadColor
 1050 E670  E5          	PUSH HL
 1051 E671  21 B7A3     	LD HL,0B7A3H
 1052 E674  CD EBE3     	CALL RLDAM
 1053 E677  E1          	POP HL
 1054 E678  C9          	RET
 1055                    
 1056 E679  7E          BEXP2:	LD A,(HL)
 1057 E67A  FE DF       	CP 0DFH
 1058 E67C  D8          	RET C
 1059 E67D  FE E3       	CP 0E3H
 1060 E67F  D0          	RET NC
 1061 E680  FE E1       	CP 0E1H
 1062 E682  CA EA39     	JP Z,AT
 1063 E685  3A 03FD     	LD A,(3FDH)	;PRTFLG
 1064 E688  A7          	AND A
 1065 E689  20 21       	JR NZ,SNERR1
 1066 E68B  3C          	INC A
 1067 E68C  32 03FD     	LD (3FDH),A	;PRTFLG
 1068 E68F  3E          	DEFB 3EH	;LD A,n
 1069 E690  C5          RBE2:	PUSH BC
 1070 E691  CD E670     	CALL LOCOL
 1071 E694  32 037E     	LD (37EH),A
 1072 E697  7E          	LD A,(HL)
 1073 E698  FE DF       	CP 0DFH
 1074 E69A  28 1B       	JR Z,BE23
 1075 E69C  FE E2       	CP 0E2H
 1076 E69E  CA E6AF     	JP Z,PRCOL
 1077 E6A1  CD C8BD     	CALL 0C8BDH
 1078 E6A4  CD EA95     	CALL PAPER
 1079 E6A7  7E          BE22:	LD A,(HL)
 1080 E6A8  FE 3B       	CP ';'
 1081 E6AA  28 38       	JR Z,BE25
 1082 E6AC  C3 C348     SNERR1:	JP 0C348H
 1083                    
 1084 E6AF  CD C8BD     PRCOL:	CALL 0C8BDH
 1085 E6B2  CD EAAC     	CALL COLR
 1086 E6B5  18 F0       	JR BE22
 1087                    
 1088 E6B7  CD C8BD     BE23:	CALL 0C8BDH
 1089 E6BA  CD EA83     	CALL INK
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  20
CAOSE   ASM

 1090 E6BD  7E          	LD A,(HL)
 1091 E6BE  FE 3B       	CP ';'
 1092 E6C0  28 22       	JR Z,BE25
 1093 E6C2  CD C8CC     	CALL 0C8CCH
 1094 E6C5  2C          	DEFB ','
 1095 E6C6  FE E0       	CP 0E0H
 1096 E6C8  20 E2       	JR NZ,SNERR1
 1097 E6CA  CD C8BD     	CALL 0C8BDH
 1098 E6CD  CD EA95     	CALL PAPER
 1099 E6D0  CD C8CC     	CALL 0C8CCH
 1100 E6D3  3B          	DEFB ';'
 1101 E6D4  CD CB03     BE24:	CALL 0CB03H
 1102 E6D7  3A 037E     	LD A,(37EH)
 1103 E6DA  E5          	PUSH HL
 1104 E6DB  21 B7A3     	LD HL,0B7A3H
 1105 E6DE  CD EBE8     	CALL RLDMA
 1106 E6E1  E1          	POP HL
 1107 E6E2  C1          	POP BC
 1108 E6E3  C9          	RET
 1109                    
 1110 E6E4  CD C8BD     BE25:	CALL 0C8BDH
 1111 E6E7  18 EB       	JR BE24
 1112                    
 1113 E6E9  79          BEXP3:	LD A,C
 1114 E6EA  FE 62       	CP 62H
 1115 E6EC  CA EA07     	JP Z,VPEEK
 1116 E6EF  FE 6E       	CP 6EH
 1117 E6F1  CA EC00     	JP Z,PTEST
 1118 E6F4  FE 7C       	CP 7CH
 1119 E6F6  CA ECE1     	JP Z,CSRLIN
 1120 E6F9  FE 76       	CP 76H
 1121 E6FB  CA ED01     	JP Z,VGET
 1122 E6FE  D6 3E       	SUB 3EH
 1123 E700  38 AA       	JR C,SNERR1
 1124 E702  FE 07       	CP 7
 1125 E704  30 A6       	JR NC,SNERR1
 1126 E706  EB          	EX DE,HL
 1127 E707  01 EDC2     	LD BC,TOKADR
 1128 E70A  E1          	POP HL
 1129 E70B  6F          	LD L,A
 1130 E70C  09          	ADD HL,BC
 1131 E70D  4E          	LD C,(HL)
 1132 E70E  23          	INC HL
 1133 E70F  66          	LD H,(HL)
 1134 E710  69          	LD L,C
 1135 E711  E5          	PUSH HL
 1136 E712  EB          	EX DE,HL
 1137 E713  C9          	RET
 1138                    
 1139 E714  CD C8CC     STR:	CALL 0C8CCH
 1140 E717  28          	DEFB '('
 1141 E718  CD D421     	CALL 0D421H
 1142 E71B  F5          	PUSH AF
 1143 E71C  CD C8D6     	CALL 0C8D6H
 1144 E71F  CD CD3A     	CALL 0CD3AH
 1145 E722  CD C8DB     	CALL 0C8DBH
 1146 E725  F1          	POP AF
 1147 E726  E5          	PUSH HL
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  21
CAOSE   ASM

 1148 E727  F5          	PUSH AF
 1149 E728  CD D330     	CALL 0D330H
 1150 E72B  23          	INC HL
 1151 E72C  23          	INC HL
 1152 E72D  5E          	LD E,(HL)
 1153 E72E  23          	INC HL
 1154 E72F  56          	LD D,(HL)
 1155 E730  C1          	POP BC
 1156 E731  C5          	PUSH BC
 1157 E732  F5          	PUSH AF
 1158 E733  D5          	PUSH DE
 1159 E734  4F          	LD C,A
 1160 E735  AF          	XOR A
 1161 E736  B9          	CP C
 1162 E737  28 0C       	JR Z,STR2
 1163 E739  B8          	CP B
 1164 E73A  28 09       	JR Z,STR2
 1165 E73C  79          	LD A,C
 1166 E73D  05          	DEC B
 1167 E73E  28 05       	JR Z,STR2
 1168 E740  81          STR1:	ADD C
 1169 E741  38 2B       	JR C,STR5
 1170 E743  10 FB       	DJNZ STR1
 1171 E745  47          STR2:	LD B,A
 1172 E746  0E 00       	LD C,0
 1173 E748  C5          	PUSH BC
 1174 E749  CD D1E1     	CALL 0D1E1H
 1175 E74C  C1          	POP BC
 1176 E74D  C1          	POP BC
 1177 E74E  C5          	PUSH BC
 1178 E74F  CD D17E     	CALL 0D17EH
 1179 E752  E1          	POP HL
 1180 E753  E3          	EX (SP),HL
 1181 E754  7C          	LD A,H
 1182 E755  E1          	POP HL
 1183 E756  E3          	EX (SP),HL
 1184 E757  6F          	LD L,A
 1185 E758  24          	INC H
 1186 E759  25          STR3:	DEC H
 1187 E75A  E5          	PUSH HL
 1188 E75B  C5          	PUSH BC
 1189 E75C  28 07       	JR Z,STR4
 1190 E75E  CD D2F2     	CALL 0D2F2H
 1191 E761  C1          	POP BC
 1192 E762  E1          	POP HL
 1193 E763  18 F4       	JR STR3
 1194                    
 1195 E765  C1          STR4:	POP BC
 1196 E766  E1          	POP HL
 1197 E767  D1          	POP DE
 1198 E768  CD D302     	CALL 0D302H
 1199 E76B  C3 D1A9     	JP 0D1A9H
 1200                    
 1201 E76E  1E 1C       STR5:	LD E,28
 1202 E770  C3 C356     	JP 0C356H
 1203                    
 1204 E773  E5          REN:	PUSH HL
 1205 E774  21 000A     	LD HL,10
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  22
CAOSE   ASM

 1206 E777  22 0354     	LD (354H),HL
 1207 E77A  2A 035F     	LD HL,(35FH)
 1208 E77D  F5          	PUSH AF
 1209 E77E  E5          	PUSH HL
 1210 E77F  23          	INC HL
 1211 E780  23          	INC HL
 1212 E781  7E          	LD A,(HL)
 1213 E782  23          	INC HL
 1214 E783  66          	LD H,(HL)
 1215 E784  6F          	LD L,A
 1216 E785  22 034E     	LD (34EH),HL
 1217 E788  22 0352     	LD (352H),HL
 1218 E78B  ED 5B 03D7  	LD DE,(3D7H)
 1219 E78F  1B          	DEC DE
 1220 E790  1B          	DEC DE
 1221 E791  E1          REN1:	POP HL
 1222 E792  E5          	PUSH HL
 1223 E793  7E          	LD A,(HL)
 1224 E794  23          	INC HL
 1225 E795  66          	LD H,(HL)
 1226 E796  6F          	LD L,A
 1227 E797  CD C689     	CALL 0C689H
 1228 E79A  E3          	EX (SP),HL
 1229 E79B  20 F4       	JR NZ,REN1
 1230 E79D  D1          	POP DE
 1231 E79E  23          	INC HL
 1232 E79F  23          	INC HL
 1233 E7A0  7E          	LD A,(HL)
 1234 E7A1  23          	INC HL
 1235 E7A2  66          	LD H,(HL)
 1236 E7A3  6F          	LD L,A
 1237 E7A4  22 0350     	LD (350H),HL
 1238 E7A7  06 04       	LD B,4
 1239 E7A9  F1          	POP AF
 1240 E7AA  21 034E     	LD HL,34EH
 1241 E7AD  E3          	EX (SP),HL
 1242 E7AE  28 20       REN2:	JR Z,REN5
 1243 E7B0  CD C986     	CALL 0C986H
 1244 E7B3  F5          	PUSH AF
 1245 E7B4  7A          	LD A,D
 1246 E7B5  B3          	OR E
 1247 E7B6  CA C967     REN3:	JP Z,0C967H
 1248 E7B9  F1          	POP AF
 1249 E7BA  E3          	EX (SP),HL
 1250 E7BB  73          	LD (HL),E
 1251 E7BC  23          	INC HL
 1252 E7BD  72          	LD (HL),D
 1253 E7BE  23          	INC HL
 1254 E7BF  28 0F       	JR Z,REN5
 1255 E7C1  F5          	PUSH AF
 1256 E7C2  05          	DEC B
 1257 E7C3  28 07       	JR Z,REN4
 1258 E7C5  F1          	POP AF
 1259 E7C6  E3          	EX (SP),HL
 1260 E7C7  CD C8D6     	CALL 0C8D6H
 1261 E7CA  18 E2       	JR REN2
 1262                    
 1263 E7CC  F1          REN4:	POP AF
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  23
CAOSE   ASM

 1264 E7CD  C2 C348     	JP NZ,0C348H
 1265 E7D0  2A 0350     REN5:	LD HL,(350H)
 1266 E7D3  ED 5B 034E  	LD DE,(34EH)
 1267 E7D7  CD C689     	CALL 0C689H
 1268 E7DA  DA C967     REN6:	JP C,0C967H
 1269 E7DD  2A 035F     	LD HL,(35FH)
 1270 E7E0  CD C4BE     REN7:	CALL 0C4BEH
 1271 E7E3  38 04       	JR C,REN8
 1272 E7E5  28 CF       	JR Z,REN3
 1273 E7E7  18 F7       	JR REN7
 1274                    
 1275 E7E9  E1          REN8:	POP HL
 1276 E7EA  C5          	PUSH BC
 1277 E7EB  ED 5B 0350  	LD DE,(350H)
 1278 E7EF  21 0000     	LD HL,0
 1279 E7F2  22 0350     	LD (350H),HL
 1280 E7F5  60          REN9:	LD H,B
 1281 E7F6  69          	LD L,C
 1282 E7F7  4E          	LD C,(HL)
 1283 E7F8  23          	INC HL
 1284 E7F9  46          	LD B,(HL)
 1285 E7FA  78          	LD A,B
 1286 E7FB  B1          	OR C
 1287 E7FC  28 B8       	JR Z,REN3
 1288 E7FE  23          	INC HL
 1289 E7FF  7E          	LD A,(HL)
 1290 E800  23          	INC HL
 1291 E801  66          	LD H,(HL)
 1292 E802  6F          	LD L,A
 1293 E803  CD C689     	CALL 0C689H
 1294 E806  2A 0350     	LD HL,(350H)
 1295 E809  23          	INC HL
 1296 E80A  22 0350     	LD (350H),HL
 1297 E80D  20 E6       	JR NZ,REN9
 1298 E80F  23          	INC HL
 1299 E810  23          	INC HL
 1300 E811  29          	ADD HL,HL
 1301 E812  23          	INC HL
 1302 E813  ED 5B 03D7  	LD DE,(3D7H)
 1303 E817  19          	ADD HL,DE
 1304 E818  38 C0       	JR C,REN6
 1305 E81A  CD C327     	CALL 0C327H
 1306 E81D  22 03D7     	LD (3D7H),HL
 1307 E820  AF          	XOR A
 1308 E821  2B          	DEC HL
 1309 E822  77          	LD (HL),A
 1310 E823  2B          	DEC HL
 1311 E824  77          	LD (HL),A
 1312 E825  1B          	DEC DE
 1313 E826  1B          	DEC DE
 1314 E827  EB          	EX DE,HL
 1315 E828  73          	LD (HL),E
 1316 E829  23          	INC HL
 1317 E82A  72          	LD (HL),D
 1318 E82B  23          	INC HL
 1319 E82C  3D          	DEC A
 1320 E82D  77          	LD (HL),A
 1321 E82E  23          	INC HL
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  24
CAOSE   ASM

 1322 E82F  77          	LD (HL),A
 1323 E830  23          	INC HL
 1324 E831  EB          	EX DE,HL
 1325 E832  2A 0352     	LD HL,(352H)
 1326 E835  22 034E     	LD (34EH),HL
 1327 E838  E1          REN10:	POP HL
 1328 E839  4E          	LD C,(HL)
 1329 E83A  23          	INC HL
 1330 E83B  46          	LD B,(HL)
 1331 E83C  23          	INC HL
 1332 E83D  C5          	PUSH BC
 1333 E83E  01 034E     	LD BC,34EH
 1334 E841  7E          	LD A,(HL)
 1335 E842  12          	LD (DE),A
 1336 E843  0A          	LD A,(BC)
 1337 E844  77          	LD (HL),A
 1338 E845  23          	INC HL
 1339 E846  13          	INC DE
 1340 E847  03          	INC BC
 1341 E848  7E          	LD A,(HL)
 1342 E849  12          	LD (DE),A
 1343 E84A  0A          	LD A,(BC)
 1344 E84B  77          	LD (HL),A
 1345 E84C  13          	INC DE
 1346 E84D  2A 034E     	LD HL,(34EH)
 1347 E850  ED 4B 0354  	LD BC,(354H)
 1348 E854  09          	ADD HL,BC
 1349 E855  22 034E     	LD (34EH),HL
 1350 E858  2A 0350     	LD HL,(350H)
 1351 E85B  2B          	DEC HL
 1352 E85C  7C          	LD A,H
 1353 E85D  B5          	OR L
 1354 E85E  22 0350     	LD (350H),HL
 1355 E861  20 D5       	JR NZ,REN10
 1356 E863  12          	LD (DE),A
 1357 E864  E1          	POP HL
 1358 E865  2A 035F     	LD HL,(35FH)
 1359 E868  E5          	PUSH HL
 1360 E869  E1          REN11:	POP HL
 1361 E86A  4E          	LD C,(HL)
 1362 E86B  23          	INC HL
 1363 E86C  46          	LD B,(HL)
 1364 E86D  23          	INC HL
 1365 E86E  C5          	PUSH BC
 1366 E86F  7E          	LD A,(HL)
 1367 E870  23          	INC HL
 1368 E871  A6          	AND (HL)
 1369 E872  3C          	INC A
 1370 E873  28 26       	JR Z,REN15
 1371                    
 1372 E875  23          REN12:	INC HL
 1373 E876  7E          REN13:	LD A,(HL)
 1374 E877  B7          	OR A		;ZEILEN-ENDE
 1375 E878  28 EF       	JR Z,REN11
 1376 E87A  FE 88       	CP 88H		;GOTO
 1377 E87C  28 2A       	JR Z,REN16
 1378 E87E  FE 8C       	CP 8CH		;GOSUB
 1379 E880  28 26       	JR Z,REN16
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  25
CAOSE   ASM

 1380 E882  FE 8B       	CP 8BH		;RESTORE
 1381 E884  28 08       	JR Z,REN14
 1382 E886  FE D4       	CP 0D4H		;ELSE
 1383 E888  28 04       	JR Z,REN14
 1384 E88A  FE A9       	CP 0A9H		;THEN
 1385 E88C  20 E7       	JR NZ,REN12
 1386                    
 1387 E88E  CD C987     REN14:	CALL 0C987H	;F.RESTORE,THEN,
 1388 E891  7B          	LD A,E		; ELSE
 1389 E892  B2          	OR D
 1390 E893  C4 E8BC     	CALL NZ,RENLN
 1391 E896  C4 E8ED     	CALL NZ,RENZN
 1392 E899  18 DB       	JR REN13
 1393                    
 1394 E89B  2B          REN15:	DEC HL
 1395 E89C  22 03D7     	LD (3D7H),HL
 1396 E89F  2B          	DEC HL
 1397 E8A0  77          	LD (HL),A
 1398 E8A1  2B          	DEC HL
 1399 E8A2  77          	LD (HL),A
 1400 E8A3  E1          	POP HL
 1401 E8A4  E1          	POP HL
 1402 E8A5  C3 C48A     	JP 0C48AH
 1403                    
 1404 E8A8  CD C987     REN16:	CALL 0C987H	;F.GOTO,GOSUB
 1405 E8AB  7B          	LD A,E
 1406 E8AC  B2          	OR D
 1407 E8AD  28 C7       	JR Z,REN13
 1408 E8AF  CD E8BC     	CALL RENLN
 1409 E8B2  C4 E8ED     	CALL NZ,RENZN
 1410 E8B5  7E          	LD A,(HL)
 1411 E8B6  FE 2C       	CP 2CH
 1412 E8B8  20 BC       	JR NZ,REN13
 1413 E8BA  18 EC       	JR REN16
 1414                    
 1415 E8BC  E5          RENLN:	PUSH HL
 1416 E8BD  D5          	PUSH DE
 1417 E8BE  11 FFFF     	LD DE,0FFFFH
 1418 E8C1  CD C4BB     	CALL 0C4BBH
 1419 E8C4  D1          	POP DE
 1420 E8C5  03          	INC BC
 1421 E8C6  03          	INC BC
 1422 E8C7  03          	INC BC
 1423 E8C8  03          	INC BC
 1424 E8C9  60          	LD H,B
 1425 E8CA  69          	LD L,C
 1426 E8CB  ED 4B 0352  	LD BC,(352H)
 1427 E8CF  7E          RL1:	LD A,(HL)
 1428 E8D0  23          	INC HL
 1429 E8D1  E5          	PUSH HL
 1430 E8D2  B6          	OR (HL)
 1431 E8D3  28 15       	JR Z,REND2
 1432 E8D5  7E          	LD A,(HL)
 1433 E8D6  2B          	DEC HL
 1434 E8D7  6E          	LD L,(HL)
 1435 E8D8  67          	LD H,A
 1436 E8D9  CD C689     	CALL 0C689H
 1437 E8DC  28 0A       	JR Z,REND1
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  26
CAOSE   ASM

 1438 E8DE  2A 0354     	LD HL,(354H)
 1439 E8E1  09          	ADD HL,BC
 1440 E8E2  44          	LD B,H
 1441 E8E3  4D          	LD C,L
 1442 E8E4  E1          	POP HL
 1443 E8E5  23          	INC HL
 1444 E8E6  18 E7       	JR RL1
 1445                    
 1446 E8E8  AF          REND1:	XOR A
 1447 E8E9  3D          	DEC A
 1448 E8EA  E1          REND2:	POP HL
 1449 E8EB  E1          	POP HL
 1450 E8EC  C9          	RET
 1451                    
 1452 E8ED  C5          RENZN:	PUSH BC		;NEUE ZEILEN-NR.
 1453 E8EE  EB          	EX DE,HL	; F.SPRUENGE,...
 1454 E8EF  2A 03D7     	LD HL,(3D7H)
 1455 E8F2  ED 52       	SBC HL,DE
 1456 E8F4  E5          	PUSH HL
 1457 E8F5  C1          RZ1:	POP BC
 1458 E8F6  62          	LD H,D
 1459 E8F7  6B          	LD L,E
 1460 E8F8  1B          	DEC DE
 1461 E8F9  1A          	LD A,(DE)
 1462 E8FA  FE 2C       	CP ','
 1463 E8FC  28 0B       	JR Z,RZ2
 1464 E8FE  FE 3A       	CP ':'
 1465 E900  30 07       	JR NC,RZ2
 1466 E902  C5          	PUSH BC
 1467 E903  D5          	PUSH DE
 1468 E904  ED B0       	LDIR
 1469 E906  D1          	POP DE
 1470 E907  18 EC       	JR RZ1
 1471                    
 1472 E909  EB          RZ2:	EX DE,HL
 1473 E90A  D1          	POP DE
 1474 E90B  E5          	PUSH HL
 1475 E90C  C5          	PUSH BC
 1476 E90D  AF          	XOR A
 1477 E90E  06 98       	LD B,98H
 1478 E910  CD D6AE     	CALL 0D6AEH
 1479 E913  CD D834     	CALL 0D834H
 1480 E916  C1          	POP BC
 1481 E917  D1          	POP DE
 1482 E918  23          	INC HL
 1483 E919  13          	INC DE
 1484 E91A  7E          RZ3:	LD A,(HL)
 1485 E91B  B7          	OR A
 1486 E91C  28 0F       	JR Z,RZ4
 1487 E91E  C5          	PUSH BC
 1488 E91F  E5          	PUSH HL
 1489 E920  EB          	EX DE,HL
 1490 E921  09          	ADD HL,BC
 1491 E922  54          	LD D,H
 1492 E923  5D          	LD E,L
 1493 E924  2B          	DEC HL
 1494 E925  ED B8       	LDDR
 1495 E927  E1          	POP HL
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  27
CAOSE   ASM

 1496 E928  ED A0       	LDI
 1497 E92A  C1          	POP BC
 1498 E92B  18 ED       	JR RZ3
 1499                    
 1500 E92D  D5          RZ4:	PUSH DE
 1501 E92E  ED 5B 035F  	LD DE,(35FH)
 1502 E932  CD C493     	CALL 0C493H
 1503 E935  23          RZ5:	INC HL
 1504 E936  7E          	LD A,(HL)
 1505 E937  23          	INC HL
 1506 E938  B6          	OR (HL)
 1507 E939  20 FA       	JR NZ,RZ5
 1508 E93B  EB          	EX DE,HL
 1509 E93C  73          	LD (HL),E
 1510 E93D  23          	INC HL
 1511 E93E  72          	LD (HL),D
 1512 E93F  13          	INC DE
 1513 E940  13          	INC DE
 1514 E941  ED 53 03D7  	LD (3D7H),DE
 1515 E945  E1          	POP HL
 1516 E946  54          	LD D,H
 1517 E947  5D          	LD E,L
 1518 E948  7E          RZ6:	LD A,(HL)
 1519 E949  B7          	OR A
 1520 E94A  23          	INC HL
 1521 E94B  20 FB       	JR NZ,RZ6
 1522 E94D  C1          	POP BC
 1523 E94E  E3          	EX (SP),HL
 1524 E94F  C5          	PUSH BC
 1525 E950  EB          	EX DE,HL
 1526 E951  C9          	RET
 1527                    
 1528 E952  C8          DLTE:	RET Z
 1529 E953  CD C986     	CALL 0C986H
 1530 E956  CA C442     	JP Z,0C442H
 1531 E959  CD C8D6     	CALL 0C8D6H
 1532 E95C  D5          	PUSH DE
 1533 E95D  CD C986     	CALL 0C986H
 1534 E960  E1          	POP HL
 1535 E961  C0          	RET NZ
 1536 E962  EB          	EX DE,HL
 1537 E963  E5          	PUSH HL
 1538 E964  CD C4BB     	CALL 0C4BBH
 1539 E967  D2 C44D     	JP NC,0C44DH
 1540 E96A  D1          	POP DE
 1541 E96B  F5          	PUSH AF
 1542 E96C  C5          	PUSH BC
 1543 E96D  CD C4BE     	CALL 0C4BEH
 1544 E970  D2 C44D     	JP NC,0C44DH
 1545 E973  C1          	POP BC
 1546 E974  C3 C450     	JP 0C450H
 1547                    
 1548 E977  CD C8BE     PAUSE:	CALL 0C8BEH
 1549 E97A  20 0D       	JR NZ,PSE2
 1550 E97C  1E 2A       PSE1:	LD E,2AH	;BRKT
 1551 E97E  CD F027     	CALL PV5
 1552 E981  D8          	RET C
 1553 E982  FE 0A       	CP 0AH		;CUD
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  28
CAOSE   ASM

 1554 E984  20 F6       	JR NZ,PSE1
 1555 E986  C3 DDE4     CONT:	JP 0DDE4H
 1556                    
 1557 E989  CD D421     PSE2:	CALL 0D421H
 1558 E98C  4F          	LD C,A
 1559 E98D  3E 10       PSE3:	LD A,10H
 1560 E98F  1E 14       	LD E,14H	;WAIT
 1561 E991  CD F027     	CALL PV5
 1562 E994  1E 2A       	LD E,2AH	;BRKT
 1563 E996  CD F027     	CALL PV5
 1564 E999  D8          	RET C
 1565 E99A  FE 0A       	CP 0AH
 1566 E99C  28 E8       	JR Z,CONT
 1567 E99E  0D          	DEC C
 1568 E99F  20 EC       	JR NZ,PSE3
 1569 E9A1  C9          	RET
 1570                    
 1571 E9A2  06 01       BEEP:	LD B,1
 1572 E9A4  CD C8BE     	CALL 0C8BEH
 1573 E9A7  28 04       	JR Z,BEEP1
 1574 E9A9  CD D421     	CALL 0D421H
 1575 E9AC  47          	LD B,A
 1576 E9AD  3E 07       BEEP1:	LD A,7
 1577 E9AF  1E 00       	LD E,0
 1578 E9B1  CD F027     	CALL PV5
 1579 E9B4  10 F7       	DJNZ BEEP1
 1580 E9B6  C9          	RET
 1581                    
 1582 E9B7  CD C8D6     MC8D4:	CALL 0C8D6H	;CPCOMM
 1583 E9BA  C3 D421     	JP 0D421H	;ARGVL1
 1584                    
 1585 E9BD  CD C8BE     WNDW:	CALL 0C8BEH	;TCHAR1
 1586 E9C0  28 2E       	JR Z,WDW2	;volles Fenster
 1587 E9C2  CD D421     	CALL 0D421H	;ARGVL1
 1588 E9C5  47          	LD B,A		;WAY>B
 1589 E9C6  C5          	PUSH BC
 1590 E9C7  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1591 E9CA  57          	LD D,A		;WEY>D
 1592 E9CB  D5          	PUSH DE
 1593 E9CC  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1594 E9CF  D1          	POP DE
 1595 E9D0  5F          	LD E,A		;WAX>E
 1596 E9D1  D5          	PUSH DE
 1597 E9D2  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1598 E9D5  D1          	POP DE		;WEX>A
 1599 E9D6  E3          	EX (SP),HL	;WAY>H
 1600 E9D7  6B          	LD L,E		;WAX>L
 1601 E9D8  93          	SUB E
 1602 E9D9  38 5B       	JR C,SNERR2
 1603 E9DB  3C          	INC A
 1604 E9DC  5F          	LD E,A		;WLX>E
 1605 E9DD  7A          	LD A,D		;WEY
 1606 E9DE  94          	SUB H		;WAY
 1607 E9DF  38 55       	JR C,SNERR2
 1608 E9E1  3C          	INC A
 1609 E9E2  57          	LD D,A		;WLY>D
 1610 E9E3  CD F078     WDW1:	CALL IRMON
 1611 E9E6  CD F71E     	CALL WININ0
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  29
CAOSE   ASM

 1612 E9E9  CD F091     	CALL IRMOFF
 1613 E9EC  38 48       	JR C,SNERR2
 1614 E9EE  E1          	POP HL
 1615 E9EF  C9          	RET
 1616                    
 1617 E9F0  E5          WDW2:	PUSH HL
 1618 E9F1  21 0100     	LD HL,100H
 1619 E9F4  11 1E28     	LD DE,1E28H
 1620 E9F7  18 EA       	JR WDW1
 1621                    
 1622 E9F9  E5          BLOAD:	PUSH HL
 1623 E9FA  21 B781     	LD HL,0B781H
 1624 E9FD  AF          	XOR A
 1625 E9FE  CD EBE8     	CALL RLDMA
 1626 EA01  E1          	POP HL
 1627 EA02  1E 10       	LD E,10H
 1628 EA04  C3 F027     	JP PV5
 1629                    
 1630 EA07  CD CDE1     VPEEK:	CALL 0CDE1H
 1631 EA0A  E3          	EX (SP),HL
 1632 EA0B  11 CDF3     	LD DE,0CDF3H
 1633 EA0E  D5          	PUSH DE
 1634 EA0F  CD C96F     	CALL 0C96FH
 1635 EA12  E5          	PUSH HL
 1636 EA13  21 8000     	LD HL,8000H
 1637 EA16  19          	ADD HL,DE
 1638 EA17  38 1D       	JR C,SNERR2
 1639 EA19  CB 74       	BIT 6,H
 1640 EA1B  20 19       	JR NZ,SNERR2
 1641 EA1D  CD EBE3     	CALL RLDAM
 1642 EA20  E1          	POP HL
 1643 EA21  C3 D3E9     	JP 0D3E9H
 1644                    
 1645 EA24  CD C96C     VPOKE:	CALL 0C96CH
 1646 EA27  D5          	PUSH DE
 1647 EA28  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1648 EA2B  E3          	EX (SP),HL
 1649 EA2C  11 8000     	LD DE,8000H
 1650 EA2F  19          	ADD HL,DE
 1651 EA30  38 04       	JR C,SNERR2
 1652 EA32  CB 74       	BIT 6,H
 1653 EA34  28 71       	JR Z,JLDMA
 1654 EA36  C3 C348     SNERR2:	JP 0C348H
 1655                    
 1656 EA39  3A 03FD     AT:	LD A,(3FDH)
 1657 EA3C  CB 4F       	BIT 1,A
 1658 EA3E  CB CF       	SET 1,A
 1659 EA40  32 03FD     	LD (3FDH),A
 1660 EA43  20 F1       	JR NZ,SNERR2
 1661 EA45  D5          	PUSH DE
 1662 EA46  E5          	PUSH HL
 1663 EA47  CD F078     	CALL IRMON
 1664 EA4A  21 0000     	LD HL,0
 1665 EA4D  11 2028     	LD DE,2028H
 1666 EA50  CD F71E     	CALL WININ0
 1667 EA53  CD F091     	CALL IRMOFF
 1668 EA56  E1          	POP HL
 1669 EA57  CD EABD     	CALL SUARG
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  30
CAOSE   ASM

 1670 EA5A  CD C8DB     	CALL 0C8DBH
 1671 EA5D  CD C8CC     	CALL 0C8CCH
 1672 EA60  3B          	DEFB ';'
 1673 EA61  7E          	LD A,(HL)
 1674 EA62  FE DF       	CP 0DFH
 1675 EA64  38 18       	JR C,AT2
 1676 EA66  FE E3       	CP 0E3H
 1677 EA68  30 14       	JR NC,AT2
 1678 EA6A  CD E690     	CALL RBE2
 1679 EA6D  E5          AT1:	PUSH HL
 1680 EA6E  CD F078     	CALL IRMON
 1681 EA71  3A B79B     	LD A,(0B79BH)
 1682 EA74  CD F740     	CALL WINAK1
 1683 EA77  CD F091     	CALL IRMOFF
 1684 EA7A  E1          	POP HL
 1685 EA7B  D1          	POP DE
 1686 EA7C  C1          	POP BC
 1687 EA7D  C9          	RET
 1688                    
 1689 EA7E  CD CB03     AT2:	CALL 0CB03H
 1690 EA81  18 EA       	JR AT1
 1691                    
 1692 EA83  CD D421     INK:	CALL 0D421H
 1693 EA86  FE 20       	CP 20H
 1694 EA88  30 AC       	JR NC,SNERR2
 1695 EA8A  87          	ADD A
 1696 EA8B  87          	ADD A
 1697 EA8C  87          	ADD A
 1698 EA8D  57          	LD D,A
 1699 EA8E  CD E670     	CALL LOCOL
 1700 EA91  E6 07       	AND 7
 1701 EA93  18 0D       	JR LDCOL
 1702                    
 1703 EA95  CD D421     PAPER:	CALL 0D421H
 1704 EA98  FE 08       	CP 8
 1705 EA9A  30 9A       	JR NC,SNERR2
 1706 EA9C  57          	LD D,A
 1707 EA9D  CD E670     	CALL LOCOL
 1708 EAA0  E6 F8       	AND 0F8H
 1709 EAA2  B2          LDCOL:	OR D
 1710 EAA3  E5          	PUSH HL
 1711 EAA4  21 B7A3     	LD HL,0B7A3H
 1712 EAA7  CD EBE8     JLDMA:	CALL RLDMA
 1713 EAAA  E1          	POP HL
 1714 EAAB  C9          	RET
 1715                    
 1716 EAAC  CD C8BE     COLR:	CALL 0C8BEH
 1717 EAAF  28 85       	JR Z,SNERR2
 1718 EAB1  CD EA83     	CALL INK
 1719 EAB4  CD C8BE     	CALL 0C8BEH
 1720 EAB7  C8          	RET Z
 1721 EAB8  CD C8D6     	CALL 0C8D6H
 1722 EABB  18 D8       	JR PAPER
 1723                    
 1724 EABD  CD C8BD     SUARG:	CALL 0C8BDH
 1725 EAC0  CD C8CC     	CALL 0C8CCH
 1726 EAC3  28          	DEFB '('
 1727                    
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  31
CAOSE   ASM

 1728 EAC4  CD D421     LOCAT:	CALL 0D421H
 1729 EAC7  57          	LD D,A
 1730 EAC8  D5          	PUSH DE
 1731 EAC9  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1732 EACC  D1          	POP DE
 1733 EACD  5F          	LD E,A
 1734 EACE  CD F078     	CALL IRMON
 1735 EAD1  CD E0AA     	CALL TCIF
 1736 EAD4  38 04       	JR C,LOCAT1
 1737 EAD6  ED 53 B7A0  	LD (0B7A0H),DE
 1738 EADA  CD F091     LOCAT1:	CALL IRMOFF
 1739 EADD  D0          	RET NC
 1740 EADE  C3 C348     SNERR3:	JP 0C348H
 1741                    
 1742 EAE1  E5          INKEY:	PUSH HL
 1743 EAE2  CD E3FC     	CALL KBDS
 1744 EAE5  30 0F       	JR NC,IKY2
 1745 EAE7  3E 01       	LD A,1
 1746 EAE9  CD D17B     	CALL 0D17BH
 1747 EAEC  CD DDE4     	CALL 0DDE4H
 1748 EAEF  2A 03C2     AKTCHR:	LD HL,(3C2H)
 1749 EAF2  77          	LD (HL),A
 1750 EAF3  C3 D1A9     IKY1:	JP 0D1A9H
 1751                    
 1752 EAF6  AF          IKY2:	XOR A
 1753 EAF7  CD D17B     	CALL 0D17BH
 1754 EAFA  18 F7       	JR IKY1
 1755                    
 1756 EAFC  CD D421     SOUND:	CALL 0D421H
 1757 EAFF  E5          	PUSH HL
 1758 EB00  21 B782     	LD HL,0B782H	;ARG1
 1759 EB03  06 04       	LD B,4		;4 Argumente
 1760 EB05  CD EBE8     SNDS:	CALL RLDMA	;in IRM schreiben
 1761 EB08  23          	INC HL
 1762 EB09  E3          	EX (SP),HL
 1763 EB0A  05          	DEC B
 1764 EB0B  28 08       	JR Z,SND2
 1765 EB0D  C5          	PUSH BC
 1766 EB0E  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1767 EB11  C1          	POP BC
 1768 EB12  E3          	EX (SP),HL
 1769 EB13  18 F0       	JR SNDS
 1770                    
 1771 EB15  CD C8BE     SND2:	CALL 0C8BEH
 1772 EB18  28 16       	JR Z,SND3
 1773 EB1A  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1774 EB1D  E3          	EX (SP),HL
 1775 EB1E  CD EBE8     	CALL RLDMA
 1776 EB21  23          	INC HL
 1777 EB22  E3          	EX (SP),HL
 1778 EB23  CD C8BE     	CALL 0C8BEH
 1779 EB26  28 08       	JR Z,SND3
 1780 EB28  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1781 EB2B  E3          	EX (SP),HL
 1782 EB2C  CD EBE8     	CALL RLDMA
 1783 EB2F  E3          	EX (SP),HL
 1784 EB30  1E 35       SND3:	LD E,35H
 1785 EB32  C1          	POP BC
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  32
CAOSE   ASM

 1786 EB33  C3 F027     	JP PV5
 1787                    
 1788 EB36  1E 2F       PRES:	LD E,2FH
 1789 EB38  01          	DEFB 1
 1790 EB39  1E 30       PSET:	LD E,30H
 1791 EB3B  D5          	PUSH DE
 1792 EB3C  CD C96C     	CALL 0C96CH	;EPRVL4
 1793 EB3F  E5          	PUSH HL
 1794 EB40  21 B7D3     	LD HL,0B7D3H	;HOR
 1795 EB43  CD EC33     	CALL LDMDE
 1796 EB46  E3          	EX (SP),HL
 1797 EB47  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1798 EB4A  E3          	EX (SP),HL
 1799 EB4B  CD EBE8     	CALL RLDMA
 1800 EB4E  E1          	POP HL
 1801 EB4F  CD EB59     	CALL SUCOL
 1802 EB52  D1          	POP DE
 1803 EB53  CD F027     PNT2:	CALL PV5
 1804 EB56  D0          	RET NC
 1805 EB57  18 85       	JR SNERR3
 1806                    
 1807 EB59  CD C8BE     SUCOL:	CALL 0C8BEH
 1808 EB5C  C8          	RET Z
 1809 EB5D  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1810 EB60  E5          	PUSH HL
 1811 EB61  21 B7D6     	LD HL,0B7D6H
 1812 EB64  07          	RLCA
 1813 EB65  07          	RLCA
 1814 EB66  07          	RLCA
 1815 EB67  C3 EAA7     	JP JLDMA
 1816                    
 1817 EB6A  CD CD36     INSTR:	CALL 0CD36H
 1818 EB6D  CD C8D6     	CALL 0C8D6H
 1819 EB70  E5          	PUSH HL
 1820 EB71  CD D330     	CALL 0D330H
 1821 EB74  28 17       	JR Z,FCERR
 1822 EB76  47          	LD B,A
 1823 EB77  23          	INC HL
 1824 EB78  23          	INC HL
 1825 EB79  5E          	LD E,(HL)
 1826 EB7A  23          	INC HL
 1827 EB7B  56          	LD D,(HL)
 1828 EB7C  E1          	POP HL
 1829 EB7D  D5          	PUSH DE
 1830 EB7E  C5          	PUSH BC
 1831 EB7F  CD CD3A     	CALL 0CD3AH
 1832 EB82  CD C8DB     	CALL 0C8DBH
 1833 EB85  C1          	POP BC
 1834 EB86  D1          	POP DE
 1835 EB87  E5          	PUSH HL
 1836 EB88  D5          	PUSH DE
 1837 EB89  C5          	PUSH BC
 1838 EB8A  CD D330     	CALL 0D330H
 1839 EB8D  CA C967     FCERR:	JP Z,0C967H
 1840 EB90  23          	INC HL
 1841 EB91  23          	INC HL
 1842 EB92  4E          	LD C,(HL)
 1843 EB93  23          	INC HL
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  33
CAOSE   ASM

 1844 EB94  66          	LD H,(HL)
 1845 EB95  69          	LD L,C
 1846 EB96  C1          	POP BC
 1847 EB97  4F          	LD C,A
 1848 EB98  D1          	POP DE
 1849 EB99  E5          	PUSH HL
 1850 EB9A  C5          ISTR1:	PUSH BC
 1851 EB9B  D5          	PUSH DE
 1852 EB9C  1A          	LD A,(DE)
 1853 EB9D  BE          ISTR2:	CP (HL)
 1854 EB9E  28 0F       	JR Z,ISTR5
 1855 EBA0  23          	INC HL
 1856 EBA1  0D          	DEC C
 1857 EBA2  20 F9       	JR NZ,ISTR2
 1858 EBA4  AF          ISTR3:	XOR A
 1859 EBA5  E1          	POP HL
 1860 EBA6  E1          	POP HL
 1861 EBA7  E1          	POP HL
 1862 EBA8  11 CDF3     ISTR4:	LD DE,0CDF3H
 1863 EBAB  D5          	PUSH DE
 1864 EBAC  C3 D0C0     	JP 0D0C0H
 1865                    
 1866 EBAF  23          ISTR5:	INC HL
 1867 EBB0  E5          	PUSH HL
 1868 EBB1  2B          	DEC HL
 1869 EBB2  23          ISTR6:	INC HL
 1870 EBB3  0D          	DEC C
 1871 EBB4  28 0F       	JR Z,ISTR7
 1872 EBB6  13          	INC DE
 1873 EBB7  05          	DEC B
 1874 EBB8  28 12       	JR Z,ISTR8
 1875 EBBA  1A          	LD A,(DE)
 1876 EBBB  BE          	CP (HL)
 1877 EBBC  28 F4       	JR Z,ISTR6
 1878 EBBE  E1          	POP HL
 1879 EBBF  D1          	POP DE
 1880 EBC0  79          	LD A,C
 1881 EBC1  C1          	POP BC
 1882 EBC2  4F          	LD C,A
 1883 EBC3  18 D5       	JR ISTR1
 1884                    
 1885 EBC5  13          ISTR7:	INC DE
 1886 EBC6  05          	DEC B
 1887 EBC7  E1          	POP HL
 1888 EBC8  20 DA       	JR NZ,ISTR3
 1889 EBCA  18 01       	JR ISTR9
 1890                    
 1891 EBCC  E1          ISTR8:	POP HL
 1892 EBCD  D1          ISTR9:	POP DE
 1893 EBCE  D1          	POP DE
 1894 EBCF  D1          	POP DE
 1895 EBD0  A7          	AND A
 1896 EBD1  ED 52       	SBC HL,DE
 1897 EBD3  7D          	LD A,L
 1898 EBD4  18 D2       	JR ISTR4
 1899                    
 1900 EBD6  CD D421     BKEY:	CALL 0D421H
 1901 EBD9  FE 0D       	CP 0DH
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  34
CAOSE   ASM

 1902 EBDB  30 53       	JR NC,SNERR4
 1903 EBDD  1E 39       	LD E,39H
 1904 EBDF  01          	DEFB 1
 1905 EBE0  1E 3A       KLST:	LD E,3AH
 1906 EBE2  01          	DEFB 1
 1907 EBE3  1E 29       RLDAM:	LD E,29H
 1908 EBE5  C3 F027     JPV5:	JP PV5
 1909                    
 1910 EBE8  1E 28       RLDMA:	LD E,28H
 1911 EBEA  18 F9       	JR JPV5
 1912                    
 1913 EBEC  CD D421     SWTCH:	CALL 0D421H
 1914 EBEF  F5          	PUSH AF
 1915 EBF0  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1916 EBF3  57          	LD D,A
 1917 EBF4  F1          	POP AF
 1918 EBF5  E5          	PUSH HL
 1919 EBF6  6F          	LD L,A
 1920 EBF7  3E 02       	LD A,2
 1921 EBF9  1E 26       	LD E,26H
 1922 EBFB  CD F027     	CALL PV5
 1923 EBFE  E1          	POP HL
 1924 EBFF  C9          	RET
 1925                    
 1926 EC00  CD CDE1     PTEST:	CALL 0CDE1H
 1927 EC03  E3          	EX (SP),HL
 1928 EC04  11 CDF3     	LD DE,0CDF3H
 1929 EC07  D5          	PUSH DE
 1930 EC08  CD C96F     	CALL 0C96FH
 1931 EC0B  E5          	PUSH HL
 1932 EC0C  21 B7D3     	LD HL,0B7D3H
 1933 EC0F  CD EC33     	CALL LDMDE
 1934 EC12  CD F078     	CALL IRMON
 1935 EC15  1E 2F       	LD E,2FH
 1936 EC17  CD F063     	CALL PV3
 1937 EC1A  38 0D       	JR C,PTST2
 1938 EC1C  06 00       	LD B,0
 1939 EC1E  28 08       	JR Z,PTST1
 1940 EC20  23          	INC HL
 1941 EC21  77          	LD (HL),A
 1942 EC22  1C          	INC E
 1943 EC23  CD F063     	CALL PV3
 1944 EC26  06 01       	LD B,1
 1945 EC28  78          PTST1:	LD A,B
 1946 EC29  CD F091     PTST2:	CALL IRMOFF
 1947 EC2C  E1          	POP HL
 1948 EC2D  D2 D3E9     	JP NC,0D3E9H
 1949                    
 1950 EC30  C3 C348     SNERR4:	JP 0C348H
 1951                    
 1952 EC33  7B          LDMDE:	LD A,E
 1953 EC34  CD EBE8     	CALL RLDMA
 1954 EC37  23          	INC HL
 1955 EC38  7A          	LD A,D
 1956 EC39  CD EBE8     	CALL RLDMA
 1957 EC3C  23          	INC HL
 1958 EC3D  C9          	RET
 1959                    
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  35
CAOSE   ASM

 1960 EC3E  0E 00       CLOSE:	LD C,0
 1961 EC40  7E          	LD A,(HL)
 1962 EC41  FE 49       	CP 'I'
 1963 EC43  28 05       	JR Z,CL1
 1964 EC45  0C          	INC C
 1965 EC46  FE 4F       	CP 'O'
 1966 EC48  20 E6       	JR NZ,SNERR4
 1967 EC4A  C5          CL1:	PUSH BC
 1968 EC4B  23          	INC HL
 1969 EC4C  7E          	LD A,(HL)
 1970 EC4D  FE 23       	CP '#'
 1971 EC4F  20 DF       CL2:	JR NZ,SNERR4
 1972 EC51  23          	INC HL
 1973 EC52  CD D421     	CALL 0D421H
 1974 EC55  E6 03       	AND 3
 1975 EC57  C1          	POP BC
 1976 EC58  C8          	RET Z
 1977 EC59  E5          	PUSH HL
 1978 EC5A  CB 17       	RL A
 1979 EC5C  81          	ADD C
 1980 EC5D  F5          	PUSH AF
 1981 EC5E  3D          	DEC A
 1982 EC5F  06 00       	LD B,0
 1983 EC61  37          	SCF
 1984 EC62  CB 10       CL3:	RL B
 1985 EC64  3D          	DEC A
 1986 EC65  20 FB       	JR NZ,CL3
 1987 EC67  21 0307     	LD HL,307H
 1988 EC6A  7E          	LD A,(HL)
 1989 EC6B  A8          	XOR B
 1990 EC6C  77          	LD (HL),A
 1991 EC6D  F1          	POP AF
 1992 EC6E  E1          	POP HL
 1993 EC6F  CB F7       	SET 6,A
 1994 EC71  D5          	PUSH DE
 1995 EC72  5F          	LD E,A
 1996 EC73  16 03       	LD D,3
 1997 EC75  CD E5FE     	CALL BASPV
 1998 EC78  D1          	POP DE
 1999 EC79  C9          	RET
 2000                    
 2001 EC7A  ED 5F       RND:	LD A,R
 2002 EC7C  32 031D     	LD (31DH),A
 2003 EC7F  C9          	RET
 2004                    
 2005 EC80  7E          OPEN:	LD A,(HL)
 2006 EC81  23          	INC HL
 2007 EC82  FE 49       	CP 'I'
 2008 EC84  28 19       	JR Z,OPENI
 2009 EC86  FE 4F       	CP 'O'
 2010 EC88  20 C5       	JR NZ,CL2
 2011 EC8A  CD DE25     	CALL 0DE25H
 2012 EC8D  CD DDC8     	CALL 0DDC8H
 2013 EC90  C8          	RET Z
 2014 EC91  3E D5       	LD A,0D5H
 2015 EC93  CD DCB2     	CALL 0DCB2H
 2016 EC96  21 03EA     	LD HL,3EAH
 2017 EC99  AF          	XOR A
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  36
CAOSE   ASM

 2018 EC9A  CD DDD5     	CALL 0DDD5H
 2019 EC9D  E1          	POP HL
 2020 EC9E  C9          	RET
 2021                    
 2022 EC9F  CD DE5F     OPENI:	CALL 0DE5FH
 2023 ECA2  3A 0309     	LD A,(309H)
 2024 ECA5  E6 03       	AND 3
 2025 ECA7  C8          	RET Z
 2026 ECA8  3E D5       	LD A,0D5H
 2027 ECAA  CD DCB2     	CALL 0DCB2H
 2028 ECAD  21 03EA     	LD HL,3EAH
 2029 ECB0  CD DDE4     	CALL 0DDE4H
 2030 ECB3  E1          	POP HL
 2031 ECB4  C9          	RET
 2032                    
 2033 ECB5  01 043E     BLINE:	LD BC,43EH
 2034 ECB8  18 03       	JR PIC1
 2035                    
 2036 ECBA  01 033F     CIRCL:	LD BC,33FH
 2037                    
 2038 ECBD  C5          PIC1:	PUSH BC
 2039 ECBE  CD C96C     	CALL 0C96CH
 2040 ECC1  C1          	POP BC
 2041 ECC2  C5          	PUSH BC
 2042 ECC3  E5          	PUSH HL
 2043 ECC4  21 B782     	LD HL,0B782H
 2044 ECC7  CD EC33     PIC2:	CALL LDMDE
 2045 ECCA  05          	DEC B
 2046 ECCB  28 0C       	JR Z,PIC3
 2047 ECCD  E3          	EX (SP),HL
 2048 ECCE  C5          	PUSH BC
 2049 ECCF  CD C8D6     	CALL 0C8D6H
 2050 ECD2  CD C96C     	CALL 0C96CH
 2051 ECD5  C1          	POP BC
 2052 ECD6  E3          	EX (SP),HL
 2053 ECD7  18 EE       	JR PIC2
 2054                    
 2055 ECD9  E1          PIC3:	POP HL
 2056 ECDA  CD EB59     	CALL SUCOL
 2057 ECDD  D1          	POP DE
 2058 ECDE  C3 F027     	JP PV5
 2059                    
 2060 ECE1  CD CDE1     CSRLIN:	CALL 0CDE1H
 2061 ECE4  E3          	EX (SP),HL
 2062 ECE5  11 CDF3     	LD DE,0CDF3H
 2063 ECE8  D5          	PUSH DE
 2064 ECE9  CD D424     	CALL 0D424H
 2065 ECEC  E5          	PUSH HL
 2066 ECED  A7          	AND A
 2067 ECEE  3E 00       	LD A,0
 2068 ECF0  21 B79D     	LD HL,0B79DH
 2069 ECF3  CC EBE3     	CALL Z,RLDAM
 2070 ECF6  47          	LD B,A
 2071 ECF7  2E A1       	LD L,0A1H
 2072 ECF9  CD EBE3     	CALL RLDAM
 2073 ECFC  80          	ADD B
 2074 ECFD  E1          	POP HL
 2075 ECFE  C3 D3E9     	JP 0D3E9H
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  37
CAOSE   ASM

 2076                    
 2077 ED01  E3          VGET:	EX (SP),HL
 2078 ED02  3E 01       	LD A,1
 2079 ED04  CD D17B     	CALL 0D17BH
 2080 ED07  CD F078     	CALL IRMON
 2081 ED0A  ED 5B B7A0  	LD DE,(0B7A0H)
 2082 ED0E  CD E0B6     	CALL DABR
 2083 ED11  7E          	LD A,(HL)
 2084 ED12  CD F091     	CALL IRMOFF
 2085 ED15  C3 EAEF     	JP AKTCHR
 2086                    
 2087                   ;	BASIC-TOKEN
 2088                   ;	===========
 2089                    
 2090 ED18  C9          TOKTAB:	DEFB 'I'+80H	;TOKEN AB D5
 2091 ED19  4E 4B 45 59 	DEFM 'NKEY$'
 2092 ED1E  CA          	DEFB 'J'+80H
 2093 ED1F  4F 59 53 54 	DEFM 'OYST'
 2094 ED23  D3          	DEFB 'S'+80H
 2095 ED24  54 52 49 4E 	DEFM 'TRING$'
 2096 ED2A  C9          	DEFB 'I'+80H
 2097 ED2B  4E 53 54 52 	DEFM 'NSTR'
 2098 ED2F  D2          	DEFB 'R'+80H
 2099 ED30  45 4E 55 4D 	DEFM 'ENUMBER'
 2100 ED37  C4          	DEFB 'D'+80H
 2101 ED38  45 4C 45 54 	DEFM 'ELETE'
 2102 ED3D  D0          	DEFB 'P'+80H
 2103 ED3E  41 55 53 45 	DEFM 'AUSE'
 2104 ED42  C2          	DEFB 'B'+80H
 2105 ED43  45 45 50    	DEFM 'EEP'
 2106 ED46  D7          	DEFB 'W'+80H
 2107 ED47  49 4E 44 4F 	DEFM 'INDOW'
 2108 ED4C  C2          	DEFB 'B'+80H
 2109 ED4D  4F 52 44 45 	DEFM 'ORDER'
 2110 ED52  C9          	DEFB 'I'+80H
 2111 ED53  4E 4B       	DEFM 'NK'
 2112 ED55  D0          	DEFB 'P'+80H
 2113 ED56  41 50 45 52 	DEFM 'APER'
 2114 ED5A  C1          	DEFB 'A'+80H
 2115 ED5B  54          	DEFM 'T'
 2116 ED5C  C3          	DEFB 'C'+80H
 2117 ED5D  4F 4C 4F 52 	DEFM 'OLOR'
 2118 ED61  D3          	DEFB 'S'+80H
 2119 ED62  4F 55 4E 44 	DEFM 'OUND'
 2120 ED66  D0          	DEFB 'P'+80H
 2121 ED67  53 45 54    	DEFM 'SET'
 2122 ED6A  D0          	DEFB 'P'+80H
 2123 ED6B  52 45 53 45 	DEFM 'RESET'
 2124 ED70  C2          	DEFB 'B'+80H
 2125 ED71  4C 4F 41 44 	DEFM 'LOAD'
 2126 ED75  D6          	DEFB 'V'+80H
 2127 ED76  50 45 45 4B 	DEFM 'PEEK'
 2128 ED7A  D6          	DEFB 'V'+80H
 2129 ED7B  50 4F 4B 45 	DEFM 'POKE'
 2130 ED7F  CC          	DEFB 'L'+80H
 2131 ED80  4F 43 41 54 	DEFM 'OCATE'
 2132 ED85  CB          	DEFB 'K'+80H
 2133 ED86  45 59 4C 49 	DEFM 'EYLIST'
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  38
CAOSE   ASM

 2134 ED8C  CB          	DEFB 'K'+80H
 2135 ED8D  45 59       	DEFM 'EY'
 2136 ED8F  D3          	DEFB 'S'+80H
 2137 ED90  57 49 54 43 	DEFM 'WITCH'
 2138 ED95  D0          	DEFB 'P'+80H
 2139 ED96  54 45 53 54 	DEFM 'TEST'
 2140 ED9A  C3          	DEFB 'C'+80H
 2141 ED9B  4C 4F 53 45 	DEFM 'LOSE'
 2142 ED9F  CF          	DEFB 'O'+80H
 2143 EDA0  50 45 4E    	DEFM 'PEN'
 2144 EDA3  D2          	DEFB 'R'+80H
 2145 EDA4  41 4E 44 4F 	DEFM 'ANDOMIZE'
 2146 EDAC  D6          	DEFB 'V'+80H
 2147 EDAD  47 45 54 24 	DEFM 'GET$'
 2148 EDB1  CC          	DEFB 'L'+80H
 2149 EDB2  49 4E 45    	DEFM 'INE'
 2150 EDB5  C3          	DEFB 'C'+80H
 2151 EDB6  49 52 43 4C 	DEFM 'IRCLE'
 2152 EDBB  C3          	DEFB 'C'+80H
 2153 EDBC  53 52 4C 49 	DEFM 'SRLIN'
 2154 EDC1  80          	DEFB 80H	;ENDE-BYTE
 2155                    
 2156 EDC2  EAE1        TOKADR:	DEFW INKEY
 2157 EDC4  02FD        	DEFW 2FDH	;JOY
 2158 EDC6  E714        	DEFW STR
 2159 EDC8  EB6A        	DEFW INSTR
 2160 EDCA  E773        TADR5:	DEFW REN
 2161 EDCC  E952        	DEFW DLTE
 2162 EDCE  E977        	DEFW PAUSE
 2163 EDD0  E9A2        	DEFW BEEP
 2164 EDD2  E9BD        	DEFW WNDW
 2165 EDD4  D421        	DEFW 0D421H	;BORDER
 2166 EDD6  EA83        	DEFW INK
 2167 EDD8  EA95        	DEFW PAPER
 2168 EDDA  C348        	DEFW 0C348H	;AT
 2169 EDDC  EAAC        	DEFW COLR
 2170 EDDE  EAFC        	DEFW SOUND
 2171 EDE0  EB39        	DEFW PSET
 2172 EDE2  EB36        	DEFW PRES
 2173 EDE4  E9F9        	DEFW BLOAD
 2174 EDE6  C348        	DEFW 0C348H	;VPEEK
 2175 EDE8  EA24        	DEFW VPOKE
 2176 EDEA  EAC4        	DEFW LOCAT
 2177 EDEC  EBE0        	DEFW KLST
 2178 EDEE  EBD6        	DEFW BKEY
 2179 EDF0  EBEC        	DEFW SWTCH
 2180 EDF2  C348        	DEFW 0C348H	;PTEST
 2181 EDF4  EC3E        	DEFW CLOSE
 2182 EDF6  EC80        	DEFW OPEN
 2183 EDF8  EC7A        	DEFW RND
 2184 EDFA  C348        	DEFW 0C348H	;VGET
 2185 EDFC  ECB5        	DEFW BLINE
 2186 EDFE  ECBA        	DEFW CIRCL
 2187                    
 2188                   ;	END
   14                   include zsgross.inc
    1                   ;*****************************************
    2                   ;**	CAOS 4.8 Zeichensatz Gross	**
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  39
ZSGROSS INC

    3                   ;**					**
    4                   ;**	Adresse:  EE00h bis EFFFh	**
    5                   ;**	Codes 20h-5Fh			**
    6                   ;**					**
    7                   ;**	letzte Aenderung: 31.03.2018	**
    8                   ;*****************************************
    9                   ;
   10                   ; 05.02.2018 geaendert (alle Zeichen links/oben):
   11                   ; Codes fuer 22h, 24h
   12                   
   13 EE00  00 00 00 00 	DB	000H, 000H, 000H, 000H, 000H, 000H, 000H, 000H	; 20H
   14 EE08  30 78 78 30 	DB	030H, 078H, 078H, 030H, 030H, 000H, 030H, 000H	; 21H !
   15 EE10  EE 66 CC 00 	DB	0EEH, 066H, 0CCH, 000H, 000H, 000H, 000H, 000H	; 22H "
   16 EE18  36 36 FE 6C 	DB	036H, 036H, 0FEH, 06CH, 0FEH, 0D8H, 0D8H, 000H	; 23H #
   17                   ;	DB	030H, 07CH, 0D8H, 07CH, 036H, 036H, 0FCH, 030H	; 24H $
   18 EE20  30 7C D0 7C 	DB	030H, 07CH, 0D0H, 07CH, 036H, 0FCH, 030H, 000H	; 24H $
   19 EE28  00 C6 CC 18 	DB	000H, 0C6H, 0CCH, 018H, 030H, 066H, 0C6H, 000H	; 25H %
   20 EE30  38 6C 38 76 	DB	038H, 06CH, 038H, 076H, 0DCH, 0CCH, 076H, 000H	; 26H &
   21 EE38  1C 0C 18 00 	DB	01CH, 00CH, 018H, 000H, 000H, 000H, 000H, 000H	; 27H '
   22 EE40  18 30 60 60 	DB	018H, 030H, 060H, 060H, 060H, 030H, 018H, 000H	; 28H (
   23 EE48  60 30 18 18 	DB	060H, 030H, 018H, 018H, 018H, 030H, 060H, 000H	; 29H )
   24 EE50  00 66 3C FF 	DB	000H, 066H, 03CH, 0FFH, 03CH, 066H, 000H, 000H	; 2AH *
   25 EE58  00 30 30 FC 	DB	000H, 030H, 030H, 0FCH, 030H, 030H, 000H, 000H	; 2BH +
   26 EE60  00 00 00 00 	DB	000H, 000H, 000H, 000H, 000H, 01CH, 00CH, 018H	; 2CH ,
   27 EE68  00 00 00 FE 	DB	000H, 000H, 000H, 0FEH, 000H, 000H, 000H, 000H	; 2DH -
   28 EE70  00 00 00 00 	DB	000H, 000H, 000H, 000H, 000H, 030H, 030H, 000H	; 2EH .
   29 EE78  06 0C 18 30 	DB	006H, 00CH, 018H, 030H, 060H, 0C0H, 080H, 000H	; 2FH /
   30                   
   31 EE80  7C C6 CE DE 	DB	07CH, 0C6H, 0CEH, 0DEH, 0F6H, 0E6H, 07CH, 000H	; 30H 0
   32 EE88  30 70 30 30 	DB	030H, 070H, 030H, 030H, 030H, 030H, 0FCH, 000H	; 31H 1
   33 EE90  78 CC 0C 38 	DB	078H, 0CCH, 00CH, 038H, 060H, 0CCH, 0FCH, 000H	; 32H 2
   34 EE98  FC 18 30 78 	DB	0FCH, 018H, 030H, 078H, 00CH, 0CCH, 078H, 000H	; 33H 3
   35 EEA0  1C 3C 6C CC 	DB	01CH, 03CH, 06CH, 0CCH, 0FEH, 00CH, 01EH, 000H	; 34H 4
   36 EEA8  FC C0 F8 0C 	DB	0FCH, 0C0H, 0F8H, 00CH, 00CH, 0CCH, 078H, 000H	; 35H 5
   37 EEB0  38 60 C0 F8 	DB	038H, 060H, 0C0H, 0F8H, 0CCH, 0CCH, 078H, 000H	; 36H 6
   38 EEB8  FC CC 0C 18 	DB	0FCH, 0CCH, 00CH, 018H, 030H, 030H, 030H, 000H	; 37H 7
   39 EEC0  78 CC CC 78 	DB	078H, 0CCH, 0CCH, 078H, 0CCH, 0CCH, 078H, 000H	; 38H 8
   40 EEC8  78 CC CC 7C 	DB	078H, 0CCH, 0CCH, 07CH, 00CH, 018H, 070H, 000H	; 39H 9
   41 EED0  00 00 30 30 	DB	000H, 000H, 030H, 030H, 000H, 030H, 030H, 000H	; 3AH :
   42 EED8  00 00 30 30 	DB	000H, 000H, 030H, 030H, 000H, 030H, 030H, 060H	; 3BH ;
   43 EEE0  18 30 60 C0 	DB	018H, 030H, 060H, 0C0H, 060H, 030H, 018H, 000H	; 3CH <
   44 EEE8  00 00 FC 00 	DB	000H, 000H, 0FCH, 000H, 0FCH, 000H, 000H, 000H	; 3DH =
   45 EEF0  60 30 18 0C 	DB	060H, 030H, 018H, 00CH, 018H, 030H, 060H, 000H	; 3EH >
   46 EEF8  78 CC 0C 18 	DB	078H, 0CCH, 00CH, 018H, 030H, 000H, 030H, 000H	; 3FH ?
   47                   
   48 EF00  7C C6 DE D6 	DB	07CH, 0C6H, 0DEH, 0D6H, 0DEH, 0C0H, 078H, 000H	; 40H @
   49 EF08  30 78 CC CC 	DB	030H, 078H, 0CCH, 0CCH, 0FCH, 0CCH, 0CCH, 000H	; 41H A
   50 EF10  FC 66 66 7C 	DB	0FCH, 066H, 066H, 07CH, 066H, 066H, 0FCH, 000H	; 42H B
   51 EF18  3C 66 C0 C0 	DB	03CH, 066H, 0C0H, 0C0H, 0C0H, 066H, 03CH, 000H	; 43H C
   52 EF20  F8 6C 66 66 	DB	0F8H, 06CH, 066H, 066H, 066H, 06CH, 0F8H, 000H	; 44H D
   53 EF28  FE 62 68 78 	DB	0FEH, 062H, 068H, 078H, 068H, 062H, 0FEH, 000H	; 45H E
   54 EF30  FE 62 68 78 	DB	0FEH, 062H, 068H, 078H, 068H, 060H, 0F0H, 000H	; 46H F
   55 EF38  3C 66 C0 C0 	DB	03CH, 066H, 0C0H, 0C0H, 0CEH, 066H, 03CH, 000H	; 47H G
   56 EF40  CC CC CC FC 	DB	0CCH, 0CCH, 0CCH, 0FCH, 0CCH, 0CCH, 0CCH, 000H	; 48H H
   57 EF48  78 30 30 30 	DB	078H, 030H, 030H, 030H, 030H, 030H, 078H, 000H	; 49H I
   58 EF50  1E 0C 0C 0C 	DB	01EH, 00CH, 00CH, 00CH, 0CCH, 0CCH, 078H, 000H	; 4AH J
   59 EF58  E6 66 6C 70 	DB	0E6H, 066H, 06CH, 070H, 06CH, 066H, 0E6H, 000H	; 4BH K
   60 EF60  F0 60 60 60 	DB	0F0H, 060H, 060H, 060H, 062H, 066H, 0FEH, 000H	; 4CH L
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  40
ZSGROSS INC

   61 EF68  C6 EE FE D6 	DB	0C6H, 0EEH, 0FEH, 0D6H, 0C6H, 0C6H, 0C6H, 000H	; 4DH M
   62 EF70  C6 E6 F6 DE 	DB	0C6H, 0E6H, 0F6H, 0DEH, 0CEH, 0C6H, 0C6H, 000H	; 4EH N
   63 EF78  38 6C C6 C6 	DB	038H, 06CH, 0C6H, 0C6H, 0C6H, 06CH, 038H, 000H	; 4FH O
   64                   
   65 EF80  FC 66 66 7C 	DB	0FCH, 066H, 066H, 07CH, 060H, 060H, 0F0H, 000H	; 50H P
   66 EF88  78 CC CC CC 	DB	078H, 0CCH, 0CCH, 0CCH, 0DCH, 078H, 01CH, 000H	; 51H Q
   67 EF90  FC 66 66 7C 	DB	0FCH, 066H, 066H, 07CH, 06CH, 066H, 0E6H, 000H	; 52H R
   68 EF98  7C C6 F0 3C 	DB	07CH, 0C6H, 0F0H, 03CH, 00EH, 0C6H, 07CH, 000H	; 53H S
   69 EFA0  FC B4 30 30 	DB	0FCH, 0B4H, 030H, 030H, 030H, 030H, 078H, 000H	; 54H T
   70 EFA8  CC CC CC CC 	DB	0CCH, 0CCH, 0CCH, 0CCH, 0CCH, 0CCH, 078H, 000H	; 55H U
   71 EFB0  CC CC CC 78 	DB	0CCH, 0CCH, 0CCH, 078H, 078H, 030H, 030H, 000H	; 56H V
   72 EFB8  C6 C6 C6 D6 	DB	0C6H, 0C6H, 0C6H, 0D6H, 0FEH, 0EEH, 0C6H, 000H	; 57H W
   73 EFC0  C6 C6 6C 38 	DB	0C6H, 0C6H, 06CH, 038H, 06CH, 0C6H, 0C6H, 000H	; 58H X
   74 EFC8  CC CC CC 78 	DB	0CCH, 0CCH, 0CCH, 078H, 030H, 030H, 078H, 000H	; 59H Y
   75 EFD0  FE C6 8C 18 	DB	0FEH, 0C6H, 08CH, 018H, 032H, 066H, 0FEH, 000H	; 5AH Z
   76 EFD8  FF FF FF FF 	DB	0FFH, 0FFH, 0FFH, 0FFH, 0FFH, 0FFH, 0FFH, 0FFH	; 5BH Vollzeichen
   77 EFE0  18 18 18 18 	DB	018H, 018H, 018H, 018H, 018H, 018H, 018H, 000H	; 5CH senkr. Strich
   78 EFE8  00 FE 06 06 	DB	000H, 0FEH, 006H, 006H, 000H, 000H, 000H, 000H	; 5DH Negationszeichen
   79 EFF0  10 38 6C C6 	DB	010H, 038H, 06CH, 0C6H, 000H, 000H, 000H, 000H	; 5EH ^
   80 EFF8  00 00 00 00 	DB	000H, 000H, 000H, 000H, 000H, 000H, 000H, 0FFH	; 5FH _
   15                   include	caosfv.asm		; ROM-F
    1                   ;	CAOS 3.4 - ROM F
    2                   ;	Version V.24 / RS 232
    3                   ;
    4                   ;	Date: 11.06.1991  (c) by '#+$'
    5                   ;
    6         0008      SIO	EQU 008H	;SIO PORT A
    7         000C      CTC	EQU 00CH	;SIO-CTC
    8                   ; StrukturByte des Interface-Moduls
    9         01EE      UMODL	EQU 1EEH	;M003 V24
   10                   ;UMODL	EQU 1EFH	;M001 DIO
   11         F000      	ORG 0F000H
   12                    
   13 F000  C3 F143     PRESET:	JP PWRON	;>> POWER ON <<
   14 F003  C3 F047     	JP PV1		;DEFB NR
   15 F006  18 5D       	JR PV2		;(ARGC)
   16 F008  00          ZEI0:	DEFB 0
   17 F009  18 58       	JR PV3		;REG. E
   18 F00B  02          ZEI2:	DEFB 2
   19 F00C  18 25       	JR PV4		;+IRM
   20 F00E  04          ZEI4:	DEFB 4
   21 F00F  C3 F0B1     	JP RCALL
   22 F012  C3 F168     	JP NEWOS	;>JUMP<
   23 F015  C3 F027     	JP PV5		;(ARGC)
   24 F018  C3 F078     	JP IRMON
   25 F01B  C3 F091     	JP IRMOFF
   26                    
   27 F01E  C5          PV6:	PUSH BC		;*** PV 6 ***
   28 F01F  CD F078     	CALL IRMON
   29 F022  CD F065     	CALL PV2
   30 F025  18 07       	JR PV51
   31                    
   32 F027  C5          PV5:	PUSH BC		;*** PV 5 ***
   33 F028  CD F078     	CALL IRMON
   34 F02B  CD F063     	CALL PV3
   35 F02E  CD F091     PV51: 	CALL IRMOFF
   36 F031  C1          	POP BC
   37 F032  C9          	RET
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  41
CAOSFV  ASM

   38                    
   39 F033  F5          PV4:	PUSH AF		;*** PV 4 ***
   40 F034  DB 88       	IN A,(88H)
   41 F036  F6 04       	OR 4
   42 F038  D3 88       	OUT (88H),A
   43 F03A  F1          	POP AF
   44 F03B  CD F063     	CALL PV3
   45 F03E  F5          SCROFF:	PUSH AF
   46 F03F  DB 88       	IN A,(88H)
   47 F041  E6 FB       	AND 0FBH
   48 F043  D3 88       	OUT (88H),A
   49 F045  F1          	POP AF
   50 F046  C9          	RET
   51                    
   52 F047  E5          PV1:	PUSH HL		;*** PV 1 ***
   53 F048  F3          	DI
   54 F049  E1          	POP HL
   55 F04A  E1          	POP HL
   56 F04B  23          	INC HL
   57 F04C  E5          	PUSH HL
   58 F04D  2B          	DEC HL
   59 F04E  3B          	DEC SP
   60 F04F  3B          	DEC SP
   61 F050  FB          	EI
   62 F051  D5          TABJP:	PUSH DE
   63 F052  5E          	LD E,(HL)
   64 F053  16 00       PV11:	LD D,0
   65 F055  2A B7B0     	LD HL,(0B7B0H)
   66 F058  F5          	PUSH AF
   67 F059  19          	ADD HL,DE
   68 F05A  19          	ADD HL,DE
   69 F05B  F1          	POP AF
   70 F05C  5E          	LD E,(HL)
   71 F05D  23          	INC HL
   72 F05E  56          	LD D,(HL)
   73 F05F  EB          	EX DE,HL
   74 F060  D1          	POP DE
   75 F061  E3          PV1END:	EX (SP),HL
   76 F062  C9          	RET
   77                    
   78 F063  37          PV3:	SCF		;*** PV 3 ***
   79 F064  ED          	DEFB 0EDH
   80 F065  A7          PV2:	AND A		;*** PV 2 ***
   81 F066  E5          PV21:	PUSH HL
   82 F067  D5          	PUSH DE
   83 F068  C5          	PUSH BC
   84 F069  E5          	PUSH HL
   85 F06A  21 E175     	LD HL,POPS3
   86 F06D  E3          	EX (SP),HL
   87 F06E  E5          	PUSH HL
   88 F06F  D5          	PUSH DE
   89 F070  38 E1       	JR C,PV11
   90 F072  ED 5B B780  	LD DE,(0B780H)
   91 F076  18 DB       	JR PV11
   92                    
   93 F078  C1          IRMON:	POP BC		;*** IRM ON ***
   94 F079  F3          	DI
   95 F07A  DD 77 0B    	LD (IX+0BH),A
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  42
CAOSFV  ASM

   96 F07D  DB 88       	IN A,(88H)
   97 F07F  CB D7       	SET 2,A
   98 F081  D3 88       	OUT (88H),A
   99 F083  ED 73 B7CB  	LD (0B7CBH),SP
  100 F087  ED 7B B7AE  	LD SP,(0B7AEH)
  101 F08B  DD 7E 0B    OFFEND:	LD A,(IX+0BH)
  102 F08E  FB          	EI
  103 F08F  C5          	PUSH BC
  104 F090  C9          	RET
  105                    
  106 F091  C1          IRMOFF:	POP BC		;*** IRM OFF ***
  107 F092  F3          	DI
  108 F093  ED 7B B7CB  	LD SP,(0B7CBH)
  109 F097  DD 77 0B    	LD (IX+0BH),A
  110 F09A  DB 88       	IN A,(88H)
  111 F09C  CB 97       	RES 2,A
  112 F09E  D3 88       	OUT (88H),A
  113 F0A0  18 E9       	JR OFFEND
  114                    
  115 F0A2  E5          INTB:	PUSH HL		;UP 16 INTB
  116 F0A3  2A B7BB     	LD HL,(0B7BBH)	;INTAB
  117 F0A6  18 A9       	JR TABJP
  118                    
  119 F0A8  3A B7D9     OCHRP:	LD A,(0B7D9H)
  120 F0AB  E5          OCHR:	PUSH HL		;UP 24 OCHR
  121 F0AC  2A B7B9     	LD HL,(0B7B9H)	;OUTAB
  122 F0AF  18 A0       	JR TABJP
  123                    
  124 F0B1  E3          RCALL:	EX (SP),HL	;*** RCALL ***
  125 F0B2  5E          	LD E,(HL)
  126 F0B3  23          	INC HL
  127 F0B4  56          	LD D,(HL)
  128 F0B5  23          	INC HL
  129 F0B6  EB          	EX DE,HL
  130 F0B7  19          	ADD HL,DE
  131 F0B8  EB          	EX DE,HL
  132 F0B9  E3          	EX (SP),HL
  133 F0BA  D5          	PUSH DE
  134 F0BB  C9          	RET
  135                    
  136                   ;*** Switch & Jump ***
  137                    
  138 F0BC  7F7F        	DEFW 7F7FH	;>SWITCH<
  139 F0BE  53 57 49 54 	DEFM 'SWITCH'
  140 F0C4  01          	DEFB 1
  141                   	;
  142 F0C5  53          	LD D,E
  143 F0C6  CD F0D7     	CALL MODU
  144 F0C9              MODOUT:	;Ausgabe 3 Bytes L,H,D
  145 F0C9  CD F311     	CALL LHSPCE
  146 F0CC  7C          	LD A,H
  147 F0CD  CD F312     	CALL AHSPCE
  148 F0D0  7A          	LD A,D
  149 F0D1  CD F333     	CALL AHEX
  150 F0D4  C3 F324     	JP CRLF
  151                    
  152 F0D7              MODU:	;VR:AF,H,BC,(D)	;UP 26 MODU
  153 F0D7  26 B8       	LD H,0B8H
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  43
CAOSFV  ASM

  154 F0D9  0E 80       	LD C,80H
  155 F0DB  45          	LD B,L		; Steckplatz
  156 F0DC  FE 02       	CP 2		; 2 Parameter angegeben?
  157 F0DE  30 04       	JR NC,MDL2	; Module schalten
  158 F0E0  56          	LD D,(HL)	; Schaltzustand lesen
  159 F0E1  ED 60       MDL1:	IN H,(C)	; Strukturbyte lesen
  160 F0E3  C9          	RET
  161                    
  162 F0E4  72          MDL2:	LD (HL),D	; neues Steuerbyte eintragen
  163 F0E5  45          	LD B,L		; (Befehl doppelt drin, kann raus!)
  164 F0E6  04          	INC B
  165 F0E7  DB 88       	IN A,(88H)	; aktueller Schaltzustand
  166                   
  167 F0E9  10 12       	DJNZ NRAM0	; 0: RAM0?
  168 F0EB  E6 F5       	AND 0F5H
  169 F0ED  CB 42       	BIT 0,D
  170 F0EF  28 02       	JR Z,RAM01
  171 F0F1  CB CF       	SET 1,A		; RAM0 ON
  172 F0F3  CB 4A       RAM01:	BIT 1,D
  173 F0F5  28 02       	JR Z,OUTB
  174 F0F7  CB DF       	SET 3,A		; RAM0 Schreibschutz
  175 F0F9  D3 88       OUTB:	OUT (88H),A
  176 F0FB  18 E4       	JR MDL1
  177                    
  178 F0FD  10 0A       NRAM0:	DJNZ NIRM	; 1: IRM?
  179 F0FF  CB 42       	BIT 0,D
  180 F101  CB 97       	RES 2,A		; IRM OFF
  181 F103  28 F4       	JR Z,OUTB
  182 F105  CB D7       	SET 2,A		; IRM ON
  183 F107  18 F0       	JR OUTB
  184                    
  185 F109  10 07       NIRM:	DJNZ NROM	; 2: BASIC-ROM?
  186 F10B  17          	RLA
  187 F10C  62          	LD H,D
  188 F10D  CB 1C       	RR H
  189 F10F  1F          	RRA
  190 F110  18 E7       	JR OUTB
  191                    
  192 F112  45          NROM:	LD B,L		; Steckplatz
  193 F113  ED 51       	OUT (C),D	; Modul schalten
  194 F115  18 CA       	JR MDL1
  195                    
  196 F117  7F7F        	DEFW 7F7FH	;>JUMP<
  197 F119  4A 55 4D 50 	DEFM 'JUMP'
  198 F11D  01          	DEFB 1
  199 F11E  C8          	RET Z
  200 F11F  7D          	LD A,L
  201                   	;
  202 F120  B7          JUMP:	OR A		;UP 27 JUMP
  203 F121  28 16       	JR Z,SYS
  204 F123  47          	LD B,A
  205 F124  0E 80       	LD C,80H
  206 F126  ED 78       	IN A,(C)
  207 F128  3C          	INC A
  208 F129  CA F31A     	JP Z,ERRM
  209 F12C  16 FF       	LD D,0FFH
  210 F12E  CD FADC     	CALL MOSW2
  211 F131  AF          	XOR A
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  44
CAOSFV  ASM

  212 F132  DD 46 04    	LD B,(IX+4)
  213 F135  68          	LD L,B
  214 F136  77          	LD (HL),A
  215 F137  18 06       	JR SYS1
  216                    
  217 F139  0E 88       SYS:	LD C,88H
  218 F13B  ED 78       	IN A,(C)
  219 F13D  CB C7       	SET 0,A
  220 F13F  F3          SYS1:	DI
  221 F140  C3 B7B4     	JP 0B7B4H
  222                    
  223                   ;====== POWER ON =======================
  224                   ;(Einspruenge PWRON,NEWOS,BYE)
  225                    
  226 F143  F3          PWRON:	DI
  227 F144  31 01C4     	LD SP,1C4H	;System-Stack KC85/3-5
  228 F147  3E 3E       	LD A,3EH
  229 F149  D3 88       	OUT (88H),A	;interner ROM aus
  230 F14B  CD FABA     	CALL MODSW1
  231 F14E  DD 5E 04    	LD E,(IX+4)
  232 F151  AF          	XOR A
  233 F152  06 E0       	LD B,0E0H
  234 F154  67          	LD H,A		;Clear Memo
  235 F155  6F          	LD L,A
  236 F156  77          PWRO1:	LD (HL),A
  237 F157  2C          	INC L
  238 F158  20 FC       	JR NZ,PWRO1
  239 F15A  24          	INC H
  240 F15B  10 F9       	DJNZ PWRO1
  241 F15D  0E 80       	LD C,80H	;Modul off
  242 F15F  7B          	LD A,E
  243 F160  B8          PWRO2:	CP B
  244 F161  28 02       	JR Z,PWRO3
  245 F163  ED 69       	OUT (C),L
  246 F165  10 F9       PWRO3:	DJNZ PWRO2
  247 F167  43          	LD B,E
  248 F168  F3          NEWOS:	DI
  249 F169  DD 70 04    	LD (IX+4),B
  250 F16C  CD F3A2     	CALL SYSI	;Systeminit
  251 F16F  AF          	XOR A
  252 F170  32 B79B     PWRO4:	LD (0B79BH),A	;Windows
  253 F173  CD F76E     	CALL WCOPY
  254 F176  3C          	INC A
  255 F177  FE 0A       	CP 0AH
  256 F179  38 F5       	JR C,PWRO4
  257 F17B  CD FAB1     	CALL MODSW
  258                    
  259 F17E  31 01C4     BYE:	LD SP,1C4H	;UP 0D BYE
  260 F181  3E 1E       	LD A,1EH
  261 F183  D3 88       	OUT (88H),A	;init.MEM on !!
  262 F185  CD F3A2     	CALL SYSI
  263 F188  18 08       	JR MEN1
  264                    
  265 F18A  7F7F        	DEFW 7F7FH	;>MENU<
  266 F18C  4D 45 4E 55 	DEFM 'MENU'
  267 F190  01          	DEFB 1
  268                   	;
  269 F191  E1          	POP HL
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  45
CAOSFV  ASM

  270 F192  CD F251     MEN1:	CALL OSTR
  271 F195  0C          	DEFB 0CH
  272 F196  0A          	DEFB 0AH
  273 F197  2A 20 48 43 	DEFM '* HC-CAOS 3.4 *'
  274 F1A6  00          	DEFB 0
  275 F1A7  21 C000     MENU:	LD HL,0C000H	;UP 46 MENU
  276 F1AA  4D          	LD C,L
  277 F1AB  45          	LD B,L
  278 F1AC  CD F324     MEN2:	CALL CRLF
  279 F1AF  CD F274     MEN3:	CALL BRKT
  280 F1B2  38 34       	JR C,LOOP
  281 F1B4  DD 7E 09    	LD A,(IX+9)
  282 F1B7  ED B1       MEN4:	CPIR
  283 F1B9  E2 F1E8     	JP PO,LOOP
  284 F1BC  ED A1       	CPI
  285 F1BE  20 F7       	JR NZ,MEN4
  286 F1C0  CD F0A8     	CALL OCHRP
  287 F1C3  7E          MEN5:	LD A,(HL)
  288 F1C4  FE 02       	CP 2
  289 F1C6  38 E4       	JR C,MEN2
  290 F1C8  FE 30       	CP 30H
  291 F1CA  38 0B       	JR C,MEN6
  292 F1CC  FE 60       	CP 60H
  293 F1CE  30 07       	JR NC,MEN6
  294 F1D0  CD F0AB     	CALL OCHR
  295 F1D3  23          	INC HL
  296 F1D4  0B          	DEC BC
  297 F1D5  18 EC       	JR MEN5
  298 F1D7  CD F32F     MEN6:	CALL CLLN
  299 F1DA  18 D3       	JR MEN3
  300                    
  301 F1DC  E1          NLP1:	POP HL		;LOOP
  302 F1DD  CD F31A     NLP2:	CALL ERRM	; kommt mit CY=0 zurueck
  303 F1E0  3E 0B       LOOP0:	LD A,0BH	; Zeile loeschen
  304 F1E2  DC F0AB     	CALL C,OCHR	; bei BRK
  305 F1E5  CD F32F     	CALL CLLN
  306 F1E8  CD F0A8     LOOP:	CALL OCHRP	;UP 12 LOOP
  307 F1EB  CD F2E6     	CALL INLIN
  308 F1EE  38 F0       	JR C,LOOP0	;Brk
  309 F1F0  13          	INC DE
  310 F1F1  1A          	LD A,(DE)
  311 F1F2  FE 21       	CP 21H
  312 F1F4  38 F2       	JR C,LOOP
  313 F1F6  CD F211     	CALL MSUCH
  314 F1F9  30 E2       	JR NC,NLP2	; nicht gefunden -> Error
  315 F1FB  E5          	PUSH HL
  316 F1FC  CD F384     	CALL GARG
  317 F1FF  38 DB       	JR C,NLP1	; Parameterfehler -> Error
  318 F201  21 F1E8     	LD HL,LOOP
  319 F204  E3          	EX (SP),HL
  320 F205  7E          	LD A,(HL)
  321 F206  23          	INC HL
  322 F207  E5          	PUSH HL
  323 F208  A7          	AND A
  324 F209  CD F473     	CALL LARG
  325 F20C  CC F03E     	CALL Z,SCROFF
  326 F20F  A7          	AND A
  327 F210  C9          	RET
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  46
CAOSFV  ASM

  328                    
  329 F211  21 C000     MSUCH:	LD HL,0C000H
  330 F214  45          	LD B,L
  331 F215  4D          	LD C,L
  332 F216  DD 7E 09    	LD A,(IX+9)
  333                    
  334 F219  ED B1       ZSUCH:	CPIR		;UP 1D ZSUCH
  335 F21B  37          	SCF
  336 F21C  3F          	CCF
  337 F21D  E0          	RET PO
  338 F21E  ED A1       	CPI
  339 F220  20 F7       	JR NZ,ZSUCH
  340 F222  F5          	PUSH AF
  341 F223  D5          	PUSH DE
  342 F224  1A          ZS1:	LD A,(DE)
  343 F225  FE 21       	CP 21H
  344 F227  38 09       	JR C,ZS3
  345 F229  13          	INC DE
  346 F22A  ED A1       	CPI
  347 F22C  28 F6       	JR Z,ZS1
  348 F22E  D1          ZS2:	POP DE
  349 F22F  F1          	POP AF
  350 F230  18 E7       	JR ZSUCH
  351 F232  7E          ZS3:	LD A,(HL)
  352 F233  FE 02       	CP 2
  353 F235  38 07       	JR C,ZS4
  354 F237  FE 20       	CP 20H
  355 F239  38 F3       	JR C,ZS2
  356 F23B  23          	INC HL
  357 F23C  18 F4       	JR ZS3
  358 F23E  C1          ZS4:	POP BC
  359 F23F  F1          	POP AF
  360 F240  37          	SCF
  361 F241  C9          	RET
  362                    
  363 F242  3D          WAIT1:	DEC A
  364 F243  C8          	RET Z
  365 F244  F5          	PUSH AF
  366 F245  F1          	POP AF
  367 F246  18 FA       	JR WAIT1
  368                    
  369 F248  CD F32F     CBNRO:	CALL CLLN
  370 F24B  DD 7E 02    BNROST:	LD A,(IX+2)
  371 F24E  CD F333     AHOSTR:	CALL AHEX
  372                   	;
  373 F251  E3          OSTR:	EX (SP),HL	;UP 23 OSTR
  374 F252  CD FA74     	CALL ZKOUT
  375 F255  E3          	EX (SP),HL
  376 F256  C9          	RET
  377                    
  378 F257  CD F267     NORM:	CALL NIN	;UP 13 NORM
  379                   	;
  380 F25A  21 F008     NOUT:	LD HL,ZEI0	;UP 20 NOUT
  381                   	;
  382 F25D  E5          SOUT:	PUSH HL		;UP 1E SOUT
  383 F25E  2A B7B9     	LD HL,(0B7B9H)	;OUTAB
  384 F261  E3          	EX (SP),HL
  385 F262  22 B7B9     	LD (0B7B9H),HL	;OUTAB
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  47
CAOSFV  ASM

  386 F265  E1          	POP HL
  387 F266  C9          	RET
  388                    
  389 F267  21 F00E     NIN:	LD HL,ZEI4	;UP 21 NIN
  390                   	;
  391 F26A  E5          SIN:	PUSH HL		;UP 1F SIN
  392 F26B  2A B7BB     	LD HL,(0B7BBH)	;INTAB
  393 F26E  E3          	EX (SP),HL
  394 F26F  22 B7BB     	LD (0B7BBH),HL	;INTAB
  395 F272  E1          	POP HL
  396 F273  C9          	RET
  397                    
  398 F274  CD E3FC     BRKT:	CALL KBDS	;UP 2A BRKT
  399 F277  FE 03       BRKT1:	CP 3
  400 F279  37          	SCF
  401 F27A  C8          	RET Z
  402 F27B  FE 13       	CP 13H
  403 F27D  37          	SCF
  404 F27E  3F          	CCF
  405 F27F  C0          	RET NZ
  406 F280  CD E40B     	CALL RESFL
  407 F283  CD F28C     	CALL KBD1
  408 F286  18 EF       	JR BRKT1
  409                    
  410 F288  DD CB 08 76 KBD:	BIT 6,(IX+8)	;UP 4 KBD
  411 F28C  E5          KBD1:	PUSH HL
  412 F28D  D5          	PUSH DE
  413 F28E  C5          	PUSH BC
  414 F28F  20 3E       	JR NZ,KBD8	;F-Taste aktiv
  415 F291  CD F807     KBD2:	CALL CUCP
  416 F294  CD E407     KBD3:	CALL KBDZ
  417 F297  30 FB       	JR NC,KBD3	;keine Taste gedr.
  418 F299  CD F807     	CALL CUCP
  419 F29C  DD CB 08 6E KBD4:	BIT 5,(IX+8)	;Click ein?
  420 F2A0  57          	LD D,A
  421 F2A1  C4 E31B     	CALL NZ,RCLICK
  422 F2A4  7A          	LD A,D
  423 F2A5  21 B7A2     	LD HL,0B7A2H
  424 F2A8  CB 66       	BIT 4,(HL)
  425 F2AA  C4 E354     	CALL NZ,CRT
  426 F2AD  20 E2       	JR NZ,KBD2
  427 F2AF  FE 1B       KBD5:	CP 1BH
  428 F2B1  20 04       	JR NZ,KBD6
  429 F2B3  CB E6       	SET 4,(HL)
  430 F2B5  18 DA       	JR KBD2
  431                    
  432 F2B7  FE F1       KBD6:	CP 0F1H
  433 F2B9  DA E175     	JP C,POPS3
  434 F2BC  DD CB 08 F6 	SET 6,(IX+8)
  435 F2C0  D6 F0       	SUB 0F0H
  436 F2C2  47          	LD B,A
  437 F2C3  21 B900     	LD HL,0B900H
  438 F2C6  7E          KBD7:	LD A,(HL)
  439 F2C7  A7          	AND A
  440 F2C8  23          	INC HL
  441 F2C9  20 FB       	JR NZ,KBD7
  442 F2CB  10 F9       	DJNZ KBD7
  443 F2CD  18 08       	JR KBD9
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  48
CAOSFV  ASM

  444                    
  445 F2CF  CD F274     KBD8:	CALL BRKT
  446 F2D2  38 0C       	JR C,KBD10
  447 F2D4  2A B7D1     	LD HL,(0B7D1H)
  448 F2D7  7E          KBD9:	LD A,(HL)
  449 F2D8  23          	INC HL
  450 F2D9  22 B7D1     	LD (0B7D1H),HL
  451 F2DC  A7          	AND A
  452 F2DD  C2 E175     	JP NZ,POPS3
  453 F2E0  DD CB 08 B6 KBD10:	RES 6,(IX+8)
  454 F2E4  18 AB       	JR KBD2
  455                    
  456                   ;*** CCP ***
  457                    
  458 F2E6  CD F0A2     INLIN:	CALL INTB
  459 F2E9  CD F0AB     	CALL OCHR
  460 F2EC  FE 0D       	CP 0DH
  461 F2EE  28 05       	JR Z,ILN1
  462 F2F0  FE 03       	CP 3
  463 F2F2  20 F2       	JR NZ,INLIN
  464 F2F4  37          	SCF
  465 F2F5  F5          ILN1:	PUSH AF
  466 F2F6  CD F324     	CALL CRLF
  467 F2F9  ED 5B B7A0  	LD DE,(0B7A0H)
  468 F2FD  BA          	CP D
  469 F2FE  20 04       	JR NZ,ILN2
  470 F300  3A B79F     	LD A,(0B79FH)
  471 F303  57          	LD D,A
  472 F304  15          ILN2:	DEC D
  473 F305  E5          	PUSH HL
  474 F306  CD E0B6     	CALL DABR
  475 F309  EB          	EX DE,HL
  476 F30A  E1          	POP HL
  477 F30B  F1          	POP AF
  478 F30C  C9          	RET
  479                    
  480 F30D  7C          HLHX:	LD A,H		;UP 1A HLHX
  481 F30E  CD F333     	CALL AHEX
  482 F311  7D          LHSPCE:	LD A,L
  483 F312  CD F333     AHSPCE:	CALL AHEX
  484                   	;
  485 F315  3E 20       SPAC:	LD A,20H	;UP 2B SPAC
  486 F317  C3 F0AB     SPAC0:	JP OCHR
  487                    
  488 F31A  CD F251     ERRM:	CALL OSTR	;UP 19 ERRM
  489 F31D  45 72 72 6F 	DEFM 'Error'
  490 F322  07          	DEFB 7
  491 F323  00          	DEFB 0
  492                   	;
  493 F324  CD F251     CRLF:	CALL OSTR	;UP 2C CRLF
  494 F327  0D          	DEFB 0DH
  495 F328  0A          	DEFB 0AH
  496 F329  00          	DEFB 0
  497 F32A  C9          	RET
  498                    
  499 F32B  3E 10       HOME:	LD A,10H	;UP 2D HOME
  500 F32D  18 E8       	JR SPAC0
  501                    
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  49
CAOSFV  ASM

  502 F32F  3E 02       CLLN:	LD A,2
  503 F331  18 E4       	JR SPAC0
  504                    
  505 F333  F5          AHEX:	PUSH AF		;UP 1C AHEX
  506 F334  1F          	RRA
  507 F335  1F          	RRA
  508 F336  1F          	RRA
  509 F337  1F          	RRA
  510 F338  CD F33C     	CALL AHEX1
  511 F33B  F1          	POP AF
  512 F33C  E6 0F       AHEX1:	AND 0FH
  513 F33E  C6 90       	ADD 90H
  514 F340  27          	DAA
  515 F341  CE 40       	ADC 40H
  516 F343  27          	DAA
  517 F344  18 D1       	JR SPAC0
  518                    
  519 F346  CD F349     HLDE:	CALL HLDE1	;UP 1B HLDE
  520 F349  CD F30D     HLDE1:	CALL HLHX
  521 F34C  EB          	EX DE,HL
  522 F34D  C9          	RET
  523                    
  524 F34E  13          RHEX0:	INC DE
  525                   	;
  526 F34F  1A          RHEX:	LD A,(DE)	;UP 18 RHEX
  527 F350  FE 20       	CP 20H
  528 F352  28 FA       	JR Z,RHEX0
  529 F354  AF          	XOR A
  530 F355  21 B798     	LD HL,0B798H
  531 F358  77          	LD (HL),A
  532 F359  2B          	DEC HL
  533 F35A  77          	LD (HL),A
  534 F35B  2B          	DEC HL
  535 F35C  77          	LD (HL),A
  536 F35D  1A          RH1:	LD A,(DE)
  537 F35E  B7          	OR A
  538 F35F  C8          	RET Z
  539 F360  FE 20       	CP 20H
  540 F362  C8          	RET Z
  541 F363  D6 30       	SUB 30H
  542 F365  D8          	RET C
  543 F366  FE 0A       	CP 0AH
  544 F368  38 0B       	JR C,RH2
  545 F36A  D6 07       	SUB 7
  546 F36C  E6 DF       	AND 0DFH
  547 F36E  FE 0A       	CP 0AH
  548 F370  D8          	RET C
  549 F371  FE 10       	CP 10H
  550 F373  3F          	CCF
  551 F374  D8          	RET C
  552 F375  13          RH2:	INC DE
  553 F376  34          	INC (HL)
  554 F377  23          	INC HL
  555 F378  ED 6F       	RLD
  556 F37A  23          	INC HL
  557 F37B  ED 6F       	RLD
  558 F37D  2B          	DEC HL
  559 F37E  2B          	DEC HL
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  50
CAOSFV  ASM

  560 F37F  28 DC       	JR Z,RH1
  561 F381  1B          	DEC DE
  562 F382  37          	SCF
  563 F383  C9          	RET
  564                    
  565 F384  01 B781     GARG:	LD BC,0B781H	;UP 22 GARG
  566 F387  AF          	XOR A
  567 F388  02          	LD (BC),A
  568 F389  13          	INC DE
  569 F38A  CD F34F     GARG1:	CALL RHEX
  570 F38D  D8          	RET C
  571 F38E  7E          	LD A,(HL)
  572 F38F  B7          	OR A
  573 F390  C8          	RET Z
  574 F391  23          	INC HL
  575 F392  03          	INC BC
  576 F393  7E          	LD A,(HL)
  577 F394  02          	LD (BC),A
  578 F395  23          	INC HL
  579 F396  03          	INC BC
  580 F397  7E          	LD A,(HL)
  581 F398  02          	LD (BC),A
  582 F399  2E 81       	LD L,81H
  583 F39B  34          	INC (HL)
  584 F39C  7E          	LD A,(HL)
  585 F39D  C6 F5       	ADD 0F5H
  586 F39F  30 E9       	JR NC,GARG1
  587 F3A1  C9          	RET
  588                    
  589                   ;*** Systeminit ***
  590                    
  591 F3A2  21 FD9D     SYSI:	LD HL,KCTAB0
  592 F3A5  16 07       	LD D,5+2	;+2:V.24-Interf.	hier 8 bei CAOS34.ROM ???
  593 F3A7  CD F413     	CALL INIMEI
  594 F3AA  11 B799     	LD DE,0B799H	;HCADR
  595 F3AD  01 0032     	LD BC,STBL1
  596 F3B0  ED B0       	LDIR
  597 F3B2  1E D8       	LD E,0D8H
  598 F3B4  0E 09       	LD C,STBL2
  599 F3B6  ED B0       	LDIR
  600 F3B8  3E 01       	LD A,1
  601                   	;
  602 F3BA  F3          SIXD:	DI		;UP 31 SIXD
  603 F3BB  21 FD91     	LD HL,ISRTAB
  604 F3BE  32 B7D7     	LD (0B7D7H),A
  605 F3C1  ED 47       	LD I,A
  606 F3C3  1E E4       	LD E,0E4H
  607 F3C5  57          	LD D,A
  608 F3C6  01 000C     	LD BC,0CH
  609 F3C9  ED B0       	LDIR
  610 F3CB  D5          	PUSH DE
  611 F3CC  DD 5E 04    	LD E,(IX+4)
  612 F3CF  DD E1       	POP IX
  613 F3D1  DD 73 04    	LD (IX+4),E
  614 F3D4  DD 36 08 88 	LD (IX+8),88H
  615 F3D8  DD 36 09 7F 	LD (IX+9),7FH
  616 F3DC  DD 36 0E 11 	LD (IX+14),Low(KTAB)
  617 F3E0  DD 36 0F FD 	LD (IX+15),High(KTAB)
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  51
CAOSFV  ASM

  618 F3E4  16 04       	LD D,4		; 4 Ports initialisieren
  619 F3E6  21 FDAC     	LD HL,KCTAB1
  620 F3E9  CD F415     	CALL INIME
  621 F3EC  21 0103     	LD HL,103H
  622 F3EF  22 B800     	LD (0B800H),HL
  623 F3F2  DD 7E 07    SIXD2:	LD A,(IX+7)
  624 F3F5  E6 1F       	AND 1FH
  625 F3F7  DD 77 07    	LD (IX+7),A
  626 F3FA  3E FF       SIXD3:	LD A,0FFH
  627 F3FC  D3 89       	OUT (89H),A
  628 F3FE  DD 36 05 00 	LD (IX+5),0
  629 F402  DD 36 06 B7 	LD (IX+6),0B7H
  630 F406  FB          	EI
  631 F407  C3 E40B     	JP RESFL
  632                    
  633 F40A  C5          INIEA:	PUSH BC		;UP 43 INIEA
  634 F40B  4E          	LD C,(HL)
  635 F40C  23          	INC HL
  636 F40D  46          	LD B,(HL)
  637 F40E  23          	INC HL
  638 F40F  ED B3       	OTIR
  639 F411  C1          	POP BC
  640 F412  C9          	RET
  641                    
  642 F413  ED 5E       INIMEI:	IM 2
  643 F415  CD F40A     INIME:	CALL INIEA	;UP 44 INIME
  644 F418  15          	DEC D
  645 F419  20 FA       	JR NZ,INIME
  646 F41B  C9          	RET
  647                    
  648                   ;*** Tape-Routinen ***
  649                    
  650 F41C  7F7F        	DEFW 7F7FH	;>SAVE<
  651 F41E  53 41 56 45 	DEFM 'SAVE'
  652 F422  01          	DEFB 1
  653                   	;
  654 F423  FE 02       	CP 2
  655 F425  DA F31A     	JP C,ERRM
  656 F428  CD F251     SAVE1:	CALL OSTR
  657 F42B  4E 61 6D 65 	DEFM 'Name :'
  658 F431  00          	DEFB 0
  659 F432  CD F2E6     	CALL INLIN
  660 F435  D8          	RET C
  661 F436  21 0006     	LD HL,6
  662 F439  19          	ADD HL,DE
  663                   	;
  664 F43A  11 B700     SAVE:	LD DE,0B700H	;UP 36 SAVE
  665 F43D  01 000B     	LD BC,11
  666 F440  ED B0       	LDIR
  667 F442  AF          	XOR A
  668 F443  12          	LD (DE),A
  669 F444  21 B781     	LD HL,0B781H
  670 F447  1E 10       	LD E,10H
  671 F449  0E 15       	LD C,15H
  672 F44B  ED B0       	LDIR
  673 F44D  CD F5F5     	CALL NBWI
  674 F450  DD CB 07 AE 	RES 5,(IX+7)
  675 F454  2A B782     	LD HL,(0B782H)
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  52
CAOSFV  ASM

  676 F457  DD 75 05    SAVE0:	LD (IX+5),L
  677 F45A  DD 74 06    	LD (IX+6),H
  678 F45D  11 0080     	LD DE,80H
  679 F460  19          	ADD HL,DE
  680 F461  ED 5B B784  	LD DE,(0B784H)
  681 F465  ED 52       	SBC HL,DE
  682 F467  3F          	CCF
  683 F468  DA F5DB     	JP C,NBW1
  684 F46B  CD F5D7     	CALL NBW
  685 F46E  DA E468     	JP C,CRO0
  686 F471  18 E4       	JR SAVE0
  687                   			;UP 15 LARG
  688 F473  ED 4B B786  LARG:	LD BC,(0B786H)	;ARG3
  689 F477  ED 5B B784  	LD DE,(0B784H)
  690 F47B  2A B782     	LD HL,(0B782H)
  691 F47E  3A B781     	LD A,(0B781H)
  692 F481  C9          	RET
  693                    
  694 F482  CD F251     NBL1:	CALL OSTR
  695 F485  3F 3F 3F    	DEFM '???'
  696 F488  00          	DEFB 0
  697 F489  C3 E44D     NBL2:	JP CMBI		;END CSRO
  698                    
  699 F48C  7F7F        	DEFW 7F7FH	;>VERIFY<
  700 F48E  56 45 52 49 	DEFM 'VERIFY'
  701 F494  01          	DEFB 1
  702                   	;
  703 F495  DD CB 07 86 VERIFY:	RES 0,(IX+7)	;UP 11 VERIFY
  704 F499  18 0B       	JR LOAD0
  705                    
  706 F49B  7F7F        	DEFW 7F7FH	;>LOAD<
  707 F49D  4C 4F 41 44 	DEFM 'LOAD'
  708 F4A1  01          	DEFB 1
  709                   	;
  710 F4A2  DD CB 07 C6 LOAD:	SET 0,(IX+7)	;UP 10 LOAD
  711                   	;
  712 F4A6  CD E419     LOAD0:	CALL IMBII
  713 F4A9  CD F580     	CALL NBR
  714 F4AC  DD CB 07 AE 	RES 5,(IX+7)
  715 F4B0  38 D7       LOAD1:	JR C,NBL2	;>CSRO
  716 F4B2  21 B700     	LD HL,0B700H
  717 F4B5  06 0B       	LD B,11
  718 F4B7  7E          LOADN:	LD A,(HL)
  719 F4B8  23          	INC HL
  720 F4B9  CD E354     	CALL CRT
  721 F4BC  10 F9       	DJNZ LOADN
  722 F4BE  CD F315     	CALL SPAC
  723 F4C1  DD CB 07 46 	BIT 0,(IX+7)
  724 F4C5  28 47       	JR Z,LOAD4
  725 F4C7  2E 10       	LD L,10H
  726 F4C9  7E          	LD A,(HL)
  727 F4CA  D6 02       	SUB 2
  728 F4CC  FE 08       	CP 8		;A=0..7
  729 F4CE  30 B2       	JR NC,NBL1
  730 F4D0  07          	RLCA
  731 F4D1  07          	RLCA
  732 F4D2  67          	LD H,A
  733 F4D3  DD 7E 07    	LD A,(IX+7)
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  53
CAOSFV  ASM

  734 F4D6  E6 03       	AND 3
  735 F4D8  B4          	OR H
  736 F4D9  DD 77 07    	LD (IX+7),A
  737 F4DC  ED 4B B715  	LD BC,(0B715H)
  738 F4E0  ED 5B B713  	LD DE,(0B713H)
  739 F4E4  2A B711     	LD HL,(0B711H)
  740 F4E7  3A B781     	LD A,(0B781H)
  741 F4EA  A7          	AND A
  742 F4EB  28 13       	JR Z,LOAD3
  743 F4ED  C5          	PUSH BC
  744 F4EE  ED 4B B782  	LD BC,(0B782H)
  745 F4F2  09          	ADD HL,BC
  746 F4F3  EB          	EX DE,HL
  747 F4F4  09          	ADD HL,BC
  748 F4F5  EB          	EX DE,HL
  749 F4F6  DD CB 07 5E 	BIT 3,(IX+7)
  750 F4FA  20 03       	JR NZ,LOAD2
  751 F4FC  E3          	EX (SP),HL
  752 F4FD  09          	ADD HL,BC
  753 F4FE  E3          	EX (SP),HL
  754 F4FF  C1          LOAD2:	POP BC
  755 F500  22 B782     LOAD3:	LD (0B782H),HL
  756 F503  ED 53 B784  	LD (0B784H),DE
  757 F507  ED 43 B786  	LD (0B786H),BC	;ARG3
  758 F50B  CD F346     	CALL HLDE
  759 F50E  CD F324     LOAD4:	CALL CRLF
  760 F511  EB          	EX DE,HL	;Ziel=DE
  761 F512  CD F580     LOAD5:	CALL NBR
  762 F515  38 99       	JR C,LOAD1	;>CSRO
  763 F517  DD CB 07 46 	BIT 0,(IX+7)
  764 F51B  28 12       	JR Z,LOAD6
  765 F51D  E5          	PUSH HL
  766 F51E  ED 52       	SBC HL,DE
  767 F520  01 0080     	LD BC,80H
  768 F523  ED 42       	SBC HL,BC
  769 F525  09          	ADD HL,BC
  770 F526  30 01       	JR NC,BLC1
  771 F528  4D          	LD C,L
  772 F529  21 B700     BLC1:	LD HL,0B700H
  773 F52C  ED B0       	LDIR
  774 F52E  E1          	POP HL
  775 F52F  DD 34 02    LOAD6:	INC (IX+2)	;FF?
  776 F532  20 DE       	JR NZ,LOAD5
  777                   	;
  778 F534  CD E44D     CSRI:	CALL CMBI	;UP 0B CSRI
  779 F537  DD 7E 07    	LD A,(IX+7)
  780 F53A  1F          	RRA
  781 F53B  D0          	RET NC		;bei VER.
  782 F53C  E6 0E       	AND 0EH
  783 F53E  DD CB 07 86 	RES 0,(IX+7)
  784 F542  C8          	RET Z		;2 ARG
  785                   	;
  786 F543  DD CB 07 4E 	BIT 1,(IX+7)	;AutoSt.enable ?
  787 F547  28 19       	JR Z,CSRI3
  788 F549  CD F251     CSRI1:	CALL OSTR
  789 F54C  52 75 6E    	DEFM 'Run'
  790 F54F  00          	DEFB 0
  791 F550  CD F566     	CALL YESNO
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  54
CAOSFV  ASM

  792 F553  28 0D       	JR Z,CSRI3
  793 F555  FE 53       	CP 'S'
  794 F557  C0          	RET NZ
  795 F558  3E 03       	LD A,3
  796 F55A  32 B781     	LD (0B781H),A
  797 F55D  CD F428     	CALL SAVE1	;PROGR. COPY
  798 F560  18 E7       	JR CSRI1
  799                    
  800 F562  2A B786     CSRI3:	LD HL,(0B786H)	;ARG3
  801 F565  E9          	JP (HL)		;AUTOSTART-ADR.
  802                    
  803 F566              YESNO:	;PA:Z=1 bei YES, RG A
  804 F566  CD F251     	CALL OSTR
  805 F569  3F 20 28 59 	DEFM '? (Y):'
  806 F56F  00          	DEFB 0
  807 F570  CD F0A2     	CALL INTB
  808 F573  F5          	PUSH AF
  809 F574  CD F0AB     	CALL OCHR
  810 F577  CD F324     	CALL CRLF
  811 F57A  F1          	POP AF
  812 F57B  CB AF       	RES 5,A
  813 F57D  FE 59       	CP 'Y'
  814 F57F  C9          	RET
  815                    
  816 F580              NBR:	;NewBlockRead
  817 F580  E5          	PUSH HL
  818 F581  2E 04       	LD L,4		;4 Versuche
  819 F583  DD 66 03    	LD H,(IX+3)
  820 F586  CD F274     NBR0:	CALL BRKT
  821 F589  38 29       	JR C,NBREND
  822 F58B  CD E4FF     	CALL MBI
  823 F58E  DD 7E 02    	LD A,(IX+2)
  824 F591  F5          	PUSH AF
  825 F592  BC          	CP H
  826 F593  28 0C       	JR Z,NBR2
  827 F595  3C          	INC A		;FF?
  828 F596  20 1F       	JR NZ,NBR4
  829 F598  7D          	LD A,L
  830 F599  FE 04       	CP 4		;4 Versuche
  831 F59B  20 1A       	JR NZ,NBR4	;Kein 1.Vers.
  832 F59D  25          	DEC H
  833 F59E  28 16       	JR Z,NBR41	;01 erwartet
  834 F5A0  24          	INC H
  835 F5A1  F1          NBR2:	POP AF
  836 F5A2  38 1E       	JR C,NBR5
  837 F5A4  DD CB 07 6E 	BIT 5,(IX+7)
  838 F5A8  20 06       	JR NZ,NBR3
  839 F5AA  CD F248     	CALL CBNRO
  840 F5AD  3E 20       	DEFM '> '
  841 F5AF  00          	DEFB 0
  842 F5B0  24          NBR3:	INC H
  843 F5B1  DD 74 03    	LD (IX+3),H
  844 F5B4  E1          NBREND:	POP HL
  845 F5B5  C9          	RET
  846                    
  847 F5B6  24          NBR41:	INC H
  848 F5B7  F1          NBR4:	POP AF
  849 F5B8  CD F24B     	CALL BNROST
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  55
CAOSFV  ASM

  850 F5BB  2A          	DEFM '*'
  851 F5BC  0808        	DEFW 808H
  852 F5BE  08          	DEFB 8
  853 F5BF  00          	DEFB 0
  854 F5C0  18 C4       	JR NBR0
  855                    
  856 F5C2  67          NBR5:	LD H,A		;falls FF
  857 F5C3  2D          	DEC L
  858 F5C4  28 09       	JR Z,NBR6
  859 F5C6  CD F24B     	CALL BNROST
  860 F5C9  3F 20       	DEFM '? '
  861 F5CB  07          	DEFB 7
  862 F5CC  00          	DEFB 0
  863 F5CD  18 B7       	JR NBR0
  864                    
  865 F5CF  CD F24B     NBR6:	CALL BNROST
  866 F5D2  21          	DEFM '!'
  867 F5D3  1E          	DEFB 1EH	;CRNL
  868 F5D4  00          	DEFB 0
  869 F5D5  18 D9       	JR NBR3
  870                    
  871 F5D7              NBW:	;NewBlockWrite
  872 F5D7  CD F274     	CALL BRKT
  873 F5DA  D8          	RET C
  874 F5DB  ED 4B B7DA  NBW1:	LD BC,(0B7DAH)	;mit CY=1 !
  875 F5DF  DD CB 07 6E 	BIT 5,(IX+7)
  876 F5E3  28 03       	JR Z,NBW2
  877 F5E5  01 0500     	LD BC,500H
  878 F5E8  DA E461     NBW2:	JP C,CSRO
  879 F5EB  CD E49B     	CALL MBOT
  880 F5EE  CD F24B     NBW3:	CALL BNROST
  881 F5F1  3C          	DEFM '<'
  882 F5F2  0D          	DEFB 0DH
  883 F5F3  00          	DEFB 0
  884 F5F4  C9          	RET
  885                    
  886 F5F5  CD E48A     NBWI:	CALL ISROI
  887 F5F8  CD F32F     	CALL CLLN
  888 F5FB  18 F1       	JR NBW3
  889                    
  890                   ;*** Monitor ***
  891                    
  892 F5FD  7F7F        	DEFW 7F7FH	;>COLOR<
  893 F5FF  43 4F 4C 4F 	DEFM 'COLOR'
  894 F604  01          	DEFB 1
  895                   	;
  896 F605  F5          COLOR:	PUSH AF
  897 F606  3E 1F       	LD A,1FH
  898 F608  A5          	AND L
  899 F609  17          	RLA
  900 F60A  17          	RLA
  901 F60B  17          	RLA
  902 F60C  6F          	LD L,A
  903 F60D  F1          	POP AF
  904 F60E  FE 02       	CP 2
  905 F610  7B          	LD A,E
  906 F611  30 03       	JR NC,COL1
  907 F613  3A B7A3     	LD A,(0B7A3H)
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  56
CAOSFV  ASM

  908 F616  E6 07       COL1:	AND 7
  909 F618  B5          	OR L
  910 F619  32 B7A3     COL2:	LD (0B7A3H),A
  911 F61C  C9          	RET
  912                    
  913 F61D  3A B7A3     ESC2:	LD A,(0B7A3H)	;Blinken on/off
  914 F620  EE 80       	XOR 80H
  915 F622  18 F5       	JR COL2
  916                    
  917 F624  CD F30D     DPMEMO:	CALL HLHX
  918 F627  E5          	PUSH HL
  919 F628  41          	LD B,C
  920 F629  7E          DPM1:	LD A,(HL)
  921 F62A  23          	INC HL
  922 F62B  CD F312     	CALL AHSPCE
  923 F62E  10 F9       	DJNZ DPM1
  924 F630  E1          	POP HL
  925 F631  41          	LD B,C
  926 F632  3E 09       	LD A,9
  927 F634  CD F0AB     	CALL OCHR
  928 F637  7E          DPM2:	LD A,(HL)
  929 F638  23          	INC HL
  930 F639  CD F63F     	CALL CSTBT
  931 F63C  10 F9       	DJNZ DPM2
  932 F63E  C9          	RET
  933                    
  934 F63F  E5          CSTBT:	PUSH HL		;UP 42 CSTBT
  935 F640  21 B7A2     	LD HL,0B7A2H
  936 F643  CB DE       	SET 3,(HL)
  937 F645  CD F0AB     	CALL OCHR
  938 F648  CB 9E       	RES 3,(HL)
  939 F64A  E1          	POP HL
  940 F64B  C9          	RET
  941                    
  942 F64C  7F7F        	DEFW 7F7FH	;>DISPLAY<
  943 F64E  44 49 53 50 	DEFM 'DISPLAY'
  944 F655  01          	DEFB 1
  945                   	;
  946 F656  D6 03       DISP:	SUB 3		;UP 3B DISP
  947 F658  30 07       	JR NC,DISP1
  948 F65A  0E 08       	LD C,8
  949 F65C  3C          	INC A
  950 F65D  28 02       	JR Z,DISP1
  951 F65F  1E 04       	LD E,4
  952 F661  D5          DISP1:	PUSH DE
  953 F662  CD F624     DISP2:	CALL DPMEMO
  954 F665  CD F324     	CALL CRLF
  955 F668  CD F274     	CALL BRKT
  956 F66B  38 06       	JR C,DISP3
  957 F66D  1D          	DEC E
  958 F66E  20 F2       	JR NZ,DISP2
  959 F670  CD F0A2     	CALL INTB
  960 F673  D1          DISP3:	POP DE
  961 F674  FE 03       	CP 3
  962 F676  C8          	RET Z
  963 F677  FE 13       	CP 13H
  964 F679  20 E6       	JR NZ,DISP1
  965 F67B  18 10       	JR MO1
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  57
CAOSFV  ASM

  966                    
  967 F67D  7F7F        	DEFW 7F7FH	;>MODIFY<
  968 F67F  4D 4F 44 49 	DEFM 'MODIFY'
  969 F685  01          	DEFB 1
  970                   	;
  971 F686  4B          	LD C,E
  972 F687  FE 02       	CP 2
  973 F689  30 02       	JR NC,MO1
  974 F68B  0E 01       MODI:	LD C,1		;UP 2E MODI
  975 F68D  CD F624     MO1:	CALL DPMEMO
  976 F690  3E 05       	LD A,5
  977 F692  32 B7A0     	LD (0B7A0H),A
  978 F695  CD F2E6     	CALL INLIN
  979 F698  D8          	RET C
  980 F699  E5          	PUSH HL
  981 F69A  CD F34F     	CALL RHEX
  982 F69D  7E          	LD A,(HL)
  983 F69E  E1          	POP HL
  984 F69F  38 4F       	JR C,MO10
  985 F6A1  A7          	AND A
  986 F6A2  28 E9       	JR Z,MO1
  987 F6A4  2A B797     	LD HL,(0B797H)
  988 F6A7  E5          MO2:	PUSH HL
  989 F6A8  CD F34F     	CALL RHEX
  990 F6AB  7E          	LD A,(HL)
  991 F6AC  A7          	AND A
  992 F6AD  23          	INC HL
  993 F6AE  7E          	LD A,(HL)
  994 F6AF  E1          	POP HL
  995 F6B0  28 02       	JR Z,MO4
  996 F6B2  77          MO3:	LD (HL),A
  997 F6B3  23          	INC HL
  998 F6B4  1A          MO4:	LD A,(DE)
  999 F6B5  FE 2E       	CP '.'
 1000 F6B7  C8          	RET Z
 1001 F6B8  FE 2C       	CP ','
 1002 F6BA  20 05       	JR NZ,MO5
 1003 F6BC  13          	INC DE
 1004 F6BD  1A          	LD A,(DE)
 1005 F6BE  13          	INC DE
 1006 F6BF  18 F1       	JR MO3
 1007 F6C1  FE 3A       MO5:	CP ':'
 1008 F6C3  20 03       	JR NZ,MO6
 1009 F6C5  2B          	DEC HL
 1010 F6C6  18 C5       	JR MO1
 1011 F6C8  FE 2F       MO6:	CP '/'
 1012 F6CA  20 0B       	JR NZ,MO7
 1013 F6CC  13          	INC DE
 1014 F6CD  CD F34F     	CALL RHEX
 1015 F6D0  38 1E       	JR C,MO10
 1016 F6D2  2A B797     	LD HL,(0B797H)
 1017 F6D5  18 B6       	JR MO1
 1018 F6D7  FE 27       MO7:	CP 27H		;Hochkomma
 1019 F6D9  20 0E       	JR NZ,MO9
 1020 F6DB  13          	INC DE
 1021 F6DC  1A          MO8:	LD A,(DE)
 1022 F6DD  13          	INC DE
 1023 F6DE  A7          	AND A
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  58
CAOSFV  ASM

 1024 F6DF  28 AC       	JR Z,MO1
 1025 F6E1  FE 27       	CP 27H		;Hochkomma
 1026 F6E3  28 CF       	JR Z,MO4
 1027 F6E5  77          	LD (HL),A
 1028 F6E6  23          	INC HL
 1029 F6E7  18 F3       	JR MO8
 1030 F6E9  A7          MO9:	AND A
 1031 F6EA  28 A1       	JR Z,MO1
 1032 F6EC  FE 20       	CP 20H
 1033 F6EE  28 B7       	JR Z,MO2
 1034 F6F0  CD F31A     MO10:	CALL ERRM
 1035 F6F3  18 98       	JR MO1
 1036                    
 1037 F6F5  7F7F        	DEFW 7F7FH	;>WINDOW<
 1038 F6F7  57 49 4E 44 	DEFM 'WINDOW'
 1039 F6FD  01          	DEFB 1
 1040                   	;
 1041 F6FE  A7          	AND A
 1042 F6FF  28 3C       	JR Z,WINAK
 1043 F701  3D          	DEC A
 1044 F702  28 38       	JR Z,WINAK0
 1045 F704  FE 03       	CP 3
 1046 F706  38 13       	JR C,ERRM2
 1047 F708  65          	LD H,L
 1048 F709  69          	LD L,C
 1049 F70A  53          	LD D,E
 1050 F70B  3A B788     	LD A,(0B788H)
 1051 F70E  5F          	LD E,A
 1052 F70F  3A B78A     	LD A,(0B78AH)
 1053 F712  20 03       	JR NZ,WIN5
 1054 F714  3A B79B     	LD A,(0B79BH)
 1055 F717  CD F721     WIN5:	CALL WININ
 1056 F71A  D0          	RET NC
 1057 F71B  C3 F31A     ERRM2:	JP ERRM
 1058                    
 1059 F71E  3A B79B     WININ0:	LD A,(0B79BH)	;von BASIC
 1060 F721  F5          WININ:	PUSH AF		;UP 3C WININ
 1061 F722  CD F759     	CALL PART
 1062 F725  DA E0A7     IAD21:	JP C,IAD2
 1063 F728  F1          	POP AF
 1064 F729  D5          	PUSH DE
 1065 F72A  E5          	PUSH HL
 1066 F72B  CD F76E     	CALL WCOPY
 1067 F72E  E1          	POP HL
 1068 F72F  D1          	POP DE
 1069 F730  22 B79C     	LD (0B79CH),HL
 1070 F733  ED 53 B79E  	LD (0B79EH),DE
 1071 F737  ED 43 B7A0  	LD (0B7A0H),BC
 1072 F73B  C9          	RET
 1073                    
 1074 F73C  7D          WINAK0:	LD A,L
 1075 F73D  CD F76E     WINAK:	CALL WCOPY	;UP 3D WINAK
 1076 F740  CD F748     WINAK1:	CALL WINANF	;von BASIC
 1077 F743  D8          	RET C
 1078 F744  23          	INC HL
 1079 F745  EB          	EX DE,HL
 1080 F746  18 2F       	JR WCPY1
 1081                    
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  59
CAOSFV  ASM

 1082 F748  21 B79B     WINANF:	LD HL,0B79BH
 1083 F74B  7E          	LD A,(HL)
 1084 F74C  C6 F6       	ADD 0F6H
 1085 F74E  D8          	RET C
 1086 F74F  87          	ADD A
 1087 F750  5F          	LD E,A
 1088 F751  87          	ADD A
 1089 F752  87          	ADD A
 1090 F753  83          	ADD E
 1091 F754  5F          	LD E,A
 1092 F755  16 B9       	LD D,0B9H
 1093 F757  A7          	AND A
 1094 F758  C9          	RET
 1095                    
 1096 F759  C6 F6       PART:	ADD 0F6H
 1097 F75B  D8          	RET C
 1098 F75C  7A          	LD A,D
 1099 F75D  D6 01       	SUB 1
 1100 F75F  D8          	RET C
 1101 F760  84          	ADD H
 1102 F761  D8          	RET C
 1103 F762  C6 E0       	ADD 0E0H
 1104 F764  D8          	RET C
 1105 F765  7B          	LD A,E
 1106 F766  D6 01       	SUB 1
 1107 F768  D8          	RET C
 1108 F769  85          	ADD L
 1109 F76A  D8          	RET C
 1110 F76B  C6 D8       	ADD 0D8H
 1111 F76D  C9          	RET
 1112                    
 1113 F76E  F5          WCOPY:	PUSH AF
 1114 F76F  CD F748     	CALL WINANF
 1115 F772  38 B1       	JR C,IAD21
 1116 F774  F1          	POP AF
 1117 F775  77          	LD (HL),A
 1118 F776  23          	INC HL
 1119 F777  01 000A     WCPY1:	LD BC,0AH
 1120 F77A  ED B0       JPLD:	LDIR
 1121 F77C  B7          	OR A
 1122 F77D  C9          	RET
 1123                    
 1124 F77E  23          KDISP1	INC HL
 1125 F77F  7E          KYDISP:	LD A,(HL)
 1126 F780  A7          	AND A
 1127 F781  C8          	RET Z
 1128 F782  CD F63F     	CALL CSTBT
 1129 F785  18 F7       	JR KDISP1
 1130                    
 1131 F787  7F7F        	DEFW 7F7FH	;>KEY<
 1132 F789  4B 45 59    	DEFM 'KEY'
 1133 F78C  01          	DEFB 1
 1134                   	;
 1135 F78D  28 5E       	JR Z,KEYLI
 1136 F78F  7D          	LD A,L
 1137                   	;
 1138 F790  A7          KEY:	AND A		;UP 39 KEY
 1139 F791  21 B900     	LD HL,0B900H
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  60
CAOSFV  ASM

 1140 F794  28 50       	JR Z,KKILL
 1141 F796  FE 0D       	CP 0DH
 1142 F798  D0          	RET NC
 1143 F799  47          	LD B,A
 1144 F79A  7E          KEY1:	LD A,(HL)
 1145 F79B  23          	INC HL
 1146 F79C  A7          	AND A
 1147 F79D  20 FB       	JR NZ,KEY1
 1148 F79F  10 F9       	DJNZ KEY1
 1149 F7A1  CD F77F     	CALL KYDISP
 1150 F7A4  F5          KEY2:	PUSH AF
 1151 F7A5  2B          	DEC HL
 1152 F7A6  F1          KEY3:	POP AF
 1153 F7A7  CD F0A2     KEY4:	CALL INTB
 1154 F7AA  FE 13       	CP 13H
 1155 F7AC  CA F324     	JP Z,CRLF
 1156 F7AF  F5          	PUSH AF
 1157 F7B0  06 00       	LD B,0
 1158 F7B2  3D          	DEC A
 1159 F7B3  20 15       	JR NZ,KEY5
 1160 F7B5  7E          	LD A,(HL)
 1161 F7B6  A7          	AND A
 1162 F7B7  28 ED       	JR Z,KEY3
 1163 F7B9  54          	LD D,H
 1164 F7BA  5D          	LD E,L
 1165 F7BB  E5          	PUSH HL
 1166 F7BC  23          	INC HL
 1167 F7BD  3E 9C       	LD A,9CH
 1168 F7BF  95          	SUB L
 1169 F7C0  4F          	LD C,A
 1170 F7C1  ED B0       	LDIR
 1171 F7C3  E1          	POP HL
 1172 F7C4  F1          	POP AF
 1173 F7C5  CD F0AB     	CALL OCHR
 1174 F7C8  18 DA       	JR KEY2
 1175 F7CA  3A B99A     KEY5:	LD A,(0B99AH)
 1176 F7CD  A7          	AND A
 1177 F7CE  20 D6       	JR NZ,KEY3
 1178 F7D0  E5          	PUSH HL
 1179 F7D1  3E 9B       	LD A,9BH
 1180 F7D3  95          	SUB L
 1181 F7D4  4F          	LD C,A
 1182 F7D5  21 B99A     	LD HL,0B99AH
 1183 F7D8  11 B99B     	LD DE,0B99BH
 1184 F7DB  ED B8       	LDDR
 1185 F7DD  E1          	POP HL
 1186 F7DE  F1          	POP AF
 1187 F7DF  23          	INC HL
 1188 F7E0  77          	LD (HL),A
 1189 F7E1  CD F63F     	CALL CSTBT
 1190 F7E4  18 C1       	JR KEY4
 1191                    
 1192 F7E6  06 9C       KKILL:	LD B,09CH
 1193 F7E8  77          KKIL1:	LD (HL),A
 1194 F7E9  23          	INC HL
 1195 F7EA  10 FC       	DJNZ KKIL1
 1196 F7EC  C9          	RET
 1197                    
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  61
CAOSFV  ASM

 1198 F7ED  21 B900     KEYLI:	LD HL,0B900H	;UP 3A KEYLI
 1199 F7F0  01 0CF0     	LD BC,0CF0H
 1200 F7F3  0C          KEYL0:	INC C
 1201 F7F4  CD F32F     	CALL CLLN
 1202 F7F7  79          	LD A,C
 1203 F7F8  CD F24E     	CALL AHOSTR
 1204 F7FB  20 3A       	DEFM ' :'
 1205 F7FD  00          	DEFB 0
 1206 F7FE  CD F77E     	CALL KDISP1
 1207 F801  CD F324     	CALL CRLF
 1208 F804  10 ED       	DJNZ KEYL0
 1209 F806  C9          	RET
 1210                    
 1211 F807  E5          CUCP:	PUSH HL		;UP 25 CUCP
 1212 F808  D5          	PUSH DE
 1213 F809  F5          	PUSH AF
 1214 F80A  ED 5B B7A0  	LD DE,(0B7A0H)
 1215 F80E  CD E0B6     	CALL DABR
 1216 F811  38 21       	JR C,CEND
 1217 F813  7E          	LD A,(HL)
 1218 F814  CD E03E     	CALL PADR1
 1219 F817  B7          	OR A
 1220 F818  20 0A       	JR NZ,CFARB
 1221 F81A  CB ED       	SET 5,L
 1222 F81C  CB C4       	SET 0,H
 1223 F81E  7E          	LD A,(HL)
 1224 F81F  EE 7F       	XOR 7FH
 1225 F821  77          	LD (HL),A
 1226 F822  18 10       	JR CEND
 1227                    
 1228 F824  1A          CFARB:	LD A,(DE)
 1229 F825  2F          	CPL
 1230 F826  12          	LD (DE),A
 1231 F827  CB EB       	SET 5,E
 1232 F829  1A          	LD A,(DE)
 1233 F82A  2F          	CPL
 1234 F82B  DD CB 08 7E 	BIT 7,(IX+8)
 1235 F82F  20 02       	JR NZ,CFAB1
 1236 F831  EE 04       	XOR 4
 1237 F833  12          CFAB1:	LD (DE),A
 1238 F834  F1          CEND:	POP AF
 1239 F835  18 14       	JR PUDEND
 1240                    
 1241                   ;*** Grafiktreiber ***
 1242                    
 1243 F837  3E          PUDE:	DEFB 3EH	;UP 2F PUDE
 1244                   	;
 1245 F838  AF          PUSE:	XOR A		;UP 30 PUSE
 1246 F839  E5          	PUSH HL
 1247 F83A  D5          	PUSH DE
 1248 F83B  2A B7D3     	LD HL,(0B7D3H)	;HOR
 1249 F83E  ED 5B B7D5  	LD DE,(0B7D5H)	;VERT
 1250 F842  B7          	OR A
 1251 F843  20 09       	JR NZ,PUDEJP
 1252 F845  CD F98C     	CALL WTESTV
 1253 F848  D4 F948     	CALL NC,POINT
 1254 F84B  D1          PUDEND:	POP DE
 1255 F84C  E1          	POP HL
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  62
CAOSFV  ASM

 1256 F84D  C9          	RET
 1257                    
 1258 F84E  CD F98C     PUDEJP:	CALL WTESTV
 1259 F851  38 F8       	JR C,PUDEND
 1260 F853  C5          	PUSH BC
 1261 F854  CD F970     	CALL BADR
 1262 F857  47          	LD B,A
 1263 F858  4E          	LD C,(HL)
 1264 F859  2F          	CPL
 1265 F85A  A1          	AND C
 1266 F85B  77          	LD (HL),A
 1267 F85C  78          	LD A,B
 1268 F85D  A1          	AND C
 1269 F85E  1A          	LD A,(DE)
 1270 F85F  C1          	POP BC
 1271 F860  18 E9       	JR PUDEND
 1272                    
 1273 F862  D9          LINE:	EXX		;UP 3E LINE
 1274 F863  E5          	PUSH HL
 1275 F864  D5          	PUSH DE
 1276 F865  C5          	PUSH BC
 1277 F866  ED 5B B788  	LD DE,(0B788H)
 1278 F86A  2A B784     	LD HL,(0B784H)
 1279 F86D  D9          	EXX
 1280 F86E  CD F473     	CALL LARG
 1281 F871  50          	LD D,B
 1282 F872  59          	LD E,C
 1283 F873  AF          LINE1:	XOR A
 1284 F874  ED 52       	SBC HL,DE
 1285 F876  30 07       	JR NC,LINE2
 1286 F878  19          	ADD HL,DE
 1287 F879  EB          	EX DE,HL
 1288 F87A  D9          	EXX
 1289 F87B  EB          	EX DE,HL
 1290 F87C  D9          	EXX
 1291 F87D  18 F4       	JR LINE1
 1292 F87F  D9          LINE2:	EXX
 1293 F880  D5          	PUSH DE
 1294 F881  ED 52       LINE3:	SBC HL,DE
 1295 F883  30 06       	JR NC,LINE4
 1296 F885  19          	ADD HL,DE
 1297 F886  EB          	EX DE,HL
 1298 F887  F6 01       	OR 1
 1299 F889  18 F6       	JR LINE3
 1300 F88B  E5          LINE4:	PUSH HL
 1301 F88C  D9          	EXX
 1302 F88D  C1          	POP BC
 1303 F88E  E5          	PUSH HL
 1304 F88F  ED 42       	SBC HL,BC
 1305 F891  E1          	POP HL
 1306 F892  C5          	PUSH BC
 1307 F893  30 03       	JR NC,LINE5
 1308 F895  E3          	EX (SP),HL
 1309 F896  F6 02       	OR 2
 1310 F898  E5          LINE5:	PUSH HL
 1311 F899  44          	LD B,H
 1312 F89A  4D          	LD C,L
 1313 F89B  D9          	EXX
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  63
CAOSFV  ASM

 1314 F89C  C1          	POP BC
 1315 F89D  D1          	POP DE
 1316 F89E  60          	LD H,B
 1317 F89F  69          	LD L,C
 1318 F8A0  CB 3C       	SRL H
 1319 F8A2  CB 1D       	RR  L
 1320 F8A4  D9          	EXX
 1321 F8A5  E1          	POP HL
 1322 F8A6  EB          	EX DE,HL
 1323 F8A7  03          	INC BC
 1324 F8A8  CD F939     LINE6:	CALL SHLDE
 1325 F8AB  D9          	EXX
 1326 F8AC  A7          	AND A
 1327 F8AD  ED 52       	SBC HL,DE
 1328 F8AF  30 01       	JR NC,LINE7
 1329 F8B1  09          	ADD HL,BC
 1330 F8B2  D9          LINE7:	EXX
 1331 F8B3  CB 4F       	BIT 1,A
 1332 F8B5  20 02       	JR NZ,VDE
 1333 F8B7  30 0A       	JR NC,IHL
 1334 F8B9  CB 47       VDE:	BIT 0,A
 1335 F8BB  13          	INC DE
 1336 F8BC  28 02       	JR Z,IDE
 1337 F8BE  1B          	DEC DE
 1338 F8BF  1B          	DEC DE
 1339 F8C0  38 01       IDE:	JR C,IHL
 1340 F8C2  2B          	DEC HL
 1341 F8C3  ED A1       IHL:	CPI
 1342 F8C5  EA F8A8     	JP PE,LINE6
 1343                   	;
 1344 F8C8  C1          CIREND:	POP BC
 1345 F8C9  D1          	POP DE
 1346 F8CA  E1          	POP HL
 1347 F8CB  D9          	EXX
 1348 F8CC  C9          	RET
 1349                    
 1350 F8CD  D9          CIRCLE:	EXX		;UP 3F CIRCLE
 1351 F8CE  E5          	PUSH HL
 1352 F8CF  D5          	PUSH DE
 1353 F8D0  C5          	PUSH BC
 1354 F8D1  3A B786     	LD A,(0B786H)	;ARG3
 1355 F8D4  4F          	LD C,A
 1356 F8D5  51          	LD D,C
 1357 F8D6  CD FA89     	CALL MULT
 1358 F8D9  60          	LD H,B
 1359 F8DA  6F          	LD L,A
 1360 F8DB  54          	LD D,H
 1361 F8DC  5D          	LD E,L
 1362 F8DD  79          	LD A,C
 1363 F8DE  06 00       	LD B,0
 1364 F8E0  CB 21       	SLA C
 1365 F8E2  CB 10       	RL  B
 1366 F8E4  0B          	DEC BC
 1367 F8E5  C5          	PUSH BC
 1368 F8E6  01 0001     	LD BC,1
 1369 F8E9  D9          	EXX
 1370 F8EA  4F          	LD C,A
 1371 F8EB  06 00       	LD B,0
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  64
CAOSFV  ASM

 1372 F8ED  CD F913     CIR1:	CALL CIRUP1
 1373 F8F0  CD F913     	CALL CIRUP1
 1374 F8F3  D9          	EXX
 1375 F8F4  A7          	AND A
 1376 F8F5  ED 42       	SBC HL,BC
 1377 F8F7  03          	INC BC
 1378 F8F8  03          	INC BC
 1379 F8F9  ED 52       	SBC HL,DE
 1380 F8FB  19          	ADD HL,DE
 1381 F8FC  D9          	EXX
 1382 F8FD  30 0C       	JR NC,CIR2
 1383 F8FF  D9          	EXX
 1384 F900  E3          	EX (SP),HL
 1385 F901  EB          	EX DE,HL
 1386 F902  A7          	AND A
 1387 F903  ED 52       	SBC HL,DE
 1388 F905  1B          	DEC DE
 1389 F906  1B          	DEC DE
 1390 F907  EB          	EX DE,HL
 1391 F908  E3          	EX (SP),HL
 1392 F909  D9          	EXX
 1393 F90A  0D          	DEC C
 1394 F90B  04          CIR2:	INC B
 1395 F90C  79          	LD A,C
 1396 F90D  B8          	CP B
 1397 F90E  30 DD       	JR NC,CIR1
 1398 F910  C1          	POP BC
 1399 F911  18 B5       	JR CIREND
 1400                    
 1401 F913  78          CIRUP1:	LD A,B
 1402 F914  41          	LD B,C
 1403 F915  4F          	LD C,A
 1404 F916  AF          	XOR A
 1405 F917  57          	LD D,A
 1406 F918  2A B784     	LD HL,(0B784H)
 1407 F91B  E5          	PUSH HL
 1408 F91C  59          	LD E,C
 1409 F91D  19          	ADD HL,DE
 1410 F91E  CD F927     	CALL CIRUP2
 1411 F921  AF          	XOR A
 1412 F922  57          	LD D,A
 1413 F923  E1          	POP HL
 1414 F924  59          	LD E,C
 1415 F925  ED 52       	SBC HL,DE
 1416 F927  E5          CIRUP2:	PUSH HL
 1417 F928  2A B782     	LD HL,(0B782H)
 1418 F92B  58          	LD E,B
 1419 F92C  A7          	AND A
 1420 F92D  ED 52       	SBC HL,DE
 1421 F92F  D1          	POP DE
 1422 F930  CD F939     	CALL SHLDE
 1423 F933  D5          	PUSH DE
 1424 F934  57          	LD D,A
 1425 F935  58          	LD E,B
 1426 F936  19          	ADD HL,DE
 1427 F937  19          	ADD HL,DE
 1428 F938  D1          	POP DE
 1429                   	;
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  65
CAOSFV  ASM

 1430 F939  F5          SHLDE:	PUSH AF
 1431 F93A  CD F988     	CALL WTEST
 1432 F93D  38 07       	JR C,ENDS
 1433 F93F  E5          	PUSH HL
 1434 F940  D5          	PUSH DE
 1435 F941  CD F948     	CALL POINT
 1436 F944  D1          	POP DE
 1437 F945  E1          	POP HL
 1438 F946  F1          ENDS:	POP AF
 1439 F947  C9          	RET
 1440                    
 1441 F948  CD F970     POINT:	CALL BADR
 1442 F94B  D5          	PUSH DE
 1443 F94C  ED 5B B7D6  	LD DE,(0B7D6H)
 1444 F950  CB 4B       	BIT 1,E
 1445 F952  20 14       	JR NZ,NOTPT
 1446 F954  CB 43       	BIT 0,E
 1447 F956  20 15       	JR NZ,XORPT
 1448 F958  B6          	OR (HL)
 1449 F959  CB 53       XORPT1:	BIT 2,E
 1450 F95B  77          	LD (HL),A
 1451 F95C  7B          	LD A,E
 1452 F95D  D1          	POP DE
 1453 F95E  C0          	RET NZ
 1454 F95F  E6 F8       	AND 0F8H
 1455 F961  67          	LD H,A
 1456 F962  1A          	LD A,(DE)
 1457 F963  E6 07       	AND 7
 1458 F965  B4          	OR H
 1459 F966  12          	LD (DE),A
 1460 F967  C9          	RET
 1461                    
 1462 F968  2F          NOTPT:	CPL
 1463 F969  A6          	AND (HL)
 1464 F96A  77          	LD (HL),A
 1465 F96B  D1          	POP DE
 1466 F96C  C9          	RET
 1467                    
 1468 F96D  AE          XORPT:	XOR (HL)
 1469 F96E  18 E9       	JR XORPT1
 1470                    
 1471 F970  7D          BADR:	LD A,L
 1472 F971  53          	LD D,E
 1473 F972  E6 07       	AND 7
 1474 F974  29          	ADD HL,HL
 1475 F975  29          	ADD HL,HL
 1476 F976  29          	ADD HL,HL
 1477 F977  29          	ADD HL,HL
 1478 F978  29          	ADD HL,HL
 1479 F979  6C          	LD L,H
 1480 F97A  C6 F8       	ADD Low(BITTAB)
 1481 F97C  5F          	LD E,A
 1482 F97D  7A          	LD A,D
 1483 F97E  2F          	CPL
 1484 F97F  67          	LD H,A
 1485 F980  3A B7D8     	LD A,(0B7D8H)
 1486 F983  57          	LD D,A
 1487 F984  1A          	LD A,(DE)
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  66
CAOSFV  ASM

 1488 F985  C3 E048     	JP PADR
 1489                    
 1490 F988  7A          WTEST:	LD A,D
 1491 F989  C6 FF       	ADD 0FFH
 1492 F98B  D8          	RET C
 1493 F98C  7C          WTESTV:	LD A,H
 1494 F98D  B7          	OR A
 1495 F98E  C8          	RET Z
 1496 F98F  C6 FE       	ADD 0FEH
 1497 F991  D8          	RET C
 1498 F992  7D          	LD A,L
 1499 F993  C6 C0       	ADD 0C0H
 1500 F995  C9          	RET
 1501                    
 1502                   ;*** Byteweise Tape-Routinen***
 1503                    
 1504 F996  5A          MBOUT:	LD E,D		;UP 38 MBOT
 1505 F997  57          	LD D,A
 1506 F998  D5          	PUSH DE
 1507 F999  C5          	PUSH BC
 1508 F99A  CB 5B       	BIT 3,E
 1509 F99C  20 46       	JR NZ,INITO
 1510 F99E  3A B7DC     	LD A,(0B7DCH)
 1511 F9A1  26 B7       INITO2:	LD H,0B7H
 1512 F9A3  6F          	LD L,A
 1513 F9A4  72          	LD (HL),D
 1514 F9A5  3C          	INC A
 1515 F9A6  CB 73       	BIT 6,E
 1516 F9A8  20 25       	JR NZ,CLOSEO
 1517 F9AA  E6 7F       	AND 7FH
 1518 F9AC  32 B7DC     	LD (0B7DCH),A
 1519 F9AF  20 2E       	JR NZ,POPS
 1520 F9B1  DD CB 07 4E 	BIT 1,(IX+7)
 1521 F9B5  28 09       	JR Z,KINITO
 1522 F9B7  CD F5F5     	CALL NBWI
 1523 F9BA  DD CB 07 8E 	RES 1,(IX+7)
 1524 F9BE  18 1F       	JR POPS
 1525                    
 1526 F9C0  CD F5D7     KINITO:	CALL NBW
 1527 F9C3  30 1A       	JR NC,POPS
 1528 F9C5  CD E468     IOERRO:	CALL CRO0
 1529 F9C8  2A B7C9     IOERR:	LD HL,(0B7C9H)
 1530 F9CB  CD F091     	CALL IRMOFF
 1531 F9CE  E9          	JP (HL)
 1532                    
 1533 F9CF  DD CB 07 4E CLOSEO:	BIT 1,(IX+7)
 1534 F9D3  F5          	PUSH AF
 1535 F9D4  C4 F5F5     	CALL NZ,NBWI
 1536 F9D7  F1          	POP AF
 1537 F9D8  CC F5D7     	CALL Z,NBW
 1538 F9DB  37          	SCF
 1539 F9DC  CD F5DB     	CALL NBW1
 1540 F9DF  C1          POPS:	POP BC
 1541 F9E0  D1          	POP DE
 1542 F9E1  CB 9B       	RES 3,E
 1543 F9E3  C9          	RET
 1544                    
 1545 F9E4  DD CB 07 CE INITO:	SET 1,(IX+7)
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  67
CAOSFV  ASM

 1546 F9E8  7E          	LD A,(HL)
 1547 F9E9  FE D5       	CP 'U'+80H
 1548 F9EB  20 04       	JR NZ,INITO1
 1549 F9ED  DD CB 07 EE 	SET 5,(IX+7)
 1550 F9F1  D5          INITO1:	PUSH DE
 1551 F9F2  11 B700     	LD DE,0B700H
 1552 F9F5  01 000B     	LD BC,11
 1553 F9F8  ED B0       	LDIR
 1554 F9FA  7B          	LD A,E
 1555 F9FB  D1          	POP DE
 1556 F9FC  18 A3       	JR INITO2
 1557                    
 1558 F9FE  CD E44D     IOERRI:	CALL CMBI
 1559 FA01  18 C5       	JR IOERR
 1560                    
 1561 FA03  5A          MBIN:	LD E,D		;UP 37 MBIN
 1562 FA04  D5          	PUSH DE
 1563 FA05  C5          	PUSH BC
 1564 FA06  CB 73       	BIT 6,E
 1565 FA08  20 65       	JR NZ,CLOSI
 1566 FA0A  CB 5B       	BIT 3,E
 1567 FA0C  20 17       	JR NZ,INII
 1568 FA0E  3A B7DC     	LD A,(0B7DCH)
 1569 FA11  B7          	OR A
 1570 FA12  6F          	LD L,A
 1571 FA13  CC F580     	CALL Z,NBR
 1572 FA16  38 E6       	JR C,IOERRI
 1573 FA18  26 B7       BYTHOL:	LD H,0B7H
 1574 FA1A  56          	LD D,(HL)
 1575 FA1B  7D          	LD A,L
 1576 FA1C  3C          	INC A
 1577 FA1D  E6 7F       	AND 7FH
 1578 FA1F  32 B7DC     	LD (0B7DCH),A
 1579 FA22  7A          	LD A,D
 1580 FA23  18 BA       POPS1:	JR POPS
 1581                    
 1582 FA25  DD CB 07 8E INII:	RES 1,(IX+7)
 1583 FA29  CD E419     	CALL IMBII
 1584 FA2C  CD F580     	CALL NBR
 1585 FA2F  38 CD       	JR C,IOERRI
 1586 FA31  11 B700     	LD DE,0B700H
 1587 FA34  06 0B       	LD B,11
 1588 FA36  1A          	LD A,(DE)
 1589 FA37  FE D5       	CP 'U'+80H
 1590 FA39  28 04       	JR Z,INII1
 1591 FA3B  DD CB 07 AE 	RES 5,(IX+7)
 1592 FA3F  C6 29       INII1:	ADD 29H
 1593 FA41  30 0D       	JR NC,INII2
 1594 FA43  1A          	LD A,(DE)
 1595 FA44  D6 04       	SUB 4
 1596 FA46  12          	LD (DE),A
 1597 FA47  13          	INC DE
 1598 FA48  12          	LD (DE),A
 1599 FA49  13          	INC DE
 1600 FA4A  12          	LD (DE),A
 1601 FA4B  1B          	DEC DE
 1602 FA4C  1B          	DEC DE
 1603 FA4D  32 035E     	LD (35EH),A
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  68
CAOSFV  ASM

 1604 FA50  1A          INII2:	LD A,(DE)
 1605 FA51  CD E354     	CALL CRT
 1606 FA54  BE          	CP (HL)
 1607 FA55  28 04       	JR Z,INII3
 1608 FA57  DD CB 07 CE 	SET 1,(IX+7)
 1609 FA5B  13          INII3:	INC DE
 1610 FA5C  23          	INC HL
 1611 FA5D  10 F1       	DJNZ INII2
 1612 FA5F  CD F324     	CALL CRLF
 1613 FA62  DD CB 07 4E 	BIT 1,(IX+7)
 1614 FA66  DD CB 07 8E 	RES 1,(IX+7)
 1615 FA6A  20 92       	JR NZ,IOERRI
 1616 FA6C  6B          	LD L,E
 1617 FA6D  18 A9       	JR BYTHOL
 1618                    
 1619 FA6F  CD E44D     CLOSI:	CALL CMBI
 1620 FA72  18 AF       	JR POPS1
 1621                    
 1622                   ;*** Sonstiges ***
 1623                    
 1624 FA74  7E          ZKOUT:	LD A,(HL)		;UP 45 ZKOUT
 1625 FA75  23          	INC HL
 1626 FA76  A7          	AND A
 1627 FA77  C8          	RET Z
 1628 FA78  CD F0AB     	CALL OCHR
 1629 FA7B  18 F7       	JR ZKOUT
 1630                    
 1631 FA7D  AF          SQR:	XOR A		;UP 40 SQR
 1632 FA7E  3D          	DEC A
 1633 FA7F  5F          	LD E,A
 1634 FA80  57          	LD D,A
 1635 FA81  3C          SQR1:	INC A
 1636 FA82  13          	INC DE
 1637 FA83  13          	INC DE
 1638 FA84  ED 52       	SBC HL,DE
 1639 FA86  F8          	RET M
 1640 FA87  18 F8       	JR SQR1
 1641                    
 1642 FA89  AF          MULT:	XOR A		;UP 41 MULT
 1643 FA8A  06 08       	LD B,8
 1644 FA8C  CB 1A       	RR D
 1645 FA8E  30 01       MU1:	JR NC,MU2
 1646 FA90  81          	ADD C
 1647 FA91  1F          MU2:	RRA
 1648 FA92  CB 1A       	RR D
 1649 FA94  10 F8       	DJNZ MU1
 1650 FA96  47          	LD B,A
 1651 FA97  7A          	LD A,D
 1652 FA98  C9          	RET
 1653                    
 1654 FA99  7F7F        	DEFW 7F7FH	;>MODUL<
 1655 FA9B  4D 4F 44 55 	DEFM 'MODUL'
 1656 FAA0  01          	DEFB 1
 1657                   	;
 1658 FAA1  D5          MODUL:	PUSH DE		;UP 47 MODUL
 1659 FAA2  6F          	LD L,A
 1660 FAA3  AF          MODUL1:	XOR A
 1661 FAA4  CD F0D7     	CALL MODU
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  69
CAOSFV  ASM

 1662 FAA7  7C          	LD A,H
 1663 FAA8  3C          	INC A
 1664 FAA9  C4 F0C9     	CALL NZ,MODOUT
 1665 FAAC  2C          	INC L
 1666 FAAD  20 F4       	JR NZ,MODUL1
 1667 FAAF  D1          	POP DE
 1668 FAB0  C9          	RET
 1669                    
 1670                   ;	fuer PWRON
 1671 FAB1  11 01EE     MODSW:	LD DE,UMODL	;IO-Modul
 1672 FAB4  CD FAC9     	CALL MOSW
 1673 FAB7  32 B7E1     	LD (0B7E1H),A	;IO-Modul 0/1?
 1674 FABA  11 43F6     MODSW1:	LD DE,43F6H	;64K-Modul
 1675 FABD  CD FAC9     	CALL MOSW
 1676 FAC0  1E F4       	LD E,0F4H	;16K-Modul
 1677 FAC2  B7          	OR A
 1678 FAC3  CC FAC9     	CALL Z,MOSW	;nur wenn kein 64K-Modul
 1679 FAC6  11 C1FB     	LD DE,0C1FBH	;8K ROM (EDAS, FORTH, TEXOR)
 1680                   ;Modul suchen und schalten
 1681                   ;PE:	E=Modulkennung
 1682                   ;	D=Sollzustand
 1683                   ;PA:	A=1 wenn gefunden
 1684                   ;	A=0 nicht gefunden
 1685 FAC9  01 0680     MOSW:	LD BC,680H	;ab Steckplatz 7
 1686 FACC  AF          MOSW1:	XOR A
 1687 FACD  04          	INC B		;Steckplatz+1
 1688 FACE  C8          	RET Z		;alles durchsucht
 1689 FACF  78          	LD A,B
 1690 FAD0  DD BE 04    	CP (IX+4)
 1691 FAD3  28 F7       	JR Z,MOSW1
 1692 FAD5  ED 78       	IN A,(C)
 1693 FAD7  BB          	CP E		;gesuchte Modulkennung?
 1694 FAD8  20 F2       	JR NZ,MOSW1
 1695 FADA  3E 01       	LD A,1
 1696 FADC  26 B8       MOSW2:	LD H,0B8H	;Steuerbytetabelle im IRM
 1697 FADE  68          	LD L,B		;Steckplatz
 1698 FADF  ED 51       	OUT (C),D	;Modul schalten und
 1699 FAE1  72          	LD (HL),D	;in Tabelle eintragen
 1700 FAE2  C9          	RET
 1701                    
 1702                   ;*** Druckertreiber (V24) ***
 1703                    
 1704 FAE3              PRZK:	;folgt TAB, 1.Byte Laenge
 1705 FAE3  E3          	EX (SP),HL
 1706 FAE4  46          	LD B,(HL)	;Laenge
 1707 FAE5  23          	INC HL
 1708 FAE6  7E          PRZK1:	LD A,(HL)	;Datenbyte
 1709 FAE7  23          	INC HL
 1710 FAE8  CD FB19     	CALL PRINT
 1711 FAEB  10 F9       	DJNZ PRZK1
 1712 FAED  E3          	EX (SP),HL
 1713 FAEE  C9          	RET
 1714                    
 1715 FAEF  F5          ECHO:	PUSH AF
 1716 FAF0  E5          	PUSH HL
 1717 FAF1  21 B7A2     	LD HL,0B7A2H
 1718 FAF4  CB 66       	BIT 4,(HL)
 1719 FAF6  CD E354     	CALL CRT
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  70
CAOSFV  ASM

 1720 FAF9  20 1A       	JR NZ,ECH4
 1721 FAFB  CB 5E       	BIT 3,(HL)
 1722 FAFD  28 0E       	JR Z,ECH2
 1723 FAFF  E6 7F       	AND 7FH
 1724 FB01  FE 20       	CP 20H
 1725 FB03  38 04       	JR C,ECH1
 1726 FB05  FE 7F       	CP 7FH
 1727 FB07  20 0C       	JR NZ,ECH4
 1728 FB09  3E 5F       ECH1:	LD A,'_'
 1729 FB0B  18 06       	JR ECH3
 1730                    
 1731 FB0D  FE 09       ECH2:	CP 9		;CUR
 1732 FB0F  20 02       	JR NZ,ECH3
 1733 FB11  3E 20       	LD A,' '
 1734 FB13  FE 0F       ECH3:	CP 0FH		;SH+CLR
 1735 FB15  E1          ECH4:	POP HL
 1736 FB16  28 17       	JR Z,PRT	;POP+RET
 1737 FB18  ED          	DEFB 0EDH	;NOP-BYTE
 1738                   	;
 1739 FB19  F5          PRINT:	PUSH AF
 1740 FB1A  00          	NOP		;Freihalte-Bytes
 1741 FB1B  00          	NOP		; f. CENTR.Vers.
 1742                   ;	OUT (4),A	; M001 PIO Port A (Daten)
 1743 FB1C  CD F274     WT:	CALL BRKT
 1744 FB1F  38 0E       	JR C,PRT
 1745 FB21  DB 0A       	IN A,(SIO+2)
 1746                   ;	IN A,(5)	; M001 PIO Port B (Steuersignale)
 1747 FB23  CB 57       	BIT 2,A
 1748 FB25  28 F5       	JR Z,WT
 1749                   ;	JR NZ,WT	; Centr. BUSY?
 1750 FB27  F1          	POP AF
 1751 FB28  D3 08       	OUT (SIO),A
 1752 FB2A  C9          	RET
 1753 FB2B  ED 44       	NEG
 1754 FB2D  ED 44       	NEG
 1755 FB2F  F1          PRT:	POP AF
 1756 FB30  C9          	RET
 1757                    
 1758 FB31              SHCLX:	;Reaktion auf SH+CLR
 1759 FB31  3A B7E1     	LD A,(0B7E1H)
 1760 FB34  3D          	DEC A
 1761 FB35  20 24       	JR NZ,HCPX	;IO-Modul vorhanden
 1762 FB37  2A B7B9     	LD HL,(0B7B9H)	;OUTAB
 1763 FB3A  7E          	LD A,(HL)
 1764 FB3B  B7          	OR A
 1765 FB3C  28 08       	JR Z,SHX1
 1766 FB3E  21 FB19     	LD HL,PRINT
 1767 FB41  01 F008     	LD BC,ZEI0
 1768 FB44  18 06       	JR SHX2
 1769 FB46  21 FAEF     SHX1:	LD HL,ECHO
 1770 FB49  01 F00B     	LD BC,ZEI2
 1771 FB4C  22 B7BE     SHX2:	LD (0B7BEH),HL	;UOUT1+1
 1772 FB4F  ED 43 B7B9  	LD (0B7B9H),BC	;OUTAB
 1773 FB53  C9          	RET
 1774                    
 1775 FB54  3A B7E1     ESC6:	LD A,(0B7E1H)	;HCOPY
 1776 FB57  B7          	OR A
 1777 FB58  C8          	RET Z		;kein IO-Modul
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  71
CAOSFV  ASM

 1778 FB59  18 03       	JR HCPX0
 1779 FB5B  FE 02       HCPX:	CP 2
 1780 FB5D  D0          	RET NC
 1781 FB5E  D5          HCPX0:	PUSH DE
 1782 FB5F  21 0000     	LD HL,0
 1783 FB62  CD FAE3     HCPX1:	CALL PRZK
 1784 FB65  09          	DEFB 9
 1785 FB66  1B          	DEFB 1BH
 1786 FB67  4A          	DEFB 'J'	;Vorschub 1/9"
 1787 FB68  18          	DEFB 24
 1788 FB69  0D          	DEFB 0DH
 1789 FB6A  1B          	DEFB 1BH
 1790 FB6B  2A          	DEFB '*'	;Plottergrafik
 1791 FB6C  05          	DEFB 5
 1792 FB6D  0140        	DEFW 140H
 1793 FB6F  E5          HCPX2:	PUSH HL
 1794 FB70  CD E048     	CALL PADR
 1795 FB73  CD FBA7     	CALL RDX
 1796 FB76  0E 08       	LD C,8
 1797 FB78  21 B78E     HCPX3:	LD HL,0B78EH	;ARG7
 1798 FB7B  06 08       	LD B,8
 1799 FB7D  CB 16       HCPX4:	RL (HL)
 1800 FB7F  2C          	INC L
 1801 FB80  17          	RLA
 1802 FB81  10 FA       	DJNZ HCPX4
 1803 FB83  2E A2       	LD L,0A2H
 1804 FB85  CB 56       	BIT 2,(HL)
 1805 FB87  28 01       	JR Z,HCPX5
 1806 FB89  2F          	CPL		;negiert
 1807 FB8A  CD FB19     HCPX5:	CALL PRINT
 1808 FB8D  0D          	DEC C
 1809 FB8E  20 E8       	JR NZ,HCPX3
 1810 FB90  E1          	POP HL
 1811 FB91  2C          	INC L
 1812 FB92  7D          	LD A,L
 1813 FB93  FE 28       	CP 40
 1814 FB95  20 D8       	JR NZ,HCPX2
 1815 FB97  2E 00       	LD L,0
 1816 FB99  7C          	LD A,H
 1817 FB9A  C6 08       	ADD 8
 1818 FB9C  67          	LD H,A
 1819 FB9D  30 C3       	JR NC,HCPX1
 1820 FB9F  CD FAE3     	CALL PRZK
 1821 FBA2  02          	DEFB 2
 1822 FBA3  0D0A        	DEFW 0D0AH
 1823 FBA5  D1          	POP DE
 1824 FBA6  C9          	RET
 1825                    
 1826 FBA7              RDX:	;liest Zeichen nach ARG7
 1827 FBA7  11 B78E     	LD DE,0B78EH
 1828 FBAA  01 0080     	LD BC,80H
 1829 FBAD  E5          	PUSH HL
 1830 FBAE  CD FBB4     	CALL RDX1
 1831 FBB1  E1          	POP HL
 1832 FBB2  CB ED       	SET 5,L
 1833 FBB4  3E 04       RDX1:	LD A,4
 1834 FBB6  ED A0       RDX2:	LDI
 1835 FBB8  09          	ADD HL,BC
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  72
CAOSFV  ASM

 1836 FBB9  03          	INC BC
 1837 FBBA  3D          	DEC A
 1838 FBBB  20 F9       	JR NZ,RDX2
 1839 FBBD  C9          	RET
 1840                    
 1841 FBBE  7F7F        	DEFW 7F7FH	;>V24><
 1842 FBC0  56 32 34    	DEFM 'V24'
 1843 FBC3  01          	DEFB 1		; als Parameter 0 oder 1 eingeben
 1844                   	;		; (fuer V.24-Modul nutzen oder nicht)
 1845 FBC4  7D          	LD A,L
 1846 FBC5  32 B7E1     	LD (0B7E1H),A	;IO-Modul
 1847 FBC8  C9          	RET
 1848                    
 1849 FBC9  7F7F        	DEFW 7F7FH	;>SEND<
 1850 FBCB  53 45 4E 44 	DEFM 'SEND'
 1851 FBCF  01          	DEFB 1
 1852                   	;
 1853 FBD0  C8          	RET Z		;kein Argument eingegeben
 1854 FBD1  47          	LD B,A		;Anzahl Argumente
 1855 FBD2  21 B782     	LD HL,0B782H	;ARG1
 1856 FBD5  7E          SND1:	LD A,(HL)
 1857 FBD6  23          	INC HL
 1858 FBD7  23          	INC HL
 1859 FBD8  CD FB19     	CALL PRINT
 1860 FBDB  10 F8       	DJNZ SND1
 1861 FBDD  C9          	RET
 1862                    
 1863 FBDE  7F7F        	DEFW 7F7FH	;>USER<
 1864 FBE0  55 53 45 52 	DEFM 'USER'
 1865 FBE4  01          	DEFB 1
 1866                   	;
 1867 FBE5  FE 03       	CP 3
 1868 FBE7  CA F77A     	JP Z,JPLD
 1869 FBEA  3D          	DEC A
 1870 FBEB  C2 F31A     	JP NZ,ERRM
 1871 FBEE  E9          	JP (HL)
 1872                    
 1873 FBEF  7F7F        	DEFW 7F7FH
 1874 FBF1  53 45 45 4B 	DEFM 'SEEK'
 1875 FBF5  01          	DEFB 1
 1876                    
 1877 FBF6  FE 03       	CP	3
 1878 FBF8  D8          	RET	C
 1879 FBF9  EB          	EX	DE,HL
 1880 FBFA  ED 52       	SBC	HL,DE
 1881 FBFC  44          	LD	B,H
 1882 FBFD  4D          	LD	C,L
 1883 FBFE  EB          	EX	DE,HL
 1884 FBFF  11 B786     SCHL	LD	DE,0B786H	;ARG3
 1885 FC02  1A          	LD	A,(DE)
 1886 FC03  ED B1       	CPIR
 1887 FC05  E2 F324     	JP	PO,CRLF
 1888 FC08  C5          	PUSH	BC
 1889 FC09  E5          	PUSH	HL
 1890 FC0A  3A B781     	LD	A,(0B781H)
 1891 FC0D  D6 03       	SUB	3
 1892 FC0F  47          	LD	B,A
 1893 FC10  28 09       	JR	Z,GEF
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  73
CAOSFV  ASM

 1894 FC12  13          NBYT	INC	DE
 1895 FC13  13          	INC	DE
 1896 FC14  1A          	LD	A,(DE)
 1897 FC15  BE          	CP	(HL)
 1898 FC16  23          	INC	HL
 1899 FC17  20 10       	JR	NZ,NGEF
 1900 FC19  10 F7       	DJNZ	NBYT
 1901 FC1B  E1          GEF	POP	HL
 1902 FC1C  C1          	POP	BC
 1903 FC1D  2B          	DEC	HL
 1904 FC1E  CD F30D     	CALL	HLHX
 1905 FC21  23          	INC	HL
 1906 FC22  CD F274     	CALL	BRKT
 1907 FC25  DA F324     	JP	C,CRLF
 1908 FC28  11          	DEFB	11H
 1909 FC29  E1          NGEF	POP	HL
 1910 FC2A  C1          	POP	BC
 1911 FC2B  18 D2       	JR	SCHL
 1912                    
 1913                   ;*** Tabellen ***
 1914                    
 1915 FC2D  E1D4        ESCTAB:	DEFW ASC5	;ESC0	Tabulatorschritt
 1916 FC2F  E410        	DEFW ESC1	;ESC1
 1917 FC31  F61D        	DEFW ESC2	;ESC2
 1918 FC33  E36B        	DEFW ESC3	;ESC3
 1919 FC35  E368        	DEFW ESC4	;ESC4
 1920 FC37  FAA1        	DEFW MODUL	;ESC5	Auflisten aller Module
 1921 FC39  FB54        	DEFW ESC6	;ESC6
 1922 FC3B  E369        	DEFW ESC7	;ESC7
 1923 FC3D  E32E        	DEFW ASC6	;ESC8
 1924 FC3F  E36A        	DEFW ESCF	;ESC9
 1925 FC41  E560        	DEFW MOT	;ESCA
 1926                    
 1927                    
 1928 FC43  E354        SUTAB:	DEFW CRT	;0
 1929 FC45  E49B        	DEFW MBOT	;1
 1930 FC47  B7BD        	DEFW 0B7BDH	;UOUT 1
 1931 FC49  B7C3        	DEFW 0B7C3H	;UOUT 2
 1932 FC4B  F288        	DEFW KBD	;4
 1933 FC4D  E4FF        	DEFW MBI	;5
 1934 FC4F  B7C0        	DEFW 0B7C0H	;USIN 1
 1935 FC51  B7C6        	DEFW 0B7C6H	;USIN 2
 1936 FC53  E48D        	DEFW ISRO	;8
 1937 FC55  E461        	DEFW CSRO	;9
 1938 FC57  E4FC        	DEFW ISRI	;0A
 1939 FC59  F534        	DEFW CSRI	;0B
 1940 FC5B  E3FC        	DEFW KBDS	;0C
 1941 FC5D  F17E        	DEFW BYE	;0D
 1942 FC5F  E407        	DEFW KBDZ	;0E
 1943 FC61  F605        	DEFW COLOR	;0F
 1944 FC63  F4A2        	DEFW LOAD	;10
 1945 FC65  F495        	DEFW VERIFY	;11
 1946 FC67  F1E8        	DEFW LOOP	;12
 1947 FC69  F257        	DEFW NORM	;13
 1948 FC6B  E313        	DEFW WAIT	;14
 1949 FC6D  F473        	DEFW LARG	;15
 1950 FC6F  F0A2        	DEFW INTB	;16
 1951 FC71  F2E6        	DEFW INLIN	;17
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  74
CAOSFV  ASM

 1952 FC73  F34F        	DEFW RHEX	;18
 1953 FC75  F31A        	DEFW ERRM	;19
 1954 FC77  F30D        	DEFW HLHX	;1A
 1955 FC79  F346        	DEFW HLDE	;1B
 1956 FC7B  F333        	DEFW AHEX	;1C
 1957 FC7D  F219        	DEFW ZSUCH	;1D
 1958 FC7F  F25D        	DEFW SOUT	;1E
 1959 FC81  F26A        	DEFW SIN	;1F
 1960 FC83  F25A        	DEFW NOUT	;20
 1961 FC85  F267        	DEFW NIN	;21
 1962 FC87  F384        	DEFW GARG	;22
 1963 FC89  F251        	DEFW OSTR	;23
 1964 FC8B  F0AB        	DEFW OCHR	;24
 1965 FC8D  F807        	DEFW CUCP	;25
 1966 FC8F  F0D7        	DEFW MODU	;26
 1967 FC91  F120        	DEFW JUMP	;27
 1968 FC93  E344        	DEFW LDMA	;28
 1969 FC95  E346        	DEFW LDAM	;29
 1970 FC97  F274        	DEFW BRKT	;2A
 1971 FC99  F315        	DEFW SPAC	;2B
 1972 FC9B  F324        	DEFW CRLF	;2C
 1973 FC9D  F32B        	DEFW HOME	;2D
 1974 FC9F  F68B        	DEFW MODI	;2E
 1975 FCA1  F837        	DEFW PUDE	;2F
 1976 FCA3  F838        	DEFW PUSE	;30
 1977 FCA5  F3BA        	DEFW SIXD	;31
 1978 FCA7  E0B6        	DEFW DABR	;32
 1979 FCA9  E0AA        	DEFW TCIF	;33
 1980 FCAB  E048        	DEFW PADR	;34
 1981 FCAD  E5BE        	DEFW TON	;35
 1982 FCAF  F43A        	DEFW SAVE	;36
 1983 FCB1  FA03        	DEFW MBIN	;37
 1984 FCB3  F996        	DEFW MBOUT	;38
 1985 FCB5  F790        	DEFW KEY	;39
 1986 FCB7  F7ED        	DEFW KEYLI	;3A
 1987 FCB9  F656        	DEFW DISP	;3B
 1988 FCBB  F721        	DEFW WININ	;3C
 1989 FCBD  F73D        	DEFW WINAK	;3D
 1990 FCBF  F862        	DEFW LINE	;3E
 1991 FCC1  F8CD        	DEFW CIRCLE	;3F
 1992 FCC3  FA7D        	DEFW SQR	;40
 1993 FCC5  FA89        	DEFW MULT	;41
 1994 FCC7  F63F        	DEFW CSTBT	;42
 1995 FCC9  F40A        	DEFW INIEA	;43
 1996 FCCB  F415        	DEFW INIME	;44
 1997 FCCD  FA74        	DEFW ZKOUT	;45
 1998 FCCF  F1A7        	DEFW MENU	;46
 1999                    
 2000                    
 2001 FCD1  E353        CRTTAB:	DEFW DUMMY
 2002 FCD3  E21C        	DEFW CLEAR
 2003 FCD5  E2E6        	DEFW DELLN
 2004 FCD7  E353        	DEFW DUMMY	;BRK
 2005 FCD9  E353        	DEFW DUMMY
 2006 FCDB  E1D4        	DEFW ASC5	;Tab
 2007 FCDD  E32E        	DEFW ASC6	;Color
 2008 FCDF  E309        	DEFW BEL
 2009 FCE1  E1FB        	DEFW CUL
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  75
CAOSFV  ASM

 2010 FCE3  E1E4        	DEFW CUR
 2011 FCE5  E1ED        	DEFW CUD
 2012 FCE7  E20B        	DEFW CUU
 2013 FCE9  E292        	DEFW CLS
 2014 FCEB  E2A2        	DEFW CRN
 2015 FCED  E353        	DEFW DUMMY
 2016 FCEF  E1F7        	DEFW HCOPY
 2017 FCF1  E2A0        	DEFW HOMEPG
 2018 FCF3  E210        	DEFW PAGE
 2019 FCF5  E217        	DEFW SCROL
 2020 FCF7  E353        	DEFW DUMMY	;STOP
 2021 FCF9  E34B        	DEFW CLICK
 2022 FCFB  E353        	DEFW DUMMY
 2023 FCFD  E348        	DEFW SHLOCK
 2024 FCFF  E353        	DEFW DUMMY
 2025 FD01  E205        	DEFW CEL
 2026 FD03  E2A2        	DEFW CRN	;CCR
 2027 FD05  E242        	DEFW INS
 2028 FD07  E367        	DEFW ESC
 2029 FD09  E353        	DEFW DUMMY	;LIST
 2030 FD0B  E353        	DEFW DUMMY	;RUN
 2031 FD0D  E1EB        	DEFW CRNL	;CONT
 2032 FD0F  E21F        	DEFW DEL
 2033                    
 2034                    
 2035 FD11  57 77       KTAB:	DEFM 'Ww'
 2036 FD13  41 61       	DEFM 'Aa'
 2037 FD15  32 22       	DEFM '2"'
 2038 FD17  1908        	DEFW 1908H
 2039 FD19  0C10        	DEFW 0C10H
 2040 FD1B  2D 3D       	DEFM '-='
 2041 FD1D  F8F2        	DEFW 0F8F2H
 2042 FD1F  59 79       	DEFM 'Yy'
 2043 FD21  45 65       	DEFM 'Ee'
 2044 FD23  53 73       	DEFM 'Ss'
 2045 FD25  33 23       	DEFM '3#'
 2046 FD27  5E 5D       	DEFM '^]'
 2047 FD29  0F01        	DEFW 0F01H
 2048 FD2B  3A 2A       	DEFM ':*'
 2049 FD2D  F9F3        	DEFW 0F9F3H
 2050 FD2F  58 78       	DEFM 'Xx'
 2051 FD31  54 74       	DEFM 'Tt'
 2052 FD33  46 66       	DEFM 'Ff'
 2053 FD35  35 25       	DEFM '5%'
 2054 FD37  50 70       	DEFM 'Pp'
 2055 FD39  021F        	DEFW 21FH
 2056 FD3B  4030        	DEFW 4030H
 2057 FD3D  FBF5        	DEFW 0FBF5H
 2058 FD3F  56 76       	DEFM 'Vv'
 2059 FD41  55 75       	DEFM 'Uu'
 2060 FD43  48 68       	DEFM 'Hh'
 2061 FD45  2737        	DEFW 2737H
 2062 FD47  4F 6F       	DEFM 'Oo'
 2063 FD49  141A        	DEFW 141AH
 2064 FD4B  39 29       	DEFM '9)'
 2065 FD4D  0303        	DEFW 303H
 2066 FD4F  4E 6E       	DEFM 'Nn'
 2067 FD51  49 69       	DEFM 'Ii'
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  76
CAOSFV  ASM

 2068 FD53  4A 6A       	DEFM 'Jj'
 2069 FD55  38 28       	DEFM '8('
 2070 FD57  20 5B       	DEFM ' ['
 2071 FD59  4B 6B       	DEFM 'Kk'
 2072 FD5B  2C 3C       	DEFM ',<'
 2073 FD5D  1B13        	DEFW 1B13H	;STOP/ESC
 2074 FD5F  4D 6D       	DEFM 'Mm'
 2075 FD61  5A 7A       	DEFM 'Zz'
 2076 FD63  47 67       	DEFM 'Gg'
 2077 FD65  36 26       	DEFM '6&'
 2078 FD67  051B        	DEFW 51BH	;Taste nicht vorhanden
 2079 FD69  4C 6C       	DEFM 'Ll'
 2080 FD6B  2E 3E       	DEFM '.>'
 2081 FD6D  FCF6        	DEFW 0FCF6H
 2082 FD6F  42 62       	DEFM 'Bb'
 2083 FD71  52 72       	DEFM 'Rr'
 2084 FD73  44 64       	DEFM 'Dd'
 2085 FD75  34 24       	DEFM '4$'
 2086 FD77  5F 5C       	DEFM '_\'
 2087 FD79  2B 3B       	DEFM '+;'
 2088 FD7B  2F 3F       	DEFM '/?'
 2089 FD7D  FAF4        	DEFW 0FAF4H
 2090 FD7F  43 63       	DEFM 'Cc'
 2091 FD81  51 71       	DEFM 'Qq'
 2092 FD83  1616        	DEFW 1616H
 2093 FD85  31 21       	DEFM '1!'
 2094 FD87  120A        	DEFW 120AH
 2095 FD89  110B        	DEFW 110BH
 2096 FD8B  1809        	DEFW 1809H
 2097 FD8D  F7F1        	DEFW 0F7F1H
 2098 FD8F  0D0D        	DEFW 0D0DH
 2099                    
 2100                    
 2101 FD91  E576        ISRTAB:	DEFW ISRPA
 2102 FD93  E37D        	DEFW ISRPB
 2103 FD95  E585        	DEFW INTEND
 2104 FD97  E566        	DEFW ISRC1
 2105 FD99  E5B5        	DEFW ISRC2
 2106 FD9B  E371        	DEFW ISRC3
 2107                    
 2108                    
 2109 FD9D              KCTAB0:
 2110 FD9D  88          	DEFB 88H	;PIO A D
 2111 FD9E  01          	DEFB 1		;Anz.
 2112 FD9F  1E          	DEFB 1EH	;/NMI=H! (CAOS-E aus)
 2113                   	;
 2114 FDA0  0C          	DEFB CTC	;SIO-CTC
 2115 FDA1  02          	DEFB 2
 2116 FDA2  47          	DEFB 47H	;9600 Bd
 2117 FDA3  5B          	DEFB 5BH
 2118                   	;
 2119 FDA4  0A          	DEFB SIO+2	;Drucker SIO
 2120 FDA5  06          	DEFB 6		;Takt *1
 2121 FDA6  04          	DEFB 4		;8 Datenbits
 2122 FDA7  04          	DEFB 4		;1 Stopbit
 2123 FDA8  03          	DEFB 3		;keine Parit{t
 2124 FDA9  20          	DEFB 20H
 2125 FDAA  05          	DEFB 5
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  77
CAOSFV  ASM

 2126 FDAB  6A          	DEFB 6AH
 2127 FDAC              KCTAB1:
 2128 FDAC  8A          	DEFB 8AH	;PIO A C
 2129 FDAD  03          	DEFB 3		;Anz.
 2130 FDAE  E4          	DEFB 0E4H	;I-Vektor
 2131 FDAF  0F          	DEFB 0FH	;Byteout
 2132 FDB0  03          	DEFB 3		;DI
 2133                   	;
 2134 FDB1  8B          	DEFB 8BH	;PIO B C
 2135 FDB2  03          	DEFB 3		;Anz.
 2136 FDB3  E6          	DEFB 0E6H	;I-Vektor
 2137 FDB4  0F          	DEFB 0FH	;Byteout
 2138 FDB5  83          	DEFB 83H	;EI
 2139                   	;
 2140 FDB6  8C          	DEFB 8CH	;CTC 0
 2141 FDB7  01          	DEFB 1		;Anz.
 2142 FDB8  E8          	DEFB 0E8H	;I-Vektor
 2143                   	;
 2144 FDB9  8E          	DEFB 8EH	;CTC 2
 2145 FDBA  02          	DEFB 2		;Anz.
 2146 FDBB  47          	DEFB 47H	;Zaehler,DI
 2147 FDBC  0C          	DEFB 0CH	;Blink-ZK
 2148                    
 2149                    
 2150 FDBD  FB31        SYSTAB:	DEFW SHCLX	;HCADR
 2151 FDBF  00          	DEFB 0		;WINNR
 2152 FDC0  0000        	DEFW 0		;WINON
 2153 FDC2  2028        	DEFW 2028H	;WINLG
 2154 FDC4  0000        	DEFW 0		;CURSO
 2155 FDC6  00          	DEFB 0		;STBT
 2156 FDC7  39          	DEFB 39H	;COLOR
 2157 FDC8  E2A5        	DEFW SCRLPG	;WEND
 2158 FDCA  EE00        	DEFW 0EE00H	;CCTL 0
 2159 FDCC  FE00        	DEFW 0FE00H	;CCTL 1
 2160 FDCE  EE00        	DEFW 0EE00H	;CCTL 2
 2161 FDD0  FE00        	DEFW 0FE00H	;CCLT 3
 2162 FDD2  01C4        	DEFW 01C4H	;SYSP
 2163 FDD4  FC43        	DEFW SUTAB	;SUTAB
 2164 FDD6  FCD1        	DEFW CRTTAB	;CTAB
 2165 FDD8  ED 79       	OUT (C),A	;JUMP IN NEUES
 2166 FDDA  C3 F012     	JP 0F012H	; CAOS
 2167 FDDD  F008        	DEFW ZEI0	;OUTAB
 2168 FDDF  F00E        	DEFW ZEI4	;INTAB
 2169 FDE1  C3 FB19     	JP PRINT	;USER OUT 2
 2170 FDE4  C3 E353     	JP DUMMY	;USER  IN 2
 2171 FDE7  C3 E353     	JP DUMMY	;USER OUT 3
 2172 FDEA  C3 E353     	JP DUMMY	;USER  IN 3
 2173 FDED  DC82        	DEFW 0DC82H	;ZEIG. IO ERROR
 2174 FDEF              STBE1:	;
 2175 FDEF  FD          	DEFB 0FDH	;H-Teil Bittab
 2176 FDF0  25          	DEFM '%'	;Prompter
 2177 FDF1  00A0        	DEFW 0A0H	;Vortonl{nge
 2178 FDF3  00          	DEFB 0		;Byte-Z{hler
 2179 FDF4  FC2D        	DEFW ESCTAB
 2180 FDF6  0B          	DEFB 11		;L{nge ESC-TAB.
 2181 FDF7  05          	DEFB 5		;COUNT
 2182 FDF8              STBE2:	;
 2183                   	;
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  78
CAOSFV  ASM

 2184         0032      STBL1	EQU STBE1-SYSTAB
 2185         0009      STBL2	EQU STBE2-STBE1
 2186                    
 2187                    
 2188 FDF8    0000      	DS 0FDF8h-$,0FFH
 2189 FDF8  80          BITTAB:	DEFB 80H
 2190 FDF9  40          	DEFB 40H
 2191 FDFA  20          	DEFB 20H
 2192 FDFB  10          	DEFB 10H
 2193 FDFC  08          	DEFB 08H
 2194 FDFD  04          	DEFB 04H
 2195 FDFE  02          	DEFB 02H
 2196 FDFF  01          	DEFB 01H
 2197                   ;
 2198                   ;
 2199                   ;	END
   16                   include zsklein.inc
    1                   ;*****************************************
    2                   ;**	CAOS 4.5 Zeichensatz Klein	**
    3                   ;**					**
    4                   ;**	Adresse:  FE00h bis FFFFh	**
    5                   ;**					**
    6                   ;**	letzte Aenderung: 13.05.2010	**
    7                   ;*****************************************
    8                   
    9 FE00  00 00 00 00 	DB	000H, 000H, 000H, 000H, 000H, 000H, 081H, 0FFH	; 00H Dummy
   10 FE08  00 00 22 72 	DB	000H, 000H, 022H, 072H, 022H, 03EH, 000H, 000H	; 01H Backspace
   11 FE10  00 00 12 32 	DB	000H, 000H, 012H, 032H, 07EH, 032H, 012H, 000H	; 02H Zeile loeschen
   12 FE18  7E 81 B9 A5 	DB	07EH, 081H, 0B9H, 0A5H, 0B9H, 0A5H, 0B9H, 081H	; 03H Break
   13 FE20  55 FF 55 FF 	DB	055H, 0FFH, 055H, 0FFH, 055H, 0FFH, 055H, 0FFH	; 04H
   14 FE28  AA AA AA AA 	DB	0AAH, 0AAH, 0AAH, 0AAH, 0AAH, 0AAH, 0AAH, 0AAH	; 05H
   15 FE30  FF 00 FF 00 	DB	0FFH, 000H, 0FFH, 000H, 0FFH, 000H, 0FFH, 000H	; 06H
   16 FE38  00 00 3C 42 	DB	000H, 000H, 03CH, 042H, 042H, 07EH, 000H, 000H	; 07H Beep
   17 FE40  00 10 30 7E 	DB	000H, 010H, 030H, 07EH, 030H, 010H, 000H, 000H	; 08H Cursor links
   18 FE48  00 08 0C 7E 	DB	000H, 008H, 00CH, 07EH, 00CH, 008H, 000H, 000H	; 09H Cursor rechts
   19 FE50  00 10 10 10 	DB	000H, 010H, 010H, 010H, 07CH, 038H, 010H, 000H	; 0AH Cursor unten
   20 FE58  08 1C 3E 08 	DB	008H, 01CH, 03EH, 008H, 008H, 008H, 008H, 000H	; 0BH Cursor oben
   21 FE60  38 30 28 08 	DB	038H, 030H, 028H, 008H, 008H, 008H, 03EH, 000H	; 0CH Bildschirm loeschen
   22 FE68  00 00 12 32 	DB	000H, 000H, 012H, 032H, 07EH, 030H, 010H, 000H	; 0DH Enter
   23 FE70  AA 55 AA 55 	DB	0AAH, 055H, 0AAH, 055H, 0AAH, 055H, 0AAH, 055H	; 0EH
   24 FE78  3E 7C 7C 3E 	DB	03EH, 07CH, 07CH, 03EH, 03EH, 07CH, 0F8H, 0F8H	; 0FH Hardcopy
   25                   
   26 FE80  38 30 28 04 	DB	038H, 030H, 028H, 004H, 004H, 004H, 004H, 000H	; 10H Cursor Home
   27 FE88  7F 08 1C 3E 	DB	07FH, 008H, 01CH, 03EH, 008H, 008H, 008H, 000H	; 11H Page-Modus
   28 FE90  00 08 08 08 	DB	000H, 008H, 008H, 008H, 03EH, 01CH, 008H, 07FH	; 12H Scroll-Modus
   29 FE98  7E 81 9D A1 	DB	07EH, 081H, 09DH, 0A1H, 0B9H, 085H, 085H, 0B9H	; 13H Stop
   30 FEA0  00 3C 42 5A 	DB	000H, 03CH, 042H, 05AH, 05AH, 042H, 03CH, 000H	; 14H Tastenclick
   31 FEA8  88 44 22 11 	DB	088H, 044H, 022H, 011H, 088H, 044H, 022H, 011H	; 15H
   32 FEB0  00 7F 22 72 	DB	000H, 07FH, 022H, 072H, 027H, 022H, 07FH, 000H	; 16H Shift-Lock
   33 FEB8  11 22 44 88 	DB	011H, 022H, 044H, 088H, 011H, 022H, 044H, 088H	; 17H
   34 FEC0  00 01 09 0D 	DB	000H, 001H, 009H, 00DH, 07FH, 00DH, 009H, 001H	; 18H Cursor an Zeilenende
   35 FEC8  00 80 90 B0 	DB	000H, 080H, 090H, 0B0H, 0FEH, 0B0H, 090H, 080H	; 19H Cursor an Zeilenanfang
   36 FED0  00 08 7C 06 	DB	000H, 008H, 07CH, 006H, 07CH, 008H, 000H, 000H	; 1AH INS
   37 FED8  CC CC 33 33 	DB	0CCH, 0CCH, 033H, 033H, 0CCH, 0CCH, 033H, 033H	; 1BH ESC
   38 FEE0  7E 81 A1 A1 	DB	07EH, 081H, 0A1H, 0A1H, 0A1H, 0A1H, 0BDH, 081H	; 1CH List
   39 FEE8  7E 81 B9 A5 	DB	07EH, 081H, 0B9H, 0A5H, 0B9H, 0A5H, 0A5H, 081H	; 1DH Run
   40 FEF0  7E 81 99 A1 	DB	07EH, 081H, 099H, 0A1H, 0A1H, 0A1H, 099H, 081H	; 1EH Cont
   41 FEF8  00 10 3E 60 	DB	000H, 010H, 03EH, 060H, 03EH, 010H, 000H, 000H	; 1FH DEL
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  79
ZSKLEIN INC

   42                   
   43 FF00  3C 42 99 A1 	DB	03CH, 042H, 099H, 0A1H, 0A1H, 099H, 042H, 03CH	; 60H (c)
   44 FF08  00 00 78 0C 	DB	000H, 000H, 078H, 00CH, 07CH, 0CCH, 076H, 000H	; 61H a
   45 FF10  E0 60 7C 66 	DB	0E0H, 060H, 07CH, 066H, 066H, 066H, 0DCH, 000H	; 62H b
   46 FF18  00 00 78 CC 	DB	000H, 000H, 078H, 0CCH, 0C0H, 0CCH, 078H, 000H	; 63H c
   47 FF20  1C 0C 7C CC 	DB	01CH, 00CH, 07CH, 0CCH, 0CCH, 0CCH, 076H, 000H	; 64H d
   48 FF28  00 00 78 CC 	DB	000H, 000H, 078H, 0CCH, 0FCH, 0C0H, 078H, 000H	; 65H e
   49 FF30  38 6C 60 F0 	DB	038H, 06CH, 060H, 0F0H, 060H, 060H, 0F0H, 000H	; 66H f
   50 FF38  00 00 76 CC 	DB	000H, 000H, 076H, 0CCH, 0CCH, 07CH, 00CH, 0F8H	; 67H g
   51 FF40  E0 60 6C 76 	DB	0E0H, 060H, 06CH, 076H, 066H, 066H, 0E6H, 000H	; 68H h
   52 FF48  30 00 70 30 	DB	030H, 000H, 070H, 030H, 030H, 030H, 0FCH, 000H	; 69H i
   53 FF50  0C 00 1C 0C 	DB	00CH, 000H, 01CH, 00CH, 00CH, 0CCH, 0CCH, 078H	; 6AH j
   54 FF58  E0 60 66 6C 	DB	0E0H, 060H, 066H, 06CH, 078H, 06CH, 0E6H, 000H	; 6BH k
   55 FF60  70 30 30 30 	DB	070H, 030H, 030H, 030H, 030H, 030H, 0FCH, 000H	; 6CH l
   56 FF68  00 00 CC FE 	DB	000H, 000H, 0CCH, 0FEH, 0FEH, 0D6H, 0C6H, 000H	; 6DH m
   57 FF70  00 00 F8 CC 	DB	000H, 000H, 0F8H, 0CCH, 0CCH, 0CCH, 0CCH, 000H	; 6EH n
   58 FF78  00 00 78 CC 	DB	000H, 000H, 078H, 0CCH, 0CCH, 0CCH, 078H, 000H	; 6FH o
   59                   
   60 FF80  00 00 DC 66 	DB	000H, 000H, 0DCH, 066H, 066H, 07CH, 060H, 0F0H	; 70H p
   61 FF88  00 00 76 CC 	DB	000H, 000H, 076H, 0CCH, 0CCH, 07CH, 00CH, 01EH	; 71H q
   62 FF90  00 00 DC 76 	DB	000H, 000H, 0DCH, 076H, 066H, 060H, 0F0H, 000H	; 72H r
   63 FF98  00 00 7C C0 	DB	000H, 000H, 07CH, 0C0H, 078H, 00CH, 0F8H, 000H	; 73H s
   64 FFA0  10 30 7C 30 	DB	010H, 030H, 07CH, 030H, 030H, 034H, 018H, 000H	; 74H t
   65 FFA8  00 00 CC CC 	DB	000H, 000H, 0CCH, 0CCH, 0CCH, 0CCH, 076H, 000H	; 75H u
   66 FFB0  00 00 CC CC 	DB	000H, 000H, 0CCH, 0CCH, 0CCH, 078H, 030H, 000H	; 76H v
   67 FFB8  00 00 C6 D6 	DB	000H, 000H, 0C6H, 0D6H, 0FEH, 0FEH, 06CH, 000H	; 77H w
   68 FFC0  00 00 C6 6C 	DB	000H, 000H, 0C6H, 06CH, 038H, 06CH, 0C6H, 000H	; 78H x
   69 FFC8  00 00 CC CC 	DB	000H, 000H, 0CCH, 0CCH, 0CCH, 07CH, 00CH, 0F8H	; 79H y
   70 FFD0  00 00 FC 98 	DB	000H, 000H, 0FCH, 098H, 030H, 064H, 0FCH, 000H	; 7AH z
   71 FFD8  6C 00 78 0C 	DB	06CH, 000H, 078H, 00CH, 07CH, 0CCH, 076H, 000H	; 7BH ae
   72 FFE0  CC 00 78 CC 	DB	0CCH, 000H, 078H, 0CCH, 0CCH, 0CCH, 078H, 000H	; 7CH oe
   73 FFE8  CC 00 CC CC 	DB	0CCH, 000H, 0CCH, 0CCH, 0CCH, 0CCH, 076H, 000H	; 7DH ue
   74 FFF0  3C 66 66 6C 	DB	03CH, 066H, 066H, 06CH, 066H, 066H, 06CH, 0F0H	; 7EH sz
   75 FFF8  FF 81 81 81 	DB	0FFH, 081H, 081H, 081H, 081H, 081H, 081H, 0FFH	; 7FH
 0 Error(s) Detected.
 4224 Absolute Bytes. 587 Symbols Detected.
 034H, 018H, 000H	; 74H t
   65 FFA8  00 00 CC CC 	DB	000H, 000H, 0CCH, 0CCH, 0CCH, 0CCH, 076H, 000H	; 75H 