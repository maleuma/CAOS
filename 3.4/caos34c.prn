SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   1
CAOS34C Z80

    1                   ; Zusammensetzen der Einzeldateien zu CAOS 3.4
    2                   ; (C) Mario Leubner, 31.05.2021-19.08.2023
    3                   ;-------------------------------------------------
    4                   ; CAOS-Vorblock:
    5         DF80      	ORG	0E000H-128
    6 DF80  43 41 4F 53 	DB	'CAOS34C KCC'
    7 DF8B  00 00 00 00 	DS	5,0
    8 DF90  02          	DB	2		; 2 Adressen
    9 DF91  4000        	DW	4000H		; AADR
   10 DF93  8000        	DW	8000H		; EADR+1
   11 DF95  00 00 00 00 	DS	107,0
   12                   ;-------------------------------------------------
   13         0000      V24	EQU	0		; 0 erzeugt Centronics-Version (M001)
   14                   				; 1 erzeugt V.24-Version (M003)
   15                   include	caose.asm		; ROM-E
    1                   ;	CAOS 3.4 - ROM E
    2                   ;	Version CENTRONICS & V.24
    3                   ;
    4                   ;	Date: 11.06.1991  (c) by '#+$'
    5                   ;	Externe (Modul)-Version!
    6                   
    7         E000      	ORG 0E000H
    8                    
    9 E000  F3          RESET:	DI
   10 E001  18 0E       	JR OSTEST
   11 E003  C3 E65C     	JP BEXP1
   12 E006  C3 E679     	JP BEXP2
   13 E009  C3 E6E9     	JP BEXP3
   14 E00C  ED18        	DEFW TOKTAB
   15 E00E  C3 E5FE     	JP BASPV
   16                    
   17                   ;*** Steuerung ***
   18                    
   19 E011              OSTEST:	;CAOS-on-Test (Modul)-Version
   20 E011  DB 88       	IN A,(88H)
   21 E013  1F          	RRA		;Bit 0 = CAOS-ROM?
   22 E014  D2 F17E     	JP NC,BYE	;CAOS-ROM ist ein
   23 E017  3E 08       	LD A,8		;Steckplatz 8
   24 E019  CD F003     	CALL 0F003H
   25 E01C  27          	DEFB 27H	;JUMP
   26                    
   27 E01D  7F7F        	DEFW 7F7FH	;>BASIC<
   28 E01F  42 41 53 49 	DEFM 'BASIC'
   29 E024  00          	DEFB 0
   30                   	;
   31 E025  21 C000     	LD HL,0C000H
   32 E028  18 0D       	JR BASON
   33                    
   34 E02A  7F7F        	DEFW 7F7FH	;>REBASIC<
   35 E02C  52 45 42 41 	DEFM 'REBASIC'
   36 E033  00          	DEFB 0
   37                   	;
   38 E034  21 C002     	LD HL,0C002H
   39 E037  DB 88       BASON:	IN A,(88H)
   40 E039  CB FF       	SET 7,A
   41 E03B  D3 88       	OUT (88H),A
   42 E03D  E9          	JP (HL)
   43                    
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   2
CAOSE   ASM

   44                   ;*** CRT-Unit ***
   45                    
   46 E03E  2A B79C     PADR1:	LD HL,(0B79CH)
   47 E041  19          	ADD HL,DE
   48 E042  CB 24       	SLA H
   49 E044  CB 24       	SLA H
   50 E046  CB 24       	SLA H
   51 E048  F5          PADR:	PUSH AF		;UP 34 PADR
   52 E049  7D          	LD A,L
   53 E04A  FE 20       	CP 20H
   54 E04C  30 23       	JR NC,IAD1
   55 E04E  87          	ADD A
   56 E04F  87          	ADD A
   57 E050  87          	ADD A
   58 E051  6C          	LD L,H
   59 E052  CB 3C       	SRL H
   60 E054  CB 3C       	SRL H
   61 E056  37          	SCF
   62 E057  CB 1C       	RR H
   63 E059  1F          	RRA
   64 E05A  CB 3C       	SRL H
   65 E05C  1F          	RRA
   66 E05D  54          	LD D,H
   67 E05E  37          	SCF
   68 E05F  CB 1A       	RR D
   69 E061  CB DA       	SET 3,D
   70 E063  5F          	LD E,A
   71 E064  CB 1B       	RR E
   72 E066  CB 1D       	RR L
   73 E068  1F          	RRA
   74 E069  CB 1D       	RR L
   75 E06B  6F          	LD L,A
   76 E06C  CB 14       	RL H
   77 E06E  F1          	POP AF
   78 E06F  A7          	AND A
   79 E070  C9          	RET
   80                    
   81 E071  FE 28       IAD1:	CP 28H
   82 E073  30 32       	JR NC,IAD2
   83 E075  C5          	PUSH BC
   84 E076  E6 07       	AND 7
   85 E078  87          	ADD A
   86 E079  6F          	LD L,A
   87 E07A  7C          	LD A,H
   88 E07B  07          	RLCA
   89 E07C  47          	LD B,A
   90 E07D  E6 01       	AND 1
   91 E07F  F6 B0       	OR 0B0H
   92 E081  57          	LD D,A
   93 E082  78          	LD A,B
   94 E083  07          	RLCA
   95 E084  4F          	LD C,A
   96 E085  E6 03       	AND 3
   97 E087  F6 50       	OR 50H
   98 E089  44          	LD B,H
   99 E08A  67          	LD H,A
  100 E08B  78          	LD A,B
  101 E08C  E6 30       	AND 30H
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   3
CAOSE   ASM

  102 E08E  B5          	OR L
  103 E08F  6F          	LD L,A
  104 E090  79          	LD A,C
  105 E091  07          	RLCA
  106 E092  07          	RLCA
  107 E093  E6 C0       	AND 0C0H
  108 E095  B5          	OR L
  109 E096  6F          	LD L,A
  110 E097  CB 18       	RR B
  111 E099  CB 1D       	RR L
  112 E09B  CB 18       	RR B
  113 E09D  CB 14       	RL H
  114 E09F  CB 19       	RR C
  115 E0A1  1F          	RRA
  116 E0A2  5F          	LD E,A
  117 E0A3  C1          	POP BC
  118 E0A4  F1          DBRE:	POP AF
  119 E0A5  A7          	AND A
  120 E0A6  C9          	RET
  121                    
  122 E0A7  F1          IAD2:	POP AF
  123 E0A8  37          	SCF
  124 E0A9  C9          	RET
  125                    
  126 E0AA  3A B79E     TCIF:	LD A,(0B79EH)	;UP 33 TCIF
  127 E0AD  3D          	DEC A
  128 E0AE  93          	SUB E
  129 E0AF  D8          	RET C
  130 E0B0  3A B79F     	LD A,(0B79FH)
  131 E0B3  3D          	DEC A
  132 E0B4  92          	SUB D
  133 E0B5  C9          	RET
  134                    
  135 E0B6  F5          DABR:	PUSH AF		;UP 32 DABR
  136 E0B7  CD E0AA     	CALL TCIF
  137 E0BA  38 EB       	JR C,IAD2
  138 E0BC  3A B79C     	LD A,(0B79CH)
  139 E0BF  83          	ADD E
  140 E0C0  D5          	PUSH DE
  141 E0C1  5F          	LD E,A
  142 E0C2  3A B79D     	LD A,(0B79DH)
  143 E0C5  82          	ADD D
  144 E0C6  87          	ADD A
  145 E0C7  87          	ADD A
  146 E0C8  87          	ADD A
  147 E0C9  6F          	LD L,A
  148 E0CA  26 00       	LD H,0
  149 E0CC  29          	ADD HL,HL
  150 E0CD  29          	ADD HL,HL
  151 E0CE  16 59       	LD D,59H
  152 E0D0  19          	ADD HL,DE
  153 E0D1  5F          	LD E,A
  154 E0D2  19          	ADD HL,DE
  155 E0D3  D1          	POP DE
  156 E0D4  18 CE       	JR DBRE
  157                    
  158 E0D6              WPIX:	;Zeichen sichtbar machen
  159 E0D6  D5          	PUSH DE
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   4
CAOSE   ASM

  160 E0D7  C5          	PUSH BC
  161 E0D8  CD E03E     	CALL PADR1
  162 E0DB  38 31       	JR C,WPIX4
  163 E0DD  ED 4B B7A2  	LD BC,(0B7A2H)	; STBT
  164 E0E1  EB          	EX DE,HL
  165 E0E2  CB 49       	BIT 1,C		; Schreiben COLOR?
  166 E0E4  20 04       	JR NZ,WPIX1
  167 E0E6  70          	LD (HL),B
  168 E0E7  CB ED       	SET 5,L
  169 E0E9  70          	LD (HL),B
  170 E0EA  CB 41       WPIX1:	BIT 0,C		; Schreiben Pixel?
  171 E0EC  20 20       	JR NZ,WPIX4
  172 E0EE  21 B7A6     	LD HL,0B7A6H	; CCTL0
  173 E0F1  87          	ADD A
  174 E0F2  30 02       	JR NC,WPIX2
  175 E0F4  2E AA       	LD L,0AAH	; CCTL2
  176 E0F6  D6 40       WPIX2:	SUB 40H
  177 E0F8  F2 E0FF     	JP P,WPIX3
  178 E0FB  2C          	INC L
  179 E0FC  2C          	INC L
  180 E0FD  EE C0       	XOR 0C0H	; CCTL1/3
  181 E0FF  46          WPIX3:	LD B,(HL)
  182 E100  23          	INC HL
  183 E101  66          	LD H,(HL)
  184 E102  68          	LD L,B
  185 E103  87          	ADD A
  186 E104  CB 51       	BIT 2,C		; invers?
  187 E106  4F          	LD C,A
  188 E107  06 00       	LD B,0
  189 E109  09          	ADD HL,BC
  190 E10A  09          	ADD HL,BC
  191 E10B  CD E111     	CALL CPIX
  192 E10E  C1          WPIX4:	POP BC
  193 E10F  D1          	POP DE
  194 E110  C9          	RET
  195                    
  196                   ;8 Byte in Pixel-IRM schreiben
  197 E111  CD E118     CPIX:	CALL CPIX1	; 4 Byte schreiben
  198 E114  CB EB       	SET 5,E
  199 E116  CB 82       	RES 0,D
  200 E118  CD E11D     CPIX1:	CALL CPIX2	; 2 Byte schreiben
  201 E11B  CB C2       	SET 0,D
  202 E11D  CB BB       CPIX2:	RES 7,E
  203 E11F  7E          	LD A,(HL)	; Zeichencode
  204 E120  23          	INC HL		; naechstes Byte
  205 E121  28 01       	JR Z,CPIX3
  206 E123  2F          	CPL		; Pixel invertieren
  207 E124  12          CPIX3:	LD (DE),A	; IRM schreiben
  208 E125  CB FB       	SET 7,E
  209 E127  7E          	LD A,(HL)	; Zeichencode
  210 E128  23          	INC HL		; naechstes Byte
  211 E129  28 01       	JR Z,CPIX4
  212 E12B  2F          	CPL		; Pixel invertieren
  213 E12C  12          CPIX4:	LD (DE),A	; IRM schreiben
  214 E12D  C9          	RET
  215                    
  216 E12E              RSPALT:	;Berechne BC,DE:Fenstergrenzen
  217                   	;E=0:Nur 1teilig
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   5
CAOSE   ASM

  218 E12E  87          	ADD A
  219 E12F  87          	ADD A
  220 E130  87          	ADD A
  221 E131  67          	LD H,A
  222 E132  11 2000     	LD DE,2000H
  223 E135  3A B79C     	LD A,(0B79CH)
  224 E138  47          	LD B,A
  225 E139  BA          	CP D
  226 E13A  3A B79E     	LD A,(0B79EH)
  227 E13D  4F          	LD C,A
  228 E13E  D0          	RET NC
  229 E13F  80          	ADD B
  230 E140  BA          	CP D
  231 E141  D8          	RET C
  232 E142  92          	SUB D
  233 E143  5F          	LD E,A
  234 E144  7A          	LD A,D
  235 E145  90          	SUB B
  236 E146  4F          	LD C,A
  237 E147  C9          	RET
  238                    
  239 E148              MOVELN:	;Rolle 1 Zeile
  240 E148  E5          	PUSH HL
  241 E149  D5          	PUSH DE
  242 E14A  C5          	PUSH BC
  243 E14B  4F          	LD C,A
  244 E14C  E5          	PUSH HL
  245 E14D  CD E048     	CALL PADR
  246 E150  38 22       	JR C,PIX2
  247 E152  E3          	EX (SP),HL
  248 E153  D5          	PUSH DE
  249 E154  7C          	LD A,H
  250 E155  C6 08       	ADD 8
  251 E157  67          	LD H,A
  252 E158  CD E048     	CALL PADR
  253 E15B  E3          	EX (SP),HL
  254 E15C  EB          	EX DE,HL
  255 E15D  06 00       	LD B,0
  256 E15F  3A B7A2     	LD A,(0B7A2H)
  257 E162  1F          	RRA
  258 E163  CB 47       	BIT 0,A
  259 E165  79          	LD A,C
  260 E166  CC E184     	CALL Z,PIX4
  261 E169  E1          	POP HL
  262 E16A  D1          	POP DE
  263 E16B  D4 E17D     	CALL NC,PIX31
  264 E16E  24          	INC H
  265 E16F  14          	INC D
  266 E170  D4 E179     	CALL NC,PIX3
  267 E173  06          	DEFB 6		;LD B,n
  268 E174  E1          PIX2:	POP HL
  269 E175  C1          POPS3:	POP BC
  270 E176  D1          	POP DE
  271 E177  E1          	POP HL
  272 E178  C9          	RET
  273                    
  274 E179  CB BD       PIX3:	RES 7,L
  275 E17B  CB BB       	RES 7,E
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   6
CAOSE   ASM

  276 E17D  CD E184     PIX31:	CALL PIX4
  277 E180  CB FD       	SET 7,L
  278 E182  CB FB       	SET 7,E
  279 E184  CB AD       PIX4:	RES 5,L
  280 E186  CB AB       	RES 5,E
  281 E188  CD E18F     	CALL PIX5
  282 E18B  CB ED       	SET 5,L
  283 E18D  CB EB       	SET 5,E
  284 E18F  D5          PIX5:	PUSH DE
  285 E190  E5          	PUSH HL
  286 E191  4F          	LD C,A
  287 E192  ED B0       	LDIR
  288 E194  E1          	POP HL
  289 E195  D1          	POP DE
  290 E196  C9          	RET
  291                    
  292 E197  21 B7A2     PCHR:	LD HL,0B7A2H
  293 E19A  CB 66       	BIT 4,(HL)
  294 E19C  28 1F       	JR Z,PCHR0
  295 E19E  CB A6       	RES 4,(HL)
  296 E1A0  FE 30       	CP '0'
  297 E1A2  D8          	RET C
  298 E1A3  FE 3A       	CP 3AH
  299 E1A5  38 0A       	JR C,ESCJ1
  300 E1A7  FE 41       	CP 'A'
  301 E1A9  D8          	RET C
  302 E1AA  CB AF       	RES 5,A
  303 E1AC  FE 5B       	CP 5BH
  304 E1AE  D0          	RET NC
  305 E1AF  D6 07       	SUB 7
  306 E1B1  D6 30       ESCJ1:	SUB 30H
  307 E1B3  21 B7DF     	LD HL,0B7DFH
  308 E1B6  BE          	CP (HL)
  309 E1B7  D0          	RET NC
  310 E1B8  2A B7DD     	LD HL,(0B7DDH)
  311 E1BB  18 0B       	JR PCHV
  312                    
  313 E1BD  FE 20       PCHR0:	CP 20H
  314 E1BF  30 1B       	JR NC,PCHR1
  315 E1C1  CB 5E       	BIT 3,(HL)
  316 E1C3  20 17       	JR NZ,PCHR1
  317 E1C5  2A B7B2     	LD HL,(0B7B2H)
  318 E1C8  87          PCHV:	ADD A
  319 E1C9  4F          	LD C,A
  320 E1CA  06 00       	LD B,0
  321 E1CC  09          	ADD HL,BC
  322 E1CD  7E          	LD A,(HL)
  323 E1CE  23          	INC HL
  324 E1CF  66          	LD H,(HL)
  325 E1D0  6F          	LD L,A
  326 E1D1  3E 01       	LD A,1
  327 E1D3  E9          	JP (HL)
  328                    
  329 E1D4  7B          ASC5:	LD A,E
  330 E1D5  E6 F8       	AND 0F8H
  331 E1D7  C6 08       	ADD 8
  332 E1D9  5F          	LD E,A
  333 E1DA  18 09       	JR PCHR3
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   7
CAOSE   ASM

  334                    
  335 E1DC  CD E0B6     PCHR1:	CALL DABR
  336 E1DF  D8          	RET C
  337 E1E0  77          PCHR2:	LD (HL),A
  338 E1E1  CD E0D6     	CALL WPIX
  339 E1E4  1C          CUR:	INC E
  340 E1E5  3A B79E     PCHR3:	LD A,(0B79EH)
  341 E1E8  3D          	DEC A
  342 E1E9  BB          	CP E
  343 E1EA  D0          	RET NC
  344 E1EB  1E 00       CRNL:	LD E,0
  345 E1ED  14          CUD:	INC D
  346 E1EE  3A B79F     	LD A,(0B79FH)
  347 E1F1  BA          	CP D
  348 E1F2  C0          	RET NZ
  349 E1F3  2A B7A4     	LD HL,(0B7A4H)
  350 E1F6  E9          	JP (HL)
  351                    
  352 E1F7  2A B799     HCOPY:	LD HL,(0B799H)
  353 E1FA  E9          	JP (HL)
  354                    
  355 E1FB  7B          CUL:	LD A,E
  356 E1FC  A7          	AND A
  357 E1FD  28 02       	JR Z,LINUP
  358 E1FF  1D          	DEC E
  359 E200  C9          	RET
  360                    
  361 E201  7A          LINUP:	LD A,D
  362 E202  A7          	AND A
  363 E203  C8          	RET Z
  364 E204  15          	DEC D
  365 E205  3A B79E     CEL:	LD A,(0B79EH)
  366 E208  3D          	DEC A
  367 E209  5F          	LD E,A
  368 E20A  C9          	RET
  369                    
  370 E20B  7A          CUU:	LD A,D
  371 E20C  A7          	AND A
  372 E20D  C8          	RET Z
  373 E20E  15          	DEC D
  374 E20F  C9          	RET
  375                    
  376 E210  21 E2A0     PAGE:	LD HL,HOMEPG
  377 E213  22 B7A4     WADR:	LD (0B7A4H),HL
  378 E216  C9          	RET
  379                    
  380 E217  21 E2A5     SCROL:	LD HL,SCRLPG
  381 E21A  18 F7       	JR WADR
  382                    
  383 E21C  CD E1FB     CLEAR:	CALL CUL
  384 E21F  D5          DEL:	PUSH DE
  385 E220  CD E0B6     DEL1:	CALL DABR
  386 E223  7E          	LD A,(HL)
  387 E224  A7          	AND A
  388 E225  28 3A       	JR Z,INS3
  389 E227  D5          	PUSH DE
  390 E228  E5          	PUSH HL
  391 E229  1C          	INC E
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   8
CAOSE   ASM

  392 E22A  CD E0B6     	CALL DABR
  393 E22D  30 06       	JR NC,DEL2
  394 E22F  1E 00       	LD E,0
  395 E231  14          	INC D
  396 E232  CD E0B6     	CALL DABR
  397 E235  7E          DEL2:	LD A,(HL)
  398 E236  E1          	POP HL
  399 E237  D1          	POP DE
  400 E238  38 1D       	JR C,DEL3
  401 E23A  B7          	OR A
  402 E23B  28 1A       	JR Z,DEL3
  403 E23D  CD E1E0     	CALL PCHR2
  404 E240  18 DE       	JR DEL1
  405                    
  406 E242  D5          INS:	PUSH DE
  407 E243  3E 20       	LD A,20H
  408 E245  CD E0B6     INS1:	CALL DABR
  409 E248  46          	LD B,(HL)
  410 E249  CD E1E0     	CALL PCHR2
  411 E24C  78          	LD A,B
  412 E24D  A7          	AND A
  413 E24E  28 11       	JR Z,INS3
  414 E250  7B          	LD A,E
  415 E251  B2          	OR D
  416 E252  78          	LD A,B
  417 E253  20 F0       	JR NZ,INS1
  418 E255  D1          	POP DE
  419 E256  C9          	RET
  420                    
  421 E257  CD E0B6     DEL3:	CALL DABR
  422 E25A  AF          	XOR A
  423 E25B  77          	LD (HL),A
  424 E25C  3E 20       	LD A,20H
  425 E25E  CD E0D6     	CALL WPIX
  426 E261  D1          INS3:	POP DE
  427 E262  C9          	RET
  428                    
  429 E263              CLLINE:	;Zeile(nst}ck) l|schen
  430 E263  68          	LD L,B
  431 E264  CD E048     	CALL PADR
  432 E267  D8          	RET C
  433 E268  3A B7A2     	LD A,(0B7A2H)
  434 E26B  1F          	RRA
  435 E26C  CB 47       	BIT 0,A
  436 E26E  3A B7A3     	LD A,(0B7A3H)
  437 E271  CC E283     	CALL Z,CM2
  438 E274  3E 00       	LD A,0
  439 E276  D8          	RET C
  440 E277  EB          	EX DE,HL
  441 E278  CD E27C     	CALL CM1
  442 E27B  14          	INC D
  443 E27C  CB BB       CM1:	RES 7,E
  444 E27E  CD E283     	CALL CM2
  445 E281  CB FB       	SET 7,E
  446 E283  CB AB       CM2:	RES 5,E
  447 E285  CD E28A     	CALL CM3
  448 E288  CB EB       	SET 5,E
  449 E28A  D5          CM3:	PUSH DE
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   9
CAOSE   ASM

  450 E28B  41          	LD B,C
  451 E28C  12          CM4:	LD (DE),A
  452 E28D  1C          	INC E
  453 E28E  10 FC       	DJNZ CM4
  454 E290  D1          	POP DE
  455 E291  C9          	RET
  456                    
  457 E292  3A B79F     CLS:	LD A,(0B79FH)
  458 E295  16 00       	LD D,0
  459 E297  F5          CLS1:	PUSH AF
  460 E298  CD E2E6     	CALL DELLN
  461 E29B  F1          	POP AF
  462 E29C  14          	INC D
  463 E29D  3D          	DEC A
  464 E29E  20 F7       	JR NZ,CLS1
  465 E2A0  16 00       HOMEPG:	LD D,0
  466 E2A2  1E 00       CRN:	LD E,0
  467 E2A4  C9          	RET
  468                    
  469 E2A5              SCRLPG:	;Scrollroutine
  470 E2A5  3A B79E     	LD A,(0B79EH)
  471 E2A8  4F          	LD C,A
  472 E2A9  06 00       	LD B,0
  473 E2AB  3A B79F     	LD A,(0B79FH)
  474 E2AE  3D          	DEC A
  475 E2AF  28 34       	JR Z,SCRL4
  476 E2B1  D5          	PUSH DE
  477 E2B2  F5          	PUSH AF
  478 E2B3  11 0000     	LD DE,0
  479 E2B6  CD E0B6     	CALL DABR
  480 E2B9  38 28       	JR C,SCRL3
  481 E2BB  EB          	EX DE,HL
  482 E2BC  21 0028     SCRL1:	LD HL,28H
  483 E2BF  19          	ADD HL,DE
  484 E2C0  E5          	PUSH HL
  485 E2C1  C5          	PUSH BC
  486 E2C2  ED B0       	LDIR
  487 E2C4  C1          	POP BC
  488 E2C5  D1          	POP DE
  489 E2C6  3D          	DEC A
  490 E2C7  20 F3       	JR NZ,SCRL1
  491 E2C9  3A B79D     	LD A,(0B79DH)
  492 E2CC  CD E12E     	CALL RSPALT
  493 E2CF  79          SCRL2:	LD A,C
  494 E2D0  68          	LD L,B
  495 E2D1  CD E148     	CALL MOVELN
  496 E2D4  7B          	LD A,E
  497 E2D5  A7          	AND A
  498 E2D6  6A          	LD L,D
  499 E2D7  C4 E148     	CALL NZ,MOVELN
  500 E2DA  7C          	LD A,H
  501 E2DB  C6 08       	ADD 8
  502 E2DD  67          	LD H,A
  503 E2DE  F1          	POP AF
  504 E2DF  3D          	DEC A
  505 E2E0  F5          	PUSH AF
  506 E2E1  20 EC       	JR NZ,SCRL2
  507 E2E3  F1          SCRL3:	POP AF
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  10
CAOSE   ASM

  508 E2E4  D1          	POP DE
  509 E2E5  15          SCRL4:	DEC D
  510                   	;
  511 E2E6  1E 00       DELLN:	LD E,0
  512 E2E8  D5          	PUSH DE
  513 E2E9  CD E0B6     	CALL DABR
  514 E2EC  3A B79E     	LD A,(0B79EH)
  515 E2EF  47          	LD B,A
  516 E2F0  AF          	XOR A
  517 E2F1  77          DL1:	LD (HL),A
  518 E2F2  23          	INC HL
  519 E2F3  10 FC       	DJNZ DL1
  520 E2F5  3A B79D     	LD A,(0B79DH)
  521 E2F8  82          	ADD D
  522 E2F9  CD E12E     	CALL RSPALT
  523 E2FC  D5          	PUSH DE
  524 E2FD  E5          	PUSH HL
  525 E2FE  CD E263     	CALL CLLINE
  526 E301  E1          	POP HL
  527 E302  C1          	POP BC
  528 E303  B9          	CP C
  529 E304  C4 E263     	CALL NZ,CLLINE
  530 E307  D1          	POP DE
  531 E308  C9          	RET
  532                    
  533 E309  01 0A1F     BEL:	LD BC,0A1FH
  534 E30C  2E 70       	LD L,70H
  535 E30E  CD E320     	CALL RTON
  536 E311  3E 2E       	LD A,2EH	;Ton+Pause
  537                   	;
  538 E313  47          WAIT:	LD B,A		;UP 14 WAIT
  539 E314  AF          	XOR A
  540 E315  CD F242     WAIT0:	CALL WAIT1
  541 E318  10 FB       	DJNZ WAIT0
  542 E31A  C9          	RET
  543                    
  544 E31B  01 020F     RCLICK:	LD BC,20FH
  545 E31E  2E 50       	LD L,50H
  546 E320  D5          RTON:	PUSH DE		;Ton nur rechts
  547 E321  26 00       	LD H,0
  548 E323  5C          	LD E,H
  549 E324  CD E442     	CALL PHALT
  550 E327  D3 8E       	OUT (8EH),A	;CTC off
  551 E329  CD E5C7     	CALL TONP
  552 E32C  D1          	POP DE
  553 E32D  C9          	RET
  554                    
  555 E32E  21 B7A3     ASC6:	LD HL,0B7A3H	;=ESC 8
  556 E331  7E          	LD A,(HL)		;Farbe compeln
  557 E332  E6 C0       	AND 0C0H
  558 E334  4F          	LD C,A
  559 E335  7E          	LD A,(HL)
  560 E336  E6 07       	AND 7
  561 E338  07          	RLCA
  562 E339  07          	RLCA
  563 E33A  07          	RLCA
  564 E33B  B1          	OR C
  565 E33C  4F          	LD C,A
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  11
CAOSE   ASM

  566 E33D  7E          	LD A,(HL)
  567 E33E  0F          	RRCA
  568 E33F  0F          	RRCA
  569 E340  0F          	RRCA
  570 E341  E6 07       	AND 7
  571 E343  B1          	OR C
  572                    
  573 E344  77          LDMA:	LD (HL),A		;UP 28 LDMA
  574 E345  C9          	RET
  575                    
  576 E346  7E          LDAM:	LD A,(HL)		;UP 29 LDAM
  577 E347  C9          	RET
  578                    
  579 E348  3E 80       SHLOCK:	LD A,80H
  580 E34A  01          	DEFB 1		;LD BC,...
  581 E34B  3E 20       CLICK:	LD A,20H
  582 E34D  DD AE 08    	XOR (IX+8)
  583 E350  DD 77 08    	LD (IX+8),A
  584 E353  C9          DUMMY:	RET
  585                    
  586 E354  E5          CRT:	PUSH HL		;UP 00 CRT
  587 E355  D5          	PUSH DE
  588 E356  C5          	PUSH BC
  589 E357  F5          	PUSH AF
  590 E358  ED 5B B7A0  	LD DE,(0B7A0H)
  591 E35C  CD E197     	CALL PCHR
  592 E35F  ED 53 B7A0  	LD (0B7A0H),DE
  593 E363  F1          	POP AF
  594 E364  C3 E175     	JP POPS3
  595                    
  596 E367  87          ESC:	ADD A		;Beeinflussung
  597 E368  87          ESC4:	ADD A		; Steuerbits
  598 E369  87          ESC7:	ADD A
  599 E36A  87          ESCF:	ADD A
  600 E36B  21 B7A2     ESC3:	LD HL,0B7A2H
  601 E36E  AE          	XOR (HL)
  602 E36F  77          	LD (HL),A
  603 E370  C9          	RET
  604                    
  605                   ;*** KBD-Unit ***
  606                    
  607 E371  FB          ISRC3:	EI		;ISR CTC 3 KBD
  608 E372  F5          	PUSH AF
  609 E373  3E 23       	LD A,23H	;DI,ZG256,Res
  610 E375  D3 8F       	OUT (8FH),A
  611 E377  DD 36 0D 00 	LD (IX+13),0
  612 E37B  18 55       	JR TST4
  613                    
  614 E37D  FB          ISRPB:	EI		;ISR PIO B KBD
  615 E37E  F5          TAST:	PUSH AF
  616 E37F  DD 35 00    	DEC (IX)
  617 E382  DB 8F       	IN A,8FH
  618 E384  F5          	PUSH AF
  619 E385  3E A7       	LD A,0A7H
  620 E387  D3 8F       	OUT (8FH),A
  621 E389  3E 8F       	LD A,8FH
  622 E38B  D3 8F       	OUT (8FH),A
  623 E38D  F1          	POP AF
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  12
CAOSE   ASM

  624 E38E  FE 14       	CP 14H
  625 E390  38 40       	JR C,TST4
  626 E392  FE 65       	CP 65H
  627 E394  30 38       	JR NC,TST3
  628 E396  C6 BE       	ADD 0BEH
  629 E398  38 34       	JR C,TST3
  630 E39A  DD 7E 0C    	LD A,(IX+12)
  631 E39D  1F          	RRA
  632 E39E  EE 01       	XOR 1
  633 E3A0  E5          	PUSH HL
  634 E3A1  D5          	PUSH DE
  635 E3A2  5F          	LD E,A
  636 E3A3  16 00       	LD D,0
  637 E3A5  DD 6E 0E    	LD L,(IX+14)
  638 E3A8  DD 66 0F    	LD H,(IX+15)
  639 E3AB  19          	ADD HL,DE
  640 E3AC  7E          	LD A,(HL)
  641 E3AD  DD CB 08 7E 	BIT 7,(IX+8)
  642 E3B1  20 07       	JR NZ,TST1
  643 E3B3  FE 40       	CP 40H
  644 E3B5  FA E3BA     	JP M,TST1
  645 E3B8  EE 20       	XOR 20H
  646 E3BA  DD BE 0D    TST1:	CP (IX+13)
  647 E3BD  F5          	PUSH AF
  648 E3BE  20 15       	JR NZ,TST5
  649 E3C0  3A B7E0     	LD A,(0B7E0H)	;COUNT
  650 E3C3  DD BE 0A    	CP (IX+10)
  651 E3C6  38 2A       	JR C,TST7
  652 E3C8  F1          	POP AF
  653 E3C9  DD 34 0A    	INC (IX+10)
  654 E3CC  D1          TST2:	POP DE
  655 E3CD  E1          	POP HL
  656 E3CE  DD CB 0C 1E TST3:	RR (IX+12)
  657 E3D2  F1          TST4:	POP AF
  658 E3D3  ED 4D       INTE:	RETI
  659                    
  660 E3D5  DD 36 0A 00 TST5:	LD (IX+10),0
  661 E3D9  7B          	LD A,E
  662 E3DA  FE 73       	CP 73H		;Tast-Nr.SoftRes
  663 E3DC  20 10       	JR NZ,TST6
  664 E3DE  DD CB 08 5E 	BIT 3,(IX+8)
  665 E3E2  DD CB 08 9E 	RES 3,(IX+8)
  666 E3E6  20 0A       	JR NZ,TST7
  667 E3E8  21 E000     	LD HL,RESET
  668 E3EB  E5          	PUSH HL
  669 E3EC  18 E5       	JR INTE
  670                    
  671 E3EE  DD CB 08 DE TST6:	SET 3,(IX+8)
  672 E3F2  F1          TST7:	POP AF
  673 E3F3  DD 77 0D    	LD (IX+13),A
  674 E3F6  DD CB 08 C6 	SET 0,(IX+8)
  675 E3FA  18 D0       	JR TST2
  676                    
  677 E3FC  AF          KBDS:	XOR A		;UP 0C KBDS
  678 E3FD  DD CB 08 46 	BIT 0,(IX+8)
  679 E401  C8          	RET Z
  680 E402  DD 7E 0D    	LD A,(IX+13)
  681 E405  37          	SCF
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  13
CAOSE   ASM

  682 E406  C9          	RET
  683                    
  684 E407  CD E3FC     KBDZ:	CALL KBDS	;UP 0E KBDZ
  685 E40A  D0          	RET NC
  686 E40B  DD CB 08 86 RESFL:	RES 0,(IX+8)
  687 E40F  C9          	RET
  688                    
  689                   ;*** Tape-Unit ***
  690                    
  691 E410  DD 7E 07    ESC1:	LD A,(IX+7)
  692 E413  EE 02       	XOR 2
  693 E415  DD 77 07    	LD (IX+7),A
  694 E418  C9          	RET
  695                    
  696 E419              IMBII:	;intern mit Standardpuffer,
  697                   	;Erwarteter Block und Unter-
  698                   	;drueckung OK-Block
  699 E419  CD F3FA     	CALL SIXD3
  700 E41C  DD 36 03 01 	LD (IX+3),1
  701 E420  DD CB 07 EE 	SET 5,(IX+7)
  702                   	;
  703 E424              IMBI:	;Init.MB-Eingabe ohne Lesen
  704                   	;und ohne Init.(IX+5/6)
  705 E424  DB 89       	IN A,(89H)			; hier IN A,(00H) in CAOS34.ROM ???
  706 E426  CB BF       	RES 7,A
  707 E428  D3 89       	OUT (89H),A	;Blink off
  708 E42A  DB 88       	IN A,(88H)
  709 E42C  CB F7       	SET 6,A		;MSS on
  710 E42E  D3 88       IMBI1:	OUT (88H),A
  711 E430  FB          	EI
  712 E431  E5          	PUSH HL
  713 E432  2A B7A4     	LD HL,(0B7A4H)
  714 E435  22 B7CF     	LD (0B7CFH),HL
  715 E438  CD F25A     	CALL NOUT
  716 E43B  22 B7CD     	LD (0B7CDH),HL
  717 E43E  CD E210     	CALL PAGE
  718 E441  E1          	POP HL
  719 E442  3E 03       PHALT:	LD A,3
  720 E444  D3 8C       	OUT (8CH),A	;CTC0
  721 E446  D3 8D       	OUT (8DH),A
  722 E448  DD CB 08 8E 	RES 1,(IX+8)
  723 E44C  C9          	RET
  724                    
  725 E44D              CMBI:	;Abschluss MB-Eingabe
  726 E44D  CD E468     	CALL CRO0
  727 E450              BLION:	;Blinken on
  728 E450  DB 89       	IN A,(89H)
  729 E452  CB FF       	SET 7,A
  730 E454  D3 89       	OUT (89H),A
  731 E456  F3          	DI
  732 E457  3E 47       	LD A,47H
  733 E459  D3 8E       	OUT (8EH),A
  734 E45B  3E 0C       	LD A,0CH
  735 E45D  D3 8E       	OUT (8EH),A
  736 E45F  FB          	EI
  737 E460  C9          	RET
  738                    
  739 E461              CSRO:	;Abschluss MB-Ausgabe mit
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  14
CAOSE   ASM

  740                   	;Schreiben letzter Block
  741 E461  DD 36 02 FE 	LD (IX+2),0FEH;UP 09 CSRO
  742 E465  CD E49B     	CALL MBOT
  743 E468  E5          CRO0:	PUSH HL
  744 E469  2A B7CD     	LD HL,(0B7CDH)
  745 E46C  22 B7B9     	LD (0B7B9H),HL
  746 E46F  2A B7CF     	LD HL,(0B7CFH)
  747 E472  22 B7A4     	LD (0B7A4H),HL
  748 E475  21 B780     	LD HL,0B780H
  749 E478  AF          	XOR A
  750 E479  2D          CRO1:	DEC L
  751 E47A  77          	LD (HL),A
  752 E47B  20 FC       	JR NZ,CRO1
  753 E47D  E1          	POP HL
  754 E47E  DB 88       	IN A,(88H)
  755 E480  E6 9F       	AND 9FH
  756 E482  D3 88       	OUT (88H),A
  757 E484  CD F324     	CALL CRLF
  758 E487  C3 F3F2     	JP SIXD2
  759                    
  760 E48A  CD F3FA     ISROI:	CALL SIXD3	;intern
  761 E48D  DB 88       ISRO:	IN A,(88H)	;UP 08 ISRO
  762 E48F  F6 60       	OR 60H
  763 E491  CD E42E     	CALL IMBI1
  764 E494  DD 36 02 00 	LD (IX+2),0
  765 E498  01 1000     	LD BC,1000H	;Vortonlaenge
  766                   	;
  767 E49B  DD 34 02    MBOT:	INC (IX+2)	;UP 01 MBOT
  768 E49E  F3          	DI
  769 E49F  3E 87       	LD A,87H
  770 E4A1  D3 8D       	OUT (8DH),A
  771 E4A3  3E 2F       	LD A,2FH
  772 E4A5  D3 8D       	OUT (8DH),A
  773 E4A7  FB          	EI
  774 E4A8  57          	LD D,A
  775 E4A9  5F          	LD E,A
  776 E4AA  CD E4EE     MBOT1:	CALL BITOUT
  777 E4AD  ED A1       	CPI
  778 E4AF  EA E4AA     	JP PE,MBOT1
  779 E4B2  CD E4EC     	CALL ZTON
  780 E4B5  DD 7E 02    	LD A,(IX+2)
  781 E4B8  CD E4D9     	CALL BYTOT
  782 E4BB  DD 6E 05    	LD L,(IX+5)
  783 E4BE  DD 66 06    	LD H,(IX+6)
  784 E4C1  06 80       	LD B,80H
  785 E4C3  7E          MBT1:	LD A,(HL)
  786 E4C4  CD E4D9     	CALL BYTOT
  787 E4C7  79          	LD A,C
  788 E4C8  86          	ADD (HL)
  789 E4C9  4F          	LD C,A
  790 E4CA  23          	INC HL
  791 E4CB  10 F6       	DJNZ MBT1
  792 E4CD  CD E4D9     	CALL BYTOT
  793 E4D0  7A          	LD A,D
  794 E4D1  CD E4F1     	CALL HBITOT
  795 E4D4  3E 03       	LD A,3
  796 E4D6  D3 8D       	OUT (8DH),A
  797 E4D8  C9          	RET
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  15
CAOSE   ASM

  798                    
  799 E4D9  C5          BYTOT:	PUSH BC
  800 E4DA  4F          	LD C,A
  801 E4DB  06 08       	LD B,8
  802 E4DD  CB 09       BYTOUT:	RRC C
  803 E4DF  1E 17       	LD E,17H
  804 E4E1  D4 E4EE     	CALL NC,BITOUT
  805 E4E4  1E 2F       	LD E,2FH
  806 E4E6  DC E4EE     	CALL C,BITOUT
  807 E4E9  10 F2       	DJNZ BYTOUT
  808 E4EB  C1          	POP BC
  809 E4EC  1E 5D       ZTON:	LD E,5DH
  810 E4EE  CD E4F1     BITOUT:	CALL HBITOT
  811 E4F1  DD 72 00    HBITOT:	LD (IX),D
  812 E4F4  DD 7E 00    HBIT1:	LD A,(IX)
  813 E4F7  A7          	AND A
  814 E4F8  20 FA       	JR NZ,HBIT1
  815 E4FA  53          	LD D,E
  816 E4FB  C9          	RET
  817                    
  818 E4FC  CD E424     ISRI:	CALL IMBI	;UP 0A ISRI
  819                   	;
  820 E4FF  3E 83       MBI:	LD A,83H	;UP 05 MBI
  821 E501  D3 8A       	OUT (8AH),A
  822 E503  E5          	PUSH HL
  823 E504  D5          	PUSH DE
  824 E505  CD F274     MBI1:	CALL BRKT
  825 E508  38 45       	JR C,MBI6
  826 E50A  06 16       	LD B,16H
  827 E50C  CD E588     MBI2:	CALL STOP1
  828 E50F  38 F4       	JR C,MBI1
  829 E511  FE BA       	CP 0BAH
  830 E513  CD E555     	CALL LEDON
  831 E516  38 ED       	JR C,MBI1
  832 E518  10 F2       	DJNZ MBI2
  833 E51A  06 02       MBI3:	LD B,2
  834 E51C  AF          MBI4:	XOR A
  835 E51D  4F          	LD C,A
  836 E51E  CD E593     	CALL STOP2
  837 E521  FE 5D       	CP 5DH
  838 E523  30 F5       	JR NC,MBI3
  839 E525  10 F5       	DJNZ MBI4
  840 E527  CD E59F     	CALL BYTIN
  841 E52A  38 23       	JR C,MBI6
  842 E52C  DD 77 02    	LD (IX+2),A
  843 E52F  06 80       	LD B,80H
  844 E531  DD 6E 05    	LD L,(IX+5)
  845 E534  DD 66 06    	LD H,(IX+6)
  846 E537  1E 00       	LD E,0
  847 E539  D5          MBI5:	PUSH DE
  848 E53A  CD E59F     	CALL BYTIN
  849 E53D  D1          	POP DE
  850 E53E  38 0F       	JR C,MBI6
  851 E540  77          	LD (HL),A
  852 E541  83          	ADD E
  853 E542  5F          	LD E,A
  854 E543  23          	INC HL
  855 E544  10 F3       	DJNZ MBI5
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  16
CAOSE   ASM

  856 E546  6F          	LD L,A
  857 E547  CD E59F     	CALL BYTIN
  858 E54A  38 03       	JR C,MBI6
  859 E54C  95          	SUB L
  860 E54D  C6 FF       	ADD 0FFH
  861 E54F  D1          MBI6:	POP DE
  862 E550  E1          	POP HL
  863 E551  3E 03       	LD A,3
  864 E553  D3 8A       	OUT (8AH),A
  865 E555  DB 88       LEDON:	IN A,(88H)
  866 E557  CB EF       	SET 5,A
  867 E559  30 02       	JR NC,MBI7
  868 E55B  CB AF       	RES 5,A
  869 E55D  D3 88       MBI7:	OUT (88H),A
  870 E55F  C9          	RET
  871                    
  872 E560              MOT:	;Umschalten der MSS (ESC A)
  873 E560  DB 88       	IN A,(88H)
  874 E562  EE 60       	XOR 60H
  875 E564  18 F7       	JR MBI7
  876                    
  877 E566  F5          ISRC1:	PUSH AF		;ISR CTC 1 MBO
  878 E567  3E 87       	LD A,87H
  879 E569  D3 8D       	OUT (8DH),A
  880 E56B  DD 7E 00    	LD A,(IX)
  881 E56E  D3 8D       	OUT (8DH),A
  882 E570  DD 36 00 00 	LD (IX),0
  883 E574  18 0E       	JR IMBEND
  884                    
  885 E576  F5          ISRPA:	PUSH AF		;ISR PIO A MBI
  886 E577  DB 8E       	IN A,8EH
  887 E579  DD 77 00    	LD (IX),A
  888 E57C  3E 07       	LD A,7
  889 E57E  D3 8E       	OUT (8EH),A
  890 E580  3E A3       	LD A,0A3H
  891 E582  D3 8E       	OUT (8EH),A
  892 E584  F1          IMBEND:	POP AF
  893 E585  FB          INTEND:	EI
  894 E586  ED 4D       	RETI
  895                    
  896 E588  DD 36 00 00 STOP1:	LD (IX),0
  897 E58C  DD 7E 00    STOP11:	LD A,(IX)
  898 E58F  B7          	OR A
  899 E590  28 FA       	JR Z,STOP11
  900 E592  4F          	LD C,A
  901 E593  DD 36 00 00 STOP2:	LD (IX),0
  902 E597  DD 7E 00    STOP21:	LD A,(IX)
  903 E59A  B7          	OR A
  904 E59B  28 FA       	JR Z,STOP21
  905 E59D  81          	ADD C
  906 E59E  C9          	RET
  907                    
  908 E59F  11 0800     BYTIN:	LD DE,800H
  909 E5A2  CD E588     TRN1:	CALL STOP1
  910 E5A5  38 03       	JR C,TRN2
  911 E5A7  FE BA       	CP 0BAH
  912 E5A9  D8          	RET C
  913 E5AA  3F          TRN2:	CCF
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  17
CAOSE   ASM

  914 E5AB  CB 1B       	RR E
  915 E5AD  15          	DEC D
  916 E5AE  20 F2       	JR NZ,TRN1
  917 E5B0  CD E588     	CALL STOP1
  918 E5B3  7B          	LD A,E
  919 E5B4  C9          	RET
  920                    
  921                   ;*** Sound Unit ***
  922                    
  923 E5B5  F5          ISRC2:	PUSH AF		;ISR CTC 2 TON
  924 E5B6  CD E442     	CALL PHALT
  925 E5B9  CD E450     	CALL BLION
  926 E5BC  18 C6       	JR IMBEND
  927                    
  928 E5BE  CD F473     TON:	CALL LARG	;UP 35 TON
  929 E5C1  DD CB 08 4E TON1:	BIT 1,(IX+8)	;noch alter Ton?
  930 E5C5  20 FA       	JR NZ,TON1	;warten
  931 E5C7  79          TONP:	LD A,C		;Lautstaerke
  932 E5C8  17          	RLA		;1x nach links rotieren
  933 E5C9  2F          	CPL		;negieren, da Low-aktiv
  934 E5CA  4F          	LD C,A
  935 E5CB  78          	LD A,B		;Tondauer
  936 E5CC  C6 FF       	ADD 0FFH
  937 E5CE  30 0D       	JR NC,TON2	;Dauerton (CY=0 fuer Blinken aus)
  938 E5D0  F3          	DI
  939 E5D1  DD CB 08 CE 	SET 1,(IX+8)	;neuer Ton
  940 E5D5  3E C7       	LD A,0C7H
  941 E5D7  D3 8E       	OUT (8EH),A	;CTC2: EI, Zaehler 50Hz
  942 E5D9  78          	LD A,B
  943 E5DA  D3 8E       	OUT (8EH),A	;Tondauer
  944 E5DC  FB          	EI
  945 E5DD  79          TON2:	LD A,C		;Lautstaerke
  946 E5DE  1F          	RRA		;1x nach rechts rotieren und Blinkbit einschieben
  947 E5DF  D3 89       	OUT (89H),A
  948                    
  949 E5E1  0E 8C       	LD C,8CH	;CTC 0
  950 E5E3  CD E5E8     	CALL ZKO
  951 E5E6  0C          	INC C		;CTC 1
  952 E5E7  EB          	EX DE,HL
  953 E5E8  7D          ZKO:	LD A,L
  954 E5E9  A7          	AND A
  955 E5EA  2E 03       	LD L,3
  956 E5EC  28 0C       	JR Z,TON3
  957 E5EE  6F          	LD L,A
  958 E5EF  7C          	LD A,H
  959 E5F0  0F          	RRCA
  960 E5F1  0F          	RRCA
  961 E5F2  F6 0A       	OR 0AH		;2*5
  962 E5F4  1F          	RRA
  963 E5F5  EE 02       	XOR 2
  964 E5F7  F3          	DI
  965 E5F8  ED 79       	OUT (C),A
  966 E5FA  ED 69       TON3:	OUT (C),L
  967 E5FC  FB          	EI
  968 E5FD  C9          	RET
  969                    
  970                    
  971                   ;====== BASIC-ERWEITERUNG ==============
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  18
CAOSE   ASM

  972                    
  973                    
  974                   ;*** BASIC I/O-Verteiler ***
  975                    
  976 E5FE  C5          BASPV:	PUSH BC
  977 E5FF  E5          	PUSH HL
  978 E600  CD F078     	CALL IRMON
  979 E603  CB 6B       	BIT 5,E
  980 E605  D5          	PUSH DE
  981 E606  20 4B       	JR NZ,BASBYE
  982 E608  23          	INC HL
  983 E609  23          	INC HL
  984 E60A  CB 7B       	BIT 7,E
  985 E60C  20 3A       	JR NZ,BSA2
  986 E60E  E5          	PUSH HL
  987 E60F  7B          	LD A,E
  988 E610  E6 07       	AND 7
  989 E612  21 E640     	LD HL,BUPTAB
  990 E615  85          	ADD L
  991 E616  6F          	LD L,A
  992 E617  7A          	LD A,D
  993 E618  53          	LD D,E
  994 E619  5E          	LD E,(HL)
  995 E61A  E1          	POP HL
  996 E61B  CD F063     	CALL PV3
  997 E61E  D1          	POP DE
  998 E61F  57          	LD D,A
  999 E620  7B          	LD A,E
 1000 E621  E6 4F       	AND 4FH
 1001 E623  EE 43       	XOR 43H
 1002 E625  20 10       	JR NZ,BSA1
 1003 E627  CD F251     	CALL OSTR
 1004 E62A  56 45 52 49 	DEFM 'VERIFY'
 1005 E630  00          	DEFB 0
 1006 E631  CD F566     	CALL YESNO
 1007 E634  CC F495     	CALL Z,VERIFY
 1008 E637  7A          BSA1:	LD A,D
 1009 E638  CB 9B       	RES 3,E
 1010 E63A  CD F091     	CALL IRMOFF
 1011 E63D  E1          BSAE:	POP HL
 1012 E63E  C1          	POP BC
 1013 E63F  C9          	RET
 1014                    
 1015 E640  16          BUPTAB:	DEFB 16H	;KEINE 100H-
 1016 E641  24          	DEFB 24H	;Ueberschneidung
 1017 E642  37          	DEFB 37H
 1018 E643  38          	DEFB 38H
 1019 E644  06          	DEFB 6
 1020 E645  02          	DEFB 2
 1021 E646  07          	DEFB 7
 1022 E647  03          	DEFB 3
 1023                    
 1024 E648  CD E3FC     BSA2:	CALL KBDS
 1025 E64B  D1          BSA3:	POP DE
 1026 E64C  57          	LD D,A
 1027 E64D  30 E8       	JR NC,BSA1
 1028 E64F  CB BB       	RES 7,E
 1029 E651  18 E4       	JR BSA1
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  19
CAOSE   ASM

 1030                    
 1031 E653  DB 88       BASBYE:	IN A,(88H)
 1032 E655  CB BF       	RES 7,A
 1033 E657  D3 88       	OUT (88H),A
 1034 E659  C3 F1E8     	JP LOOP
 1035                    
 1036                   ;*** BASIC-Expander ***
 1037                    
 1038 E65C  78          BEXP1:	LD A,B
 1039 E65D  D6 09       	SUB 9
 1040 E65F  38 4B       	JR C,SNERR1
 1041 E661  FE 1B       	CP 27
 1042 E663  30 47       	JR NC,SNERR1
 1043 E665  07          	RLCA
 1044 E666  4F          	LD C,A
 1045 E667  06 00       	LD B,0
 1046 E669  EB          	EX DE,HL
 1047 E66A  21 EDCA     	LD HL,TADR5
 1048 E66D  C3 C8B7     	JP 0C8B7H
 1049                    
 1050 E670              LOCOL:	;LoadColor
 1051 E670  E5          	PUSH HL
 1052 E671  21 B7A3     	LD HL,0B7A3H
 1053 E674  CD EBE3     	CALL RLDAM
 1054 E677  E1          	POP HL
 1055 E678  C9          	RET
 1056                    
 1057 E679  7E          BEXP2:	LD A,(HL)
 1058 E67A  FE DF       	CP 0DFH
 1059 E67C  D8          	RET C
 1060 E67D  FE E3       	CP 0E3H
 1061 E67F  D0          	RET NC
 1062 E680  FE E1       	CP 0E1H
 1063 E682  CA EA39     	JP Z,AT
 1064 E685  3A 03FD     	LD A,(3FDH)	;PRTFLG
 1065 E688  A7          	AND A
 1066 E689  20 21       	JR NZ,SNERR1
 1067 E68B  3C          	INC A
 1068 E68C  32 03FD     	LD (3FDH),A	;PRTFLG
 1069 E68F  3E          	DEFB 3EH	;LD A,n
 1070 E690  C5          RBE2:	PUSH BC
 1071 E691  CD E670     	CALL LOCOL
 1072 E694  32 037E     	LD (37EH),A
 1073 E697  7E          	LD A,(HL)
 1074 E698  FE DF       	CP 0DFH
 1075 E69A  28 1B       	JR Z,BE23
 1076 E69C  FE E2       	CP 0E2H
 1077 E69E  CA E6AF     	JP Z,PRCOL
 1078 E6A1  CD C8BD     	CALL 0C8BDH
 1079 E6A4  CD EA95     	CALL PAPER
 1080 E6A7  7E          BE22:	LD A,(HL)
 1081 E6A8  FE 3B       	CP ';'
 1082 E6AA  28 38       	JR Z,BE25
 1083 E6AC  C3 C348     SNERR1:	JP 0C348H
 1084                    
 1085 E6AF  CD C8BD     PRCOL:	CALL 0C8BDH
 1086 E6B2  CD EAAC     	CALL COLR
 1087 E6B5  18 F0       	JR BE22
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  20
CAOSE   ASM

 1088                    
 1089 E6B7  CD C8BD     BE23:	CALL 0C8BDH
 1090 E6BA  CD EA83     	CALL INK
 1091 E6BD  7E          	LD A,(HL)
 1092 E6BE  FE 3B       	CP ';'
 1093 E6C0  28 22       	JR Z,BE25
 1094 E6C2  CD C8CC     	CALL 0C8CCH
 1095 E6C5  2C          	DEFB ','
 1096 E6C6  FE E0       	CP 0E0H
 1097 E6C8  20 E2       	JR NZ,SNERR1
 1098 E6CA  CD C8BD     	CALL 0C8BDH
 1099 E6CD  CD EA95     	CALL PAPER
 1100 E6D0  CD C8CC     	CALL 0C8CCH
 1101 E6D3  3B          	DEFB ';'
 1102 E6D4  CD CB03     BE24:	CALL 0CB03H
 1103 E6D7  3A 037E     	LD A,(37EH)
 1104 E6DA  E5          	PUSH HL
 1105 E6DB  21 B7A3     	LD HL,0B7A3H
 1106 E6DE  CD EBE8     	CALL RLDMA
 1107 E6E1  E1          	POP HL
 1108 E6E2  C1          	POP BC
 1109 E6E3  C9          	RET
 1110                    
 1111 E6E4  CD C8BD     BE25:	CALL 0C8BDH
 1112 E6E7  18 EB       	JR BE24
 1113                    
 1114 E6E9  79          BEXP3:	LD A,C
 1115 E6EA  FE 62       	CP 62H
 1116 E6EC  CA EA07     	JP Z,VPEEK
 1117 E6EF  FE 6E       	CP 6EH
 1118 E6F1  CA EC00     	JP Z,PTEST
 1119 E6F4  FE 7C       	CP 7CH
 1120 E6F6  CA ECE1     	JP Z,CSRLIN
 1121 E6F9  FE 76       	CP 76H
 1122 E6FB  CA ED01     	JP Z,VGET
 1123 E6FE  D6 3E       	SUB 3EH
 1124 E700  38 AA       	JR C,SNERR1
 1125 E702  FE 07       	CP 7
 1126 E704  30 A6       	JR NC,SNERR1
 1127 E706  EB          	EX DE,HL
 1128 E707  01 EDC2     	LD BC,TOKADR
 1129 E70A  E1          	POP HL
 1130 E70B  6F          	LD L,A
 1131 E70C  09          	ADD HL,BC
 1132 E70D  4E          	LD C,(HL)
 1133 E70E  23          	INC HL
 1134 E70F  66          	LD H,(HL)
 1135 E710  69          	LD L,C
 1136 E711  E5          	PUSH HL
 1137 E712  EB          	EX DE,HL
 1138 E713  C9          	RET
 1139                    
 1140 E714  CD C8CC     STR:	CALL 0C8CCH
 1141 E717  28          	DEFB '('
 1142 E718  CD D421     	CALL 0D421H
 1143 E71B  F5          	PUSH AF
 1144 E71C  CD C8D6     	CALL 0C8D6H
 1145 E71F  CD CD3A     	CALL 0CD3AH
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  21
CAOSE   ASM

 1146 E722  CD C8DB     	CALL 0C8DBH
 1147 E725  F1          	POP AF
 1148 E726  E5          	PUSH HL
 1149 E727  F5          	PUSH AF
 1150 E728  CD D330     	CALL 0D330H
 1151 E72B  23          	INC HL
 1152 E72C  23          	INC HL
 1153 E72D  5E          	LD E,(HL)
 1154 E72E  23          	INC HL
 1155 E72F  56          	LD D,(HL)
 1156 E730  C1          	POP BC
 1157 E731  C5          	PUSH BC
 1158 E732  F5          	PUSH AF
 1159 E733  D5          	PUSH DE
 1160 E734  4F          	LD C,A
 1161 E735  AF          	XOR A
 1162 E736  B9          	CP C
 1163 E737  28 0C       	JR Z,STR2
 1164 E739  B8          	CP B
 1165 E73A  28 09       	JR Z,STR2
 1166 E73C  79          	LD A,C
 1167 E73D  05          	DEC B
 1168 E73E  28 05       	JR Z,STR2
 1169 E740  81          STR1:	ADD C
 1170 E741  38 2B       	JR C,STR5
 1171 E743  10 FB       	DJNZ STR1
 1172 E745  47          STR2:	LD B,A
 1173 E746  0E 00       	LD C,0
 1174 E748  C5          	PUSH BC
 1175 E749  CD D1E1     	CALL 0D1E1H
 1176 E74C  C1          	POP BC
 1177 E74D  C1          	POP BC
 1178 E74E  C5          	PUSH BC
 1179 E74F  CD D17E     	CALL 0D17EH
 1180 E752  E1          	POP HL
 1181 E753  E3          	EX (SP),HL
 1182 E754  7C          	LD A,H
 1183 E755  E1          	POP HL
 1184 E756  E3          	EX (SP),HL
 1185 E757  6F          	LD L,A
 1186 E758  24          	INC H
 1187 E759  25          STR3:	DEC H
 1188 E75A  E5          	PUSH HL
 1189 E75B  C5          	PUSH BC
 1190 E75C  28 07       	JR Z,STR4
 1191 E75E  CD D2F2     	CALL 0D2F2H
 1192 E761  C1          	POP BC
 1193 E762  E1          	POP HL
 1194 E763  18 F4       	JR STR3
 1195                    
 1196 E765  C1          STR4:	POP BC
 1197 E766  E1          	POP HL
 1198 E767  D1          	POP DE
 1199 E768  CD D302     	CALL 0D302H
 1200 E76B  C3 D1A9     	JP 0D1A9H
 1201                    
 1202 E76E  1E 1C       STR5:	LD E,28
 1203 E770  C3 C356     	JP 0C356H
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  22
CAOSE   ASM

 1204                    
 1205 E773  E5          REN:	PUSH HL
 1206 E774  21 000A     	LD HL,10
 1207 E777  22 0354     	LD (354H),HL
 1208 E77A  2A 035F     	LD HL,(35FH)
 1209 E77D  F5          	PUSH AF
 1210 E77E  E5          	PUSH HL
 1211 E77F  23          	INC HL
 1212 E780  23          	INC HL
 1213 E781  7E          	LD A,(HL)
 1214 E782  23          	INC HL
 1215 E783  66          	LD H,(HL)
 1216 E784  6F          	LD L,A
 1217 E785  22 034E     	LD (34EH),HL
 1218 E788  22 0352     	LD (352H),HL
 1219 E78B  ED 5B 03D7  	LD DE,(3D7H)
 1220 E78F  1B          	DEC DE
 1221 E790  1B          	DEC DE
 1222 E791  E1          REN1:	POP HL
 1223 E792  E5          	PUSH HL
 1224 E793  7E          	LD A,(HL)
 1225 E794  23          	INC HL
 1226 E795  66          	LD H,(HL)
 1227 E796  6F          	LD L,A
 1228 E797  CD C689     	CALL 0C689H
 1229 E79A  E3          	EX (SP),HL
 1230 E79B  20 F4       	JR NZ,REN1
 1231 E79D  D1          	POP DE
 1232 E79E  23          	INC HL
 1233 E79F  23          	INC HL
 1234 E7A0  7E          	LD A,(HL)
 1235 E7A1  23          	INC HL
 1236 E7A2  66          	LD H,(HL)
 1237 E7A3  6F          	LD L,A
 1238 E7A4  22 0350     	LD (350H),HL
 1239 E7A7  06 04       	LD B,4
 1240 E7A9  F1          	POP AF
 1241 E7AA  21 034E     	LD HL,34EH
 1242 E7AD  E3          	EX (SP),HL
 1243 E7AE  28 20       REN2:	JR Z,REN5
 1244 E7B0  CD C986     	CALL 0C986H
 1245 E7B3  F5          	PUSH AF
 1246 E7B4  7A          	LD A,D
 1247 E7B5  B3          	OR E
 1248 E7B6  CA C967     REN3:	JP Z,0C967H
 1249 E7B9  F1          	POP AF
 1250 E7BA  E3          	EX (SP),HL
 1251 E7BB  73          	LD (HL),E
 1252 E7BC  23          	INC HL
 1253 E7BD  72          	LD (HL),D
 1254 E7BE  23          	INC HL
 1255 E7BF  28 0F       	JR Z,REN5
 1256 E7C1  F5          	PUSH AF
 1257 E7C2  05          	DEC B
 1258 E7C3  28 07       	JR Z,REN4
 1259 E7C5  F1          	POP AF
 1260 E7C6  E3          	EX (SP),HL
 1261 E7C7  CD C8D6     	CALL 0C8D6H
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  23
CAOSE   ASM

 1262 E7CA  18 E2       	JR REN2
 1263                    
 1264 E7CC  F1          REN4:	POP AF
 1265 E7CD  C2 C348     	JP NZ,0C348H
 1266 E7D0  2A 0350     REN5:	LD HL,(350H)
 1267 E7D3  ED 5B 034E  	LD DE,(34EH)
 1268 E7D7  CD C689     	CALL 0C689H
 1269 E7DA  DA C967     REN6:	JP C,0C967H
 1270 E7DD  2A 035F     	LD HL,(35FH)
 1271 E7E0  CD C4BE     REN7:	CALL 0C4BEH
 1272 E7E3  38 04       	JR C,REN8
 1273 E7E5  28 CF       	JR Z,REN3
 1274 E7E7  18 F7       	JR REN7
 1275                    
 1276 E7E9  E1          REN8:	POP HL
 1277 E7EA  C5          	PUSH BC
 1278 E7EB  ED 5B 0350  	LD DE,(350H)
 1279 E7EF  21 0000     	LD HL,0
 1280 E7F2  22 0350     	LD (350H),HL
 1281 E7F5  60          REN9:	LD H,B
 1282 E7F6  69          	LD L,C
 1283 E7F7  4E          	LD C,(HL)
 1284 E7F8  23          	INC HL
 1285 E7F9  46          	LD B,(HL)
 1286 E7FA  78          	LD A,B
 1287 E7FB  B1          	OR C
 1288 E7FC  28 B8       	JR Z,REN3
 1289 E7FE  23          	INC HL
 1290 E7FF  7E          	LD A,(HL)
 1291 E800  23          	INC HL
 1292 E801  66          	LD H,(HL)
 1293 E802  6F          	LD L,A
 1294 E803  CD C689     	CALL 0C689H
 1295 E806  2A 0350     	LD HL,(350H)
 1296 E809  23          	INC HL
 1297 E80A  22 0350     	LD (350H),HL
 1298 E80D  20 E6       	JR NZ,REN9
 1299 E80F  23          	INC HL
 1300 E810  23          	INC HL
 1301 E811  29          	ADD HL,HL
 1302 E812  23          	INC HL
 1303 E813  ED 5B 03D7  	LD DE,(3D7H)
 1304 E817  19          	ADD HL,DE
 1305 E818  38 C0       	JR C,REN6
 1306 E81A  CD C327     	CALL 0C327H
 1307 E81D  22 03D7     	LD (3D7H),HL
 1308 E820  AF          	XOR A
 1309 E821  2B          	DEC HL
 1310 E822  77          	LD (HL),A
 1311 E823  2B          	DEC HL
 1312 E824  77          	LD (HL),A
 1313 E825  1B          	DEC DE
 1314 E826  1B          	DEC DE
 1315 E827  EB          	EX DE,HL
 1316 E828  73          	LD (HL),E
 1317 E829  23          	INC HL
 1318 E82A  72          	LD (HL),D
 1319 E82B  23          	INC HL
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  24
CAOSE   ASM

 1320 E82C  3D          	DEC A
 1321 E82D  77          	LD (HL),A
 1322 E82E  23          	INC HL
 1323 E82F  77          	LD (HL),A
 1324 E830  23          	INC HL
 1325 E831  EB          	EX DE,HL
 1326 E832  2A 0352     	LD HL,(352H)
 1327 E835  22 034E     	LD (34EH),HL
 1328 E838  E1          REN10:	POP HL
 1329 E839  4E          	LD C,(HL)
 1330 E83A  23          	INC HL
 1331 E83B  46          	LD B,(HL)
 1332 E83C  23          	INC HL
 1333 E83D  C5          	PUSH BC
 1334 E83E  01 034E     	LD BC,34EH
 1335 E841  7E          	LD A,(HL)
 1336 E842  12          	LD (DE),A
 1337 E843  0A          	LD A,(BC)
 1338 E844  77          	LD (HL),A
 1339 E845  23          	INC HL
 1340 E846  13          	INC DE
 1341 E847  03          	INC BC
 1342 E848  7E          	LD A,(HL)
 1343 E849  12          	LD (DE),A
 1344 E84A  0A          	LD A,(BC)
 1345 E84B  77          	LD (HL),A
 1346 E84C  13          	INC DE
 1347 E84D  2A 034E     	LD HL,(34EH)
 1348 E850  ED 4B 0354  	LD BC,(354H)
 1349 E854  09          	ADD HL,BC
 1350 E855  22 034E     	LD (34EH),HL
 1351 E858  2A 0350     	LD HL,(350H)
 1352 E85B  2B          	DEC HL
 1353 E85C  7C          	LD A,H
 1354 E85D  B5          	OR L
 1355 E85E  22 0350     	LD (350H),HL
 1356 E861  20 D5       	JR NZ,REN10
 1357 E863  12          	LD (DE),A
 1358 E864  E1          	POP HL
 1359 E865  2A 035F     	LD HL,(35FH)
 1360 E868  E5          	PUSH HL
 1361 E869  E1          REN11:	POP HL
 1362 E86A  4E          	LD C,(HL)
 1363 E86B  23          	INC HL
 1364 E86C  46          	LD B,(HL)
 1365 E86D  23          	INC HL
 1366 E86E  C5          	PUSH BC
 1367 E86F  7E          	LD A,(HL)
 1368 E870  23          	INC HL
 1369 E871  A6          	AND (HL)
 1370 E872  3C          	INC A
 1371 E873  28 26       	JR Z,REN15
 1372                    
 1373 E875  23          REN12:	INC HL
 1374 E876  7E          REN13:	LD A,(HL)
 1375 E877  B7          	OR A		;ZEILEN-ENDE
 1376 E878  28 EF       	JR Z,REN11
 1377 E87A  FE 88       	CP 88H		;GOTO
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  25
CAOSE   ASM

 1378 E87C  28 2A       	JR Z,REN16
 1379 E87E  FE 8C       	CP 8CH		;GOSUB
 1380 E880  28 26       	JR Z,REN16
 1381 E882  FE 8B       	CP 8BH		;RESTORE
 1382 E884  28 08       	JR Z,REN14
 1383 E886  FE D4       	CP 0D4H		;ELSE
 1384 E888  28 04       	JR Z,REN14
 1385 E88A  FE A9       	CP 0A9H		;THEN
 1386 E88C  20 E7       	JR NZ,REN12
 1387                    
 1388 E88E  CD C987     REN14:	CALL 0C987H	;F.RESTORE,THEN,
 1389 E891  7B          	LD A,E		; ELSE
 1390 E892  B2          	OR D
 1391 E893  C4 E8BC     	CALL NZ,RENLN
 1392 E896  C4 E8ED     	CALL NZ,RENZN
 1393 E899  18 DB       	JR REN13
 1394                    
 1395 E89B  2B          REN15:	DEC HL
 1396 E89C  22 03D7     	LD (3D7H),HL
 1397 E89F  2B          	DEC HL
 1398 E8A0  77          	LD (HL),A
 1399 E8A1  2B          	DEC HL
 1400 E8A2  77          	LD (HL),A
 1401 E8A3  E1          	POP HL
 1402 E8A4  E1          	POP HL
 1403 E8A5  C3 C48A     	JP 0C48AH
 1404                    
 1405 E8A8  CD C987     REN16:	CALL 0C987H	;F.GOTO,GOSUB
 1406 E8AB  7B          	LD A,E
 1407 E8AC  B2          	OR D
 1408 E8AD  28 C7       	JR Z,REN13
 1409 E8AF  CD E8BC     	CALL RENLN
 1410 E8B2  C4 E8ED     	CALL NZ,RENZN
 1411 E8B5  7E          	LD A,(HL)
 1412 E8B6  FE 2C       	CP 2CH
 1413 E8B8  20 BC       	JR NZ,REN13
 1414 E8BA  18 EC       	JR REN16
 1415                    
 1416 E8BC  E5          RENLN:	PUSH HL
 1417 E8BD  D5          	PUSH DE
 1418 E8BE  11 FFFF     	LD DE,0FFFFH
 1419 E8C1  CD C4BB     	CALL 0C4BBH
 1420 E8C4  D1          	POP DE
 1421 E8C5  03          	INC BC
 1422 E8C6  03          	INC BC
 1423 E8C7  03          	INC BC
 1424 E8C8  03          	INC BC
 1425 E8C9  60          	LD H,B
 1426 E8CA  69          	LD L,C
 1427 E8CB  ED 4B 0352  	LD BC,(352H)
 1428 E8CF  7E          RL1:	LD A,(HL)
 1429 E8D0  23          	INC HL
 1430 E8D1  E5          	PUSH HL
 1431 E8D2  B6          	OR (HL)
 1432 E8D3  28 15       	JR Z,REND2
 1433 E8D5  7E          	LD A,(HL)
 1434 E8D6  2B          	DEC HL
 1435 E8D7  6E          	LD L,(HL)
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  26
CAOSE   ASM

 1436 E8D8  67          	LD H,A
 1437 E8D9  CD C689     	CALL 0C689H
 1438 E8DC  28 0A       	JR Z,REND1
 1439 E8DE  2A 0354     	LD HL,(354H)
 1440 E8E1  09          	ADD HL,BC
 1441 E8E2  44          	LD B,H
 1442 E8E3  4D          	LD C,L
 1443 E8E4  E1          	POP HL
 1444 E8E5  23          	INC HL
 1445 E8E6  18 E7       	JR RL1
 1446                    
 1447 E8E8  AF          REND1:	XOR A
 1448 E8E9  3D          	DEC A
 1449 E8EA  E1          REND2:	POP HL
 1450 E8EB  E1          	POP HL
 1451 E8EC  C9          	RET
 1452                    
 1453 E8ED  C5          RENZN:	PUSH BC		;NEUE ZEILEN-NR.
 1454 E8EE  EB          	EX DE,HL	; F.SPRUENGE,...
 1455 E8EF  2A 03D7     	LD HL,(3D7H)
 1456 E8F2  ED 52       	SBC HL,DE
 1457 E8F4  E5          	PUSH HL
 1458 E8F5  C1          RZ1:	POP BC
 1459 E8F6  62          	LD H,D
 1460 E8F7  6B          	LD L,E
 1461 E8F8  1B          	DEC DE
 1462 E8F9  1A          	LD A,(DE)
 1463 E8FA  FE 2C       	CP ','
 1464 E8FC  28 0B       	JR Z,RZ2
 1465 E8FE  FE 3A       	CP ':'
 1466 E900  30 07       	JR NC,RZ2
 1467 E902  C5          	PUSH BC
 1468 E903  D5          	PUSH DE
 1469 E904  ED B0       	LDIR
 1470 E906  D1          	POP DE
 1471 E907  18 EC       	JR RZ1
 1472                    
 1473 E909  EB          RZ2:	EX DE,HL
 1474 E90A  D1          	POP DE
 1475 E90B  E5          	PUSH HL
 1476 E90C  C5          	PUSH BC
 1477 E90D  AF          	XOR A
 1478 E90E  06 98       	LD B,98H
 1479 E910  CD D6AE     	CALL 0D6AEH
 1480 E913  CD D834     	CALL 0D834H
 1481 E916  C1          	POP BC
 1482 E917  D1          	POP DE
 1483 E918  23          	INC HL
 1484 E919  13          	INC DE
 1485 E91A  7E          RZ3:	LD A,(HL)
 1486 E91B  B7          	OR A
 1487 E91C  28 0F       	JR Z,RZ4
 1488 E91E  C5          	PUSH BC
 1489 E91F  E5          	PUSH HL
 1490 E920  EB          	EX DE,HL
 1491 E921  09          	ADD HL,BC
 1492 E922  54          	LD D,H
 1493 E923  5D          	LD E,L
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  27
CAOSE   ASM

 1494 E924  2B          	DEC HL
 1495 E925  ED B8       	LDDR
 1496 E927  E1          	POP HL
 1497 E928  ED A0       	LDI
 1498 E92A  C1          	POP BC
 1499 E92B  18 ED       	JR RZ3
 1500                    
 1501 E92D  D5          RZ4:	PUSH DE
 1502 E92E  ED 5B 035F  	LD DE,(35FH)
 1503 E932  CD C493     	CALL 0C493H
 1504 E935  23          RZ5:	INC HL
 1505 E936  7E          	LD A,(HL)
 1506 E937  23          	INC HL
 1507 E938  B6          	OR (HL)
 1508 E939  20 FA       	JR NZ,RZ5
 1509 E93B  EB          	EX DE,HL
 1510 E93C  73          	LD (HL),E
 1511 E93D  23          	INC HL
 1512 E93E  72          	LD (HL),D
 1513 E93F  13          	INC DE
 1514 E940  13          	INC DE
 1515 E941  ED 53 03D7  	LD (3D7H),DE
 1516 E945  E1          	POP HL
 1517 E946  54          	LD D,H
 1518 E947  5D          	LD E,L
 1519 E948  7E          RZ6:	LD A,(HL)
 1520 E949  B7          	OR A
 1521 E94A  23          	INC HL
 1522 E94B  20 FB       	JR NZ,RZ6
 1523 E94D  C1          	POP BC
 1524 E94E  E3          	EX (SP),HL
 1525 E94F  C5          	PUSH BC
 1526 E950  EB          	EX DE,HL
 1527 E951  C9          	RET
 1528                    
 1529 E952  C8          DLTE:	RET Z
 1530 E953  CD C986     	CALL 0C986H
 1531 E956  CA C442     	JP Z,0C442H
 1532 E959  CD C8D6     	CALL 0C8D6H
 1533 E95C  D5          	PUSH DE
 1534 E95D  CD C986     	CALL 0C986H
 1535 E960  E1          	POP HL
 1536 E961  C0          	RET NZ
 1537 E962  EB          	EX DE,HL
 1538 E963  E5          	PUSH HL
 1539 E964  CD C4BB     	CALL 0C4BBH
 1540 E967  D2 C44D     	JP NC,0C44DH
 1541 E96A  D1          	POP DE
 1542 E96B  F5          	PUSH AF
 1543 E96C  C5          	PUSH BC
 1544 E96D  CD C4BE     	CALL 0C4BEH
 1545 E970  D2 C44D     	JP NC,0C44DH
 1546 E973  C1          	POP BC
 1547 E974  C3 C450     	JP 0C450H
 1548                    
 1549 E977  CD C8BE     PAUSE:	CALL 0C8BEH
 1550 E97A  20 0D       	JR NZ,PSE2
 1551 E97C  1E 2A       PSE1:	LD E,2AH	;BRKT
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  28
CAOSE   ASM

 1552 E97E  CD F027     	CALL PV5
 1553 E981  D8          	RET C
 1554 E982  FE 0A       	CP 0AH		;CUD
 1555 E984  20 F6       	JR NZ,PSE1
 1556 E986  C3 DDE4     CONT:	JP 0DDE4H
 1557                    
 1558 E989  CD D421     PSE2:	CALL 0D421H
 1559 E98C  4F          	LD C,A
 1560 E98D  3E 10       PSE3:	LD A,10H
 1561 E98F  1E 14       	LD E,14H	;WAIT
 1562 E991  CD F027     	CALL PV5
 1563 E994  1E 2A       	LD E,2AH	;BRKT
 1564 E996  CD F027     	CALL PV5
 1565 E999  D8          	RET C
 1566 E99A  FE 0A       	CP 0AH
 1567 E99C  28 E8       	JR Z,CONT
 1568 E99E  0D          	DEC C
 1569 E99F  20 EC       	JR NZ,PSE3
 1570 E9A1  C9          	RET
 1571                    
 1572 E9A2  06 01       BEEP:	LD B,1
 1573 E9A4  CD C8BE     	CALL 0C8BEH
 1574 E9A7  28 04       	JR Z,BEEP1
 1575 E9A9  CD D421     	CALL 0D421H
 1576 E9AC  47          	LD B,A
 1577 E9AD  3E 07       BEEP1:	LD A,7
 1578 E9AF  1E 00       	LD E,0
 1579 E9B1  CD F027     	CALL PV5
 1580 E9B4  10 F7       	DJNZ BEEP1
 1581 E9B6  C9          	RET
 1582                    
 1583 E9B7  CD C8D6     MC8D4:	CALL 0C8D6H	;CPCOMM
 1584 E9BA  C3 D421     	JP 0D421H	;ARGVL1
 1585                    
 1586 E9BD  CD C8BE     WNDW:	CALL 0C8BEH	;TCHAR1
 1587 E9C0  28 2E       	JR Z,WDW2	;volles Fenster
 1588 E9C2  CD D421     	CALL 0D421H	;ARGVL1
 1589 E9C5  47          	LD B,A		;WAY>B
 1590 E9C6  C5          	PUSH BC
 1591 E9C7  CD E9B7     	CALL MC8D4	;2. Wert holen
 1592 E9CA  57          	LD D,A		;WEY>D
 1593 E9CB  D5          	PUSH DE
 1594 E9CC  CD E9B7     	CALL MC8D4	;3. Wert holen
 1595 E9CF  D1          	POP DE
 1596 E9D0  5F          	LD E,A		;WAX>E
 1597 E9D1  D5          	PUSH DE
 1598 E9D2  CD E9B7     	CALL MC8D4	;4. Wert holen
 1599 E9D5  D1          	POP DE		;WEX>A
 1600 E9D6  E3          	EX (SP),HL	;WAY>H
 1601 E9D7  6B          	LD L,E		;WAX>L
 1602 E9D8  93          	SUB E
 1603 E9D9  38 5B       	JR C,SNERR2
 1604 E9DB  3C          	INC A
 1605 E9DC  5F          	LD E,A		;WLX>E
 1606 E9DD  7A          	LD A,D		;WEY
 1607 E9DE  94          	SUB H		;WAY
 1608 E9DF  38 55       	JR C,SNERR2
 1609 E9E1  3C          	INC A
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  29
CAOSE   ASM

 1610 E9E2  57          	LD D,A		;WLY>D
 1611 E9E3  CD F078     WDW1:	CALL IRMON
 1612 E9E6  CD F71E     	CALL WININ0
 1613 E9E9  CD F091     	CALL IRMOFF
 1614 E9EC  38 48       	JR C,SNERR2
 1615 E9EE  E1          	POP HL
 1616 E9EF  C9          	RET
 1617                    
 1618 E9F0  E5          WDW2:	PUSH HL
 1619 E9F1  21 0100     	LD HL,100H
 1620 E9F4  11 1E28     	LD DE,1E28H
 1621 E9F7  18 EA       	JR WDW1
 1622                    
 1623 E9F9  E5          BLOAD:	PUSH HL
 1624 E9FA  21 B781     	LD HL,0B781H
 1625 E9FD  AF          	XOR A
 1626 E9FE  CD EBE8     	CALL RLDMA
 1627 EA01  E1          	POP HL
 1628 EA02  1E 10       	LD E,10H
 1629 EA04  C3 F027     	JP PV5
 1630                    
 1631 EA07  CD CDE1     VPEEK:	CALL 0CDE1H
 1632 EA0A  E3          	EX (SP),HL
 1633 EA0B  11 CDF3     	LD DE,0CDF3H
 1634 EA0E  D5          	PUSH DE
 1635 EA0F  CD C96F     	CALL 0C96FH
 1636 EA12  E5          	PUSH HL
 1637 EA13  21 8000     	LD HL,8000H
 1638 EA16  19          	ADD HL,DE
 1639 EA17  38 1D       	JR C,SNERR2
 1640 EA19  CB 74       	BIT 6,H
 1641 EA1B  20 19       	JR NZ,SNERR2
 1642 EA1D  CD EBE3     	CALL RLDAM
 1643 EA20  E1          	POP HL
 1644 EA21  C3 D3E9     	JP 0D3E9H
 1645                    
 1646 EA24  CD C96C     VPOKE:	CALL 0C96CH
 1647 EA27  D5          	PUSH DE
 1648 EA28  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1649 EA2B  E3          	EX (SP),HL
 1650 EA2C  11 8000     	LD DE,8000H
 1651 EA2F  19          	ADD HL,DE
 1652 EA30  38 04       	JR C,SNERR2
 1653 EA32  CB 74       	BIT 6,H
 1654 EA34  28 71       	JR Z,JLDMA
 1655 EA36  C3 C348     SNERR2:	JP 0C348H
 1656                    
 1657 EA39  3A 03FD     AT:	LD A,(3FDH)
 1658 EA3C  CB 4F       	BIT 1,A
 1659 EA3E  CB CF       	SET 1,A
 1660 EA40  32 03FD     	LD (3FDH),A
 1661 EA43  20 F1       	JR NZ,SNERR2
 1662 EA45  D5          	PUSH DE
 1663 EA46  E5          	PUSH HL
 1664 EA47  CD F078     	CALL IRMON
 1665 EA4A  21 0000     	LD HL,0
 1666 EA4D  11 2028     	LD DE,2028H
 1667 EA50  CD F71E     	CALL WININ0
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  30
CAOSE   ASM

 1668 EA53  CD F091     	CALL IRMOFF
 1669 EA56  E1          	POP HL
 1670 EA57  CD EABD     	CALL SUARG
 1671 EA5A  CD C8DB     	CALL 0C8DBH
 1672 EA5D  CD C8CC     	CALL 0C8CCH
 1673 EA60  3B          	DEFB ';'
 1674 EA61  7E          	LD A,(HL)
 1675 EA62  FE DF       	CP 0DFH
 1676 EA64  38 18       	JR C,AT2
 1677 EA66  FE E3       	CP 0E3H
 1678 EA68  30 14       	JR NC,AT2
 1679 EA6A  CD E690     	CALL RBE2
 1680 EA6D  E5          AT1:	PUSH HL
 1681 EA6E  CD F078     	CALL IRMON
 1682 EA71  3A B79B     	LD A,(0B79BH)
 1683 EA74  CD F740     	CALL WINAK1
 1684 EA77  CD F091     	CALL IRMOFF
 1685 EA7A  E1          	POP HL
 1686 EA7B  D1          	POP DE
 1687 EA7C  C1          	POP BC
 1688 EA7D  C9          	RET
 1689                    
 1690 EA7E  CD CB03     AT2:	CALL 0CB03H
 1691 EA81  18 EA       	JR AT1
 1692                    
 1693 EA83  CD D421     INK:	CALL 0D421H
 1694 EA86  FE 20       	CP 20H
 1695 EA88  30 AC       	JR NC,SNERR2
 1696 EA8A  87          	ADD A
 1697 EA8B  87          	ADD A
 1698 EA8C  87          	ADD A
 1699 EA8D  57          	LD D,A
 1700 EA8E  CD E670     	CALL LOCOL
 1701 EA91  E6 07       	AND 7
 1702 EA93  18 0D       	JR LDCOL
 1703                    
 1704 EA95  CD D421     PAPER:	CALL 0D421H
 1705 EA98  FE 08       	CP 8
 1706 EA9A  30 9A       	JR NC,SNERR2
 1707 EA9C  57          	LD D,A
 1708 EA9D  CD E670     	CALL LOCOL
 1709 EAA0  E6 F8       	AND 0F8H
 1710 EAA2  B2          LDCOL:	OR D
 1711 EAA3  E5          	PUSH HL
 1712 EAA4  21 B7A3     	LD HL,0B7A3H
 1713 EAA7  CD EBE8     JLDMA:	CALL RLDMA
 1714 EAAA  E1          	POP HL
 1715 EAAB  C9          	RET
 1716                    
 1717 EAAC  CD C8BE     COLR:	CALL 0C8BEH
 1718 EAAF  28 85       	JR Z,SNERR2
 1719 EAB1  CD EA83     	CALL INK
 1720 EAB4  CD C8BE     	CALL 0C8BEH
 1721 EAB7  C8          	RET Z
 1722 EAB8  CD C8D6     	CALL 0C8D6H
 1723 EABB  18 D8       	JR PAPER
 1724                    
 1725 EABD  CD C8BD     SUARG:	CALL 0C8BDH
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  31
CAOSE   ASM

 1726 EAC0  CD C8CC     	CALL 0C8CCH
 1727 EAC3  28          	DEFB '('
 1728                    
 1729 EAC4  CD D421     LOCAT:	CALL 0D421H
 1730 EAC7  57          	LD D,A
 1731 EAC8  D5          	PUSH DE
 1732 EAC9  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1733 EACC  D1          	POP DE
 1734 EACD  5F          	LD E,A
 1735 EACE  CD F078     	CALL IRMON
 1736 EAD1  CD E0AA     	CALL TCIF
 1737 EAD4  38 04       	JR C,LOCAT1
 1738 EAD6  ED 53 B7A0  	LD (0B7A0H),DE
 1739 EADA  CD F091     LOCAT1:	CALL IRMOFF
 1740 EADD  D0          	RET NC
 1741 EADE  C3 C348     SNERR3:	JP 0C348H
 1742                    
 1743 EAE1  E5          INKEY:	PUSH HL
 1744 EAE2  CD E3FC     	CALL KBDS
 1745 EAE5  30 0F       	JR NC,IKY2
 1746 EAE7  3E 01       	LD A,1
 1747 EAE9  CD D17B     	CALL 0D17BH
 1748 EAEC  CD DDE4     	CALL 0DDE4H
 1749 EAEF  2A 03C2     AKTCHR:	LD HL,(3C2H)
 1750 EAF2  77          	LD (HL),A
 1751 EAF3  C3 D1A9     IKY1:	JP 0D1A9H
 1752                    
 1753 EAF6  AF          IKY2:	XOR A
 1754 EAF7  CD D17B     	CALL 0D17BH
 1755 EAFA  18 F7       	JR IKY1
 1756                    
 1757 EAFC  CD D421     SOUND:	CALL 0D421H
 1758 EAFF  E5          	PUSH HL
 1759 EB00  21 B782     	LD HL,0B782H	;ARG1
 1760 EB03  06 04       	LD B,4		;4 Argumente
 1761 EB05  CD EBE8     SNDS:	CALL RLDMA	;in IRM schreiben
 1762 EB08  23          	INC HL
 1763 EB09  E3          	EX (SP),HL
 1764 EB0A  05          	DEC B
 1765 EB0B  28 08       	JR Z,SND2
 1766 EB0D  C5          	PUSH BC
 1767 EB0E  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1768 EB11  C1          	POP BC
 1769 EB12  E3          	EX (SP),HL
 1770 EB13  18 F0       	JR SNDS
 1771                    
 1772 EB15  CD C8BE     SND2:	CALL 0C8BEH
 1773 EB18  28 16       	JR Z,SND3
 1774 EB1A  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1775 EB1D  E3          	EX (SP),HL
 1776 EB1E  CD EBE8     	CALL RLDMA
 1777 EB21  23          	INC HL
 1778 EB22  E3          	EX (SP),HL
 1779 EB23  CD C8BE     	CALL 0C8BEH
 1780 EB26  28 08       	JR Z,SND3
 1781 EB28  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1782 EB2B  E3          	EX (SP),HL
 1783 EB2C  CD EBE8     	CALL RLDMA
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  32
CAOSE   ASM

 1784 EB2F  E3          	EX (SP),HL
 1785 EB30  1E 35       SND3:	LD E,35H
 1786 EB32  C1          	POP BC
 1787 EB33  C3 F027     	JP PV5
 1788                    
 1789 EB36  1E 2F       PRES:	LD E,2FH
 1790 EB38  01          	DEFB 1
 1791 EB39  1E 30       PSET:	LD E,30H
 1792 EB3B  D5          	PUSH DE
 1793 EB3C  CD C96C     	CALL 0C96CH	;EPRVL4
 1794 EB3F  E5          	PUSH HL
 1795 EB40  21 B7D3     	LD HL,0B7D3H	;HOR
 1796 EB43  CD EC33     	CALL LDMDE
 1797 EB46  E3          	EX (SP),HL
 1798 EB47  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1799 EB4A  E3          	EX (SP),HL
 1800 EB4B  CD EBE8     	CALL RLDMA
 1801 EB4E  E1          	POP HL
 1802 EB4F  CD EB59     	CALL SUCOL
 1803 EB52  D1          	POP DE
 1804 EB53  CD F027     PNT2:	CALL PV5
 1805 EB56  D0          	RET NC
 1806 EB57  18 85       	JR SNERR3
 1807                    
 1808 EB59  CD C8BE     SUCOL:	CALL 0C8BEH
 1809 EB5C  C8          	RET Z
 1810 EB5D  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1811 EB60  E5          	PUSH HL
 1812 EB61  21 B7D6     	LD HL,0B7D6H
 1813 EB64  07          	RLCA
 1814 EB65  07          	RLCA
 1815 EB66  07          	RLCA
 1816 EB67  C3 EAA7     	JP JLDMA
 1817                    
 1818 EB6A  CD CD36     INSTR:	CALL 0CD36H
 1819 EB6D  CD C8D6     	CALL 0C8D6H
 1820 EB70  E5          	PUSH HL
 1821 EB71  CD D330     	CALL 0D330H
 1822 EB74  28 17       	JR Z,FCERR
 1823 EB76  47          	LD B,A
 1824 EB77  23          	INC HL
 1825 EB78  23          	INC HL
 1826 EB79  5E          	LD E,(HL)
 1827 EB7A  23          	INC HL
 1828 EB7B  56          	LD D,(HL)
 1829 EB7C  E1          	POP HL
 1830 EB7D  D5          	PUSH DE
 1831 EB7E  C5          	PUSH BC
 1832 EB7F  CD CD3A     	CALL 0CD3AH
 1833 EB82  CD C8DB     	CALL 0C8DBH
 1834 EB85  C1          	POP BC
 1835 EB86  D1          	POP DE
 1836 EB87  E5          	PUSH HL
 1837 EB88  D5          	PUSH DE
 1838 EB89  C5          	PUSH BC
 1839 EB8A  CD D330     	CALL 0D330H
 1840 EB8D  CA C967     FCERR:	JP Z,0C967H
 1841 EB90  23          	INC HL
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  33
CAOSE   ASM

 1842 EB91  23          	INC HL
 1843 EB92  4E          	LD C,(HL)
 1844 EB93  23          	INC HL
 1845 EB94  66          	LD H,(HL)
 1846 EB95  69          	LD L,C
 1847 EB96  C1          	POP BC
 1848 EB97  4F          	LD C,A
 1849 EB98  D1          	POP DE
 1850 EB99  E5          	PUSH HL
 1851 EB9A  C5          ISTR1:	PUSH BC
 1852 EB9B  D5          	PUSH DE
 1853 EB9C  1A          	LD A,(DE)
 1854 EB9D  BE          ISTR2:	CP (HL)
 1855 EB9E  28 0F       	JR Z,ISTR5
 1856 EBA0  23          	INC HL
 1857 EBA1  0D          	DEC C
 1858 EBA2  20 F9       	JR NZ,ISTR2
 1859 EBA4  AF          ISTR3:	XOR A
 1860 EBA5  E1          	POP HL
 1861 EBA6  E1          	POP HL
 1862 EBA7  E1          	POP HL
 1863 EBA8  11 CDF3     ISTR4:	LD DE,0CDF3H
 1864 EBAB  D5          	PUSH DE
 1865 EBAC  C3 D0C0     	JP 0D0C0H
 1866                    
 1867 EBAF  23          ISTR5:	INC HL
 1868 EBB0  E5          	PUSH HL
 1869 EBB1  2B          	DEC HL
 1870 EBB2  23          ISTR6:	INC HL
 1871 EBB3  0D          	DEC C
 1872 EBB4  28 0F       	JR Z,ISTR7
 1873 EBB6  13          	INC DE
 1874 EBB7  05          	DEC B
 1875 EBB8  28 12       	JR Z,ISTR8
 1876 EBBA  1A          	LD A,(DE)
 1877 EBBB  BE          	CP (HL)
 1878 EBBC  28 F4       	JR Z,ISTR6
 1879 EBBE  E1          	POP HL
 1880 EBBF  D1          	POP DE
 1881 EBC0  79          	LD A,C
 1882 EBC1  C1          	POP BC
 1883 EBC2  4F          	LD C,A
 1884 EBC3  18 D5       	JR ISTR1
 1885                    
 1886 EBC5  13          ISTR7:	INC DE
 1887 EBC6  05          	DEC B
 1888 EBC7  E1          	POP HL
 1889 EBC8  20 DA       	JR NZ,ISTR3
 1890 EBCA  18 01       	JR ISTR9
 1891                    
 1892 EBCC  E1          ISTR8:	POP HL
 1893 EBCD  D1          ISTR9:	POP DE
 1894 EBCE  D1          	POP DE
 1895 EBCF  D1          	POP DE
 1896 EBD0  A7          	AND A
 1897 EBD1  ED 52       	SBC HL,DE
 1898 EBD3  7D          	LD A,L
 1899 EBD4  18 D2       	JR ISTR4
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  34
CAOSE   ASM

 1900                    
 1901 EBD6  CD D421     BKEY:	CALL 0D421H
 1902 EBD9  FE 0D       	CP 0DH
 1903 EBDB  30 53       	JR NC,SNERR4
 1904 EBDD  1E 39       	LD E,39H
 1905 EBDF  01          	DEFB 1
 1906 EBE0  1E 3A       KLST:	LD E,3AH
 1907 EBE2  01          	DEFB 1
 1908 EBE3  1E 29       RLDAM:	LD E,29H
 1909 EBE5  C3 F027     JPV5:	JP PV5
 1910                    
 1911 EBE8  1E 28       RLDMA:	LD E,28H
 1912 EBEA  18 F9       	JR JPV5
 1913                    
 1914 EBEC  CD D421     SWTCH:	CALL 0D421H
 1915 EBEF  F5          	PUSH AF
 1916 EBF0  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1917 EBF3  57          	LD D,A
 1918 EBF4  F1          	POP AF
 1919 EBF5  E5          	PUSH HL
 1920 EBF6  6F          	LD L,A
 1921 EBF7  3E 02       	LD A,2
 1922 EBF9  1E 26       	LD E,26H
 1923 EBFB  CD F027     	CALL PV5
 1924 EBFE  E1          	POP HL
 1925 EBFF  C9          	RET
 1926                    
 1927 EC00  CD CDE1     PTEST:	CALL 0CDE1H
 1928 EC03  E3          	EX (SP),HL
 1929 EC04  11 CDF3     	LD DE,0CDF3H
 1930 EC07  D5          	PUSH DE
 1931 EC08  CD C96F     	CALL 0C96FH
 1932 EC0B  E5          	PUSH HL
 1933 EC0C  21 B7D3     	LD HL,0B7D3H
 1934 EC0F  CD EC33     	CALL LDMDE
 1935 EC12  CD F078     	CALL IRMON
 1936 EC15  1E 2F       	LD E,2FH
 1937 EC17  CD F063     	CALL PV3
 1938 EC1A  38 0D       	JR C,PTST2
 1939 EC1C  06 00       	LD B,0
 1940 EC1E  28 08       	JR Z,PTST1
 1941 EC20  23          	INC HL
 1942 EC21  77          	LD (HL),A
 1943 EC22  1C          	INC E
 1944 EC23  CD F063     	CALL PV3
 1945 EC26  06 01       	LD B,1
 1946 EC28  78          PTST1:	LD A,B
 1947 EC29  CD F091     PTST2:	CALL IRMOFF
 1948 EC2C  E1          	POP HL
 1949 EC2D  D2 D3E9     	JP NC,0D3E9H
 1950                    
 1951 EC30  C3 C348     SNERR4:	JP 0C348H
 1952                    
 1953 EC33  7B          LDMDE:	LD A,E
 1954 EC34  CD EBE8     	CALL RLDMA
 1955 EC37  23          	INC HL
 1956 EC38  7A          	LD A,D
 1957 EC39  CD EBE8     	CALL RLDMA
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  35
CAOSE   ASM

 1958 EC3C  23          	INC HL
 1959 EC3D  C9          	RET
 1960                    
 1961 EC3E  0E 00       CLOSE:	LD C,0
 1962 EC40  7E          	LD A,(HL)
 1963 EC41  FE 49       	CP 'I'
 1964 EC43  28 05       	JR Z,CL1
 1965 EC45  0C          	INC C
 1966 EC46  FE 4F       	CP 'O'
 1967 EC48  20 E6       	JR NZ,SNERR4
 1968 EC4A  C5          CL1:	PUSH BC
 1969 EC4B  23          	INC HL
 1970 EC4C  7E          	LD A,(HL)
 1971 EC4D  FE 23       	CP '#'
 1972 EC4F  20 DF       CL2:	JR NZ,SNERR4
 1973 EC51  23          	INC HL
 1974 EC52  CD D421     	CALL 0D421H
 1975 EC55  E6 03       	AND 3
 1976 EC57  C1          	POP BC
 1977 EC58  C8          	RET Z
 1978 EC59  E5          	PUSH HL
 1979 EC5A  CB 17       	RL A
 1980 EC5C  81          	ADD C
 1981 EC5D  F5          	PUSH AF
 1982 EC5E  3D          	DEC A
 1983 EC5F  06 00       	LD B,0
 1984 EC61  37          	SCF
 1985 EC62  CB 10       CL3:	RL B
 1986 EC64  3D          	DEC A
 1987 EC65  20 FB       	JR NZ,CL3
 1988 EC67  21 0307     	LD HL,307H
 1989 EC6A  7E          	LD A,(HL)
 1990 EC6B  A8          	XOR B
 1991 EC6C  77          	LD (HL),A
 1992 EC6D  F1          	POP AF
 1993 EC6E  E1          	POP HL
 1994 EC6F  CB F7       	SET 6,A
 1995 EC71  D5          	PUSH DE
 1996 EC72  5F          	LD E,A
 1997 EC73  16 03       	LD D,3
 1998 EC75  CD E5FE     	CALL BASPV
 1999 EC78  D1          	POP DE
 2000 EC79  C9          	RET
 2001                    
 2002 EC7A  ED 5F       RND:	LD A,R
 2003 EC7C  32 031D     	LD (31DH),A
 2004 EC7F  C9          	RET
 2005                    
 2006 EC80  7E          OPEN:	LD A,(HL)
 2007 EC81  23          	INC HL
 2008 EC82  FE 49       	CP 'I'
 2009 EC84  28 19       	JR Z,OPENI
 2010 EC86  FE 4F       	CP 'O'
 2011 EC88  20 C5       	JR NZ,CL2
 2012 EC8A  CD DE25     	CALL 0DE25H
 2013 EC8D  CD DDC8     	CALL 0DDC8H
 2014 EC90  C8          	RET Z
 2015 EC91  3E D5       	LD A,0D5H
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  36
CAOSE   ASM

 2016 EC93  CD DCB2     	CALL 0DCB2H
 2017 EC96  21 03EA     	LD HL,3EAH
 2018 EC99  AF          	XOR A
 2019 EC9A  CD DDD5     	CALL 0DDD5H
 2020 EC9D  E1          	POP HL
 2021 EC9E  C9          	RET
 2022                    
 2023 EC9F  CD DE5F     OPENI:	CALL 0DE5FH
 2024 ECA2  3A 0309     	LD A,(309H)
 2025 ECA5  E6 03       	AND 3
 2026 ECA7  C8          	RET Z
 2027 ECA8  3E D5       	LD A,0D5H
 2028 ECAA  CD DCB2     	CALL 0DCB2H
 2029 ECAD  21 03EA     	LD HL,3EAH
 2030 ECB0  CD DDE4     	CALL 0DDE4H
 2031 ECB3  E1          	POP HL
 2032 ECB4  C9          	RET
 2033                    
 2034 ECB5  01 043E     BLINE:	LD BC,43EH
 2035 ECB8  18 03       	JR PIC1
 2036                    
 2037 ECBA  01 033F     CIRCL:	LD BC,33FH
 2038                    
 2039 ECBD  C5          PIC1:	PUSH BC
 2040 ECBE  CD C96C     	CALL 0C96CH
 2041 ECC1  C1          	POP BC
 2042 ECC2  C5          	PUSH BC
 2043 ECC3  E5          	PUSH HL
 2044 ECC4  21 B782     	LD HL,0B782H
 2045 ECC7  CD EC33     PIC2:	CALL LDMDE
 2046 ECCA  05          	DEC B
 2047 ECCB  28 0C       	JR Z,PIC3
 2048 ECCD  E3          	EX (SP),HL
 2049 ECCE  C5          	PUSH BC
 2050 ECCF  CD C8D6     	CALL 0C8D6H
 2051 ECD2  CD C96C     	CALL 0C96CH
 2052 ECD5  C1          	POP BC
 2053 ECD6  E3          	EX (SP),HL
 2054 ECD7  18 EE       	JR PIC2
 2055                    
 2056 ECD9  E1          PIC3:	POP HL
 2057 ECDA  CD EB59     	CALL SUCOL
 2058 ECDD  D1          	POP DE
 2059 ECDE  C3 F027     	JP PV5
 2060                    
 2061 ECE1  CD CDE1     CSRLIN:	CALL 0CDE1H
 2062 ECE4  E3          	EX (SP),HL
 2063 ECE5  11 CDF3     	LD DE,0CDF3H
 2064 ECE8  D5          	PUSH DE
 2065 ECE9  CD D424     	CALL 0D424H
 2066 ECEC  E5          	PUSH HL
 2067 ECED  A7          	AND A
 2068 ECEE  3E 00       	LD A,0
 2069 ECF0  21 B79D     	LD HL,0B79DH
 2070 ECF3  CC EBE3     	CALL Z,RLDAM
 2071 ECF6  47          	LD B,A
 2072 ECF7  2E A1       	LD L,0A1H
 2073 ECF9  CD EBE3     	CALL RLDAM
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  37
CAOSE   ASM

 2074 ECFC  80          	ADD B
 2075 ECFD  E1          	POP HL
 2076 ECFE  C3 D3E9     	JP 0D3E9H
 2077                    
 2078 ED01  E3          VGET:	EX (SP),HL
 2079 ED02  3E 01       	LD A,1
 2080 ED04  CD D17B     	CALL 0D17BH
 2081 ED07  CD F078     	CALL IRMON
 2082 ED0A  ED 5B B7A0  	LD DE,(0B7A0H)
 2083 ED0E  CD E0B6     	CALL DABR
 2084 ED11  7E          	LD A,(HL)
 2085 ED12  CD F091     	CALL IRMOFF
 2086 ED15  C3 EAEF     	JP AKTCHR
 2087                    
 2088                   ;	BASIC-TOKEN
 2089                   ;	===========
 2090                    
 2091 ED18  C9          TOKTAB:	DEFB 'I'+80H	;TOKEN AB D5
 2092 ED19  4E 4B 45 59 	DEFM 'NKEY$'
 2093 ED1E  CA          	DEFB 'J'+80H
 2094 ED1F  4F 59 53 54 	DEFM 'OYST'
 2095 ED23  D3          	DEFB 'S'+80H
 2096 ED24  54 52 49 4E 	DEFM 'TRING$'
 2097 ED2A  C9          	DEFB 'I'+80H
 2098 ED2B  4E 53 54 52 	DEFM 'NSTR'
 2099 ED2F  D2          	DEFB 'R'+80H
 2100 ED30  45 4E 55 4D 	DEFM 'ENUMBER'
 2101 ED37  C4          	DEFB 'D'+80H
 2102 ED38  45 4C 45 54 	DEFM 'ELETE'
 2103 ED3D  D0          	DEFB 'P'+80H
 2104 ED3E  41 55 53 45 	DEFM 'AUSE'
 2105 ED42  C2          	DEFB 'B'+80H
 2106 ED43  45 45 50    	DEFM 'EEP'
 2107 ED46  D7          	DEFB 'W'+80H
 2108 ED47  49 4E 44 4F 	DEFM 'INDOW'
 2109 ED4C  C2          	DEFB 'B'+80H
 2110 ED4D  4F 52 44 45 	DEFM 'ORDER'
 2111 ED52  C9          	DEFB 'I'+80H
 2112 ED53  4E 4B       	DEFM 'NK'
 2113 ED55  D0          	DEFB 'P'+80H
 2114 ED56  41 50 45 52 	DEFM 'APER'
 2115 ED5A  C1          	DEFB 'A'+80H
 2116 ED5B  54          	DEFM 'T'
 2117 ED5C  C3          	DEFB 'C'+80H
 2118 ED5D  4F 4C 4F 52 	DEFM 'OLOR'
 2119 ED61  D3          	DEFB 'S'+80H
 2120 ED62  4F 55 4E 44 	DEFM 'OUND'
 2121 ED66  D0          	DEFB 'P'+80H
 2122 ED67  53 45 54    	DEFM 'SET'
 2123 ED6A  D0          	DEFB 'P'+80H
 2124 ED6B  52 45 53 45 	DEFM 'RESET'
 2125 ED70  C2          	DEFB 'B'+80H
 2126 ED71  4C 4F 41 44 	DEFM 'LOAD'
 2127 ED75  D6          	DEFB 'V'+80H
 2128 ED76  50 45 45 4B 	DEFM 'PEEK'
 2129 ED7A  D6          	DEFB 'V'+80H
 2130 ED7B  50 4F 4B 45 	DEFM 'POKE'
 2131 ED7F  CC          	DEFB 'L'+80H
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  38
CAOSE   ASM

 2132 ED80  4F 43 41 54 	DEFM 'OCATE'
 2133 ED85  CB          	DEFB 'K'+80H
 2134 ED86  45 59 4C 49 	DEFM 'EYLIST'
 2135 ED8C  CB          	DEFB 'K'+80H
 2136 ED8D  45 59       	DEFM 'EY'
 2137 ED8F  D3          	DEFB 'S'+80H
 2138 ED90  57 49 54 43 	DEFM 'WITCH'
 2139 ED95  D0          	DEFB 'P'+80H
 2140 ED96  54 45 53 54 	DEFM 'TEST'
 2141 ED9A  C3          	DEFB 'C'+80H
 2142 ED9B  4C 4F 53 45 	DEFM 'LOSE'
 2143 ED9F  CF          	DEFB 'O'+80H
 2144 EDA0  50 45 4E    	DEFM 'PEN'
 2145 EDA3  D2          	DEFB 'R'+80H
 2146 EDA4  41 4E 44 4F 	DEFM 'ANDOMIZE'
 2147 EDAC  D6          	DEFB 'V'+80H
 2148 EDAD  47 45 54 24 	DEFM 'GET$'
 2149 EDB1  CC          	DEFB 'L'+80H
 2150 EDB2  49 4E 45    	DEFM 'INE'
 2151 EDB5  C3          	DEFB 'C'+80H
 2152 EDB6  49 52 43 4C 	DEFM 'IRCLE'
 2153 EDBB  C3          	DEFB 'C'+80H
 2154 EDBC  53 52 4C 49 	DEFM 'SRLIN'
 2155 EDC1  80          	DEFB 80H	;ENDE-BYTE
 2156                    
 2157 EDC2  EAE1        TOKADR:	DEFW INKEY
 2158 EDC4  02FD        	DEFW 2FDH	;JOY
 2159 EDC6  E714        	DEFW STR
 2160 EDC8  EB6A        	DEFW INSTR
 2161 EDCA  E773        TADR5:	DEFW REN
 2162 EDCC  E952        	DEFW DLTE
 2163 EDCE  E977        	DEFW PAUSE
 2164 EDD0  E9A2        	DEFW BEEP
 2165 EDD2  E9BD        	DEFW WNDW
 2166 EDD4  D421        	DEFW 0D421H	;BORDER
 2167 EDD6  EA83        	DEFW INK
 2168 EDD8  EA95        	DEFW PAPER
 2169 EDDA  C348        	DEFW 0C348H	;AT
 2170 EDDC  EAAC        	DEFW COLR
 2171 EDDE  EAFC        	DEFW SOUND
 2172 EDE0  EB39        	DEFW PSET
 2173 EDE2  EB36        	DEFW PRES
 2174 EDE4  E9F9        	DEFW BLOAD
 2175 EDE6  C348        	DEFW 0C348H	;VPEEK
 2176 EDE8  EA24        	DEFW VPOKE
 2177 EDEA  EAC4        	DEFW LOCAT
 2178 EDEC  EBE0        	DEFW KLST
 2179 EDEE  EBD6        	DEFW BKEY
 2180 EDF0  EBEC        	DEFW SWTCH
 2181 EDF2  C348        	DEFW 0C348H	;PTEST
 2182 EDF4  EC3E        	DEFW CLOSE
 2183 EDF6  EC80        	DEFW OPEN
 2184 EDF8  EC7A        	DEFW RND
 2185 EDFA  C348        	DEFW 0C348H	;VGET
 2186 EDFC  ECB5        	DEFW BLINE
 2187 EDFE  ECBA        	DEFW CIRCL
 2188                    
 2189                   ;	END
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  39
CAOS34C Z80

   16                   include zsgr34.inc		; Zeichensatz Grossbuchstaben
    1                   ;*****************************************
    2                   ;**	CAOS 3.4 Zeichensatz Gross	**
    3                   ;**					**
    4                   ;**	Adresse:  EE00h bis EFFFh	**
    5                   ;**	Codes 20h-5Fh			**
    6                   ;**					**
    7                   ;**	letzte Aenderung: 19.08.2023	**
    8                   ;*****************************************
    9                   
   10                   ; 19.08.2023: Codes aus ROM-Images regeneriert
   11                   
   12 EE00  00 00 00 00 	DB	000H, 000H, 000H, 000H, 000H, 000H, 000H, 000H	; 20H
   13 EE08  30 30 30 30 	DB	030H, 030H, 030H, 030H, 030H, 000H, 030H, 000H	; 21H !
   14 EE10  77 33 66 00 	DB	077H, 033H, 066H, 000H, 000H, 000H, 000H, 000H	; 22H "
   15 EE18  36 36 FE 6C 	DB	036H, 036H, 0FEH, 06CH, 0FEH, 0D8H, 0D8H, 000H	; 23H #
   16 EE20  18 3E 6C 3E 	DB	018H, 03EH, 06CH, 03EH, 01BH, 01BH, 07EH, 018H	; 24H $
   17 EE28  00 C6 CC 18 	DB	000H, 0C6H, 0CCH, 018H, 030H, 066H, 0C6H, 000H	; 25H %
   18 EE30  38 6C 38 76 	DB	038H, 06CH, 038H, 076H, 0DCH, 0CCH, 076H, 000H	; 26H &
   19 EE38  1C 0C 18 00 	DB	01CH, 00CH, 018H, 000H, 000H, 000H, 000H, 000H	; 27H '
   20 EE40  18 30 60 60 	DB	018H, 030H, 060H, 060H, 060H, 030H, 018H, 000H	; 28H (
   21 EE48  60 30 18 18 	DB	060H, 030H, 018H, 018H, 018H, 030H, 060H, 000H	; 29H )
   22 EE50  00 66 3C FF 	DB	000H, 066H, 03CH, 0FFH, 03CH, 066H, 000H, 000H	; 2AH *
   23 EE58  00 30 30 FC 	DB	000H, 030H, 030H, 0FCH, 030H, 030H, 000H, 000H	; 2BH +
   24 EE60  00 00 00 00 	DB	000H, 000H, 000H, 000H, 000H, 01CH, 00CH, 018H	; 2CH ,
   25 EE68  00 00 00 FE 	DB	000H, 000H, 000H, 0FEH, 000H, 000H, 000H, 000H	; 2DH -
   26 EE70  00 00 00 00 	DB	000H, 000H, 000H, 000H, 000H, 030H, 030H, 000H	; 2EH .
   27 EE78  06 0C 18 30 	DB	006H, 00CH, 018H, 030H, 060H, 0C0H, 080H, 000H	; 2FH /
   28                   
   29 EE80  7C C6 CE DE 	DB	07CH, 0C6H, 0CEH, 0DEH, 0F6H, 0E6H, 07CH, 000H	; 30H 0
   30 EE88  30 70 30 30 	DB	030H, 070H, 030H, 030H, 030H, 030H, 0FCH, 000H	; 31H 1
   31 EE90  78 CC 0C 38 	DB	078H, 0CCH, 00CH, 038H, 060H, 0CCH, 0FCH, 000H	; 32H 2
   32 EE98  FC 18 30 78 	DB	0FCH, 018H, 030H, 078H, 00CH, 0CCH, 078H, 000H	; 33H 3
   33 EEA0  1C 3C 6C CC 	DB	01CH, 03CH, 06CH, 0CCH, 0FEH, 00CH, 01EH, 000H	; 34H 4
   34 EEA8  FC C0 F8 0C 	DB	0FCH, 0C0H, 0F8H, 00CH, 00CH, 0CCH, 078H, 000H	; 35H 5
   35 EEB0  38 60 C0 F8 	DB	038H, 060H, 0C0H, 0F8H, 0CCH, 0CCH, 078H, 000H	; 36H 6
   36 EEB8  FC CC 0C 18 	DB	0FCH, 0CCH, 00CH, 018H, 030H, 030H, 030H, 000H	; 37H 7
   37 EEC0  78 CC CC 78 	DB	078H, 0CCH, 0CCH, 078H, 0CCH, 0CCH, 078H, 000H	; 38H 8
   38 EEC8  78 CC CC 7C 	DB	078H, 0CCH, 0CCH, 07CH, 00CH, 018H, 070H, 000H	; 39H 9
   39 EED0  00 00 30 30 	DB	000H, 000H, 030H, 030H, 000H, 030H, 030H, 000H	; 3AH :
   40 EED8  00 00 30 30 	DB	000H, 000H, 030H, 030H, 000H, 030H, 030H, 060H	; 3BH ;
   41 EEE0  18 30 60 C0 	DB	018H, 030H, 060H, 0C0H, 060H, 030H, 018H, 000H	; 3CH <
   42 EEE8  00 00 FC 00 	DB	000H, 000H, 0FCH, 000H, 0FCH, 000H, 000H, 000H	; 3DH =
   43 EEF0  60 30 18 0C 	DB	060H, 030H, 018H, 00CH, 018H, 030H, 060H, 000H	; 3EH >
   44 EEF8  78 CC 0C 18 	DB	078H, 0CCH, 00CH, 018H, 030H, 000H, 030H, 000H	; 3FH ?
   45                   
   46 EF00  7C C6 DE DE 	DB	07CH, 0C6H, 0DEH, 0DEH, 0DEH, 0C0H, 078H, 000H	; 40H @
   47 EF08  30 78 CC CC 	DB	030H, 078H, 0CCH, 0CCH, 0FCH, 0CCH, 0CCH, 000H	; 41H A
   48 EF10  FC 66 66 7C 	DB	0FCH, 066H, 066H, 07CH, 066H, 066H, 0FCH, 000H	; 42H B
   49 EF18  3C 66 C0 C0 	DB	03CH, 066H, 0C0H, 0C0H, 0C0H, 066H, 03CH, 000H	; 43H C
   50 EF20  F8 6C 66 66 	DB	0F8H, 06CH, 066H, 066H, 066H, 06CH, 0F8H, 000H	; 44H D
   51 EF28  FE 62 68 78 	DB	0FEH, 062H, 068H, 078H, 068H, 062H, 0FEH, 000H	; 45H E
   52 EF30  FE 62 68 78 	DB	0FEH, 062H, 068H, 078H, 068H, 060H, 0F0H, 000H	; 46H F
   53 EF38  3C 66 C0 C0 	DB	03CH, 066H, 0C0H, 0C0H, 0CEH, 066H, 03CH, 000H	; 47H G
   54 EF40  CC CC CC FC 	DB	0CCH, 0CCH, 0CCH, 0FCH, 0CCH, 0CCH, 0CCH, 000H	; 48H H
   55 EF48  78 30 30 30 	DB	078H, 030H, 030H, 030H, 030H, 030H, 078H, 000H	; 49H I
   56 EF50  1E 0C 0C 0C 	DB	01EH, 00CH, 00CH, 00CH, 0CCH, 0CCH, 078H, 000H	; 4AH J
   57 EF58  E6 66 6C 70 	DB	0E6H, 066H, 06CH, 070H, 06CH, 066H, 0E6H, 000H	; 4BH K
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  40
ZSGR34  INC

   58 EF60  F0 60 60 60 	DB	0F0H, 060H, 060H, 060H, 062H, 066H, 0FEH, 000H	; 4CH L
   59 EF68  C6 EE FE D6 	DB	0C6H, 0EEH, 0FEH, 0D6H, 0C6H, 0C6H, 0C6H, 000H	; 4DH M
   60 EF70  C6 E6 F6 DE 	DB	0C6H, 0E6H, 0F6H, 0DEH, 0CEH, 0C6H, 0C6H, 000H	; 4EH N
   61 EF78  38 6C C6 C6 	DB	038H, 06CH, 0C6H, 0C6H, 0C6H, 06CH, 038H, 000H	; 4FH O
   62                   
   63 EF80  FC 66 66 7C 	DB	0FCH, 066H, 066H, 07CH, 060H, 060H, 0F0H, 000H	; 50H P
   64 EF88  78 CC CC CC 	DB	078H, 0CCH, 0CCH, 0CCH, 0DCH, 078H, 01CH, 000H	; 51H Q
   65 EF90  FC 66 66 7C 	DB	0FCH, 066H, 066H, 07CH, 06CH, 066H, 0E6H, 000H	; 52H R
   66 EF98  7C C6 F0 3C 	DB	07CH, 0C6H, 0F0H, 03CH, 00EH, 0C6H, 07CH, 000H	; 53H S
   67 EFA0  FC B4 30 30 	DB	0FCH, 0B4H, 030H, 030H, 030H, 030H, 078H, 000H	; 54H T
   68 EFA8  CC CC CC CC 	DB	0CCH, 0CCH, 0CCH, 0CCH, 0CCH, 0CCH, 078H, 000H	; 55H U
   69 EFB0  CC CC CC 78 	DB	0CCH, 0CCH, 0CCH, 078H, 078H, 030H, 030H, 000H	; 56H V
   70 EFB8  C6 C6 C6 D6 	DB	0C6H, 0C6H, 0C6H, 0D6H, 0FEH, 0EEH, 0C6H, 000H	; 57H W
   71 EFC0  C6 C6 6C 38 	DB	0C6H, 0C6H, 06CH, 038H, 06CH, 0C6H, 0C6H, 000H	; 58H X
   72 EFC8  CC CC CC 78 	DB	0CCH, 0CCH, 0CCH, 078H, 030H, 030H, 078H, 000H	; 59H Y
   73 EFD0  FE C6 8C 18 	DB	0FEH, 0C6H, 08CH, 018H, 032H, 066H, 0FEH, 000H	; 5AH Z
   74 EFD8  FF FF FF FF 	DB	0FFH, 0FFH, 0FFH, 0FFH, 0FFH, 0FFH, 0FFH, 0FFH	; 5BH Vollzeichen
   75 EFE0  18 18 18 18 	DB	018H, 018H, 018H, 018H, 018H, 018H, 018H, 000H	; 5CH senkr. Strich
   76 EFE8  00 FE 06 06 	DB	000H, 0FEH, 006H, 006H, 000H, 000H, 000H, 000H	; 5DH Negationszeichen
   77 EFF0  10 38 6C C6 	DB	010H, 038H, 06CH, 0C6H, 000H, 000H, 000H, 000H	; 5EH ^
   78 EFF8  00 00 00 00 	DB	000H, 000H, 000H, 000H, 000H, 000H, 000H, 0FFH	; 5FH _
   17                   include	caosf.asm		; ROM-F
    1                   ;	CAOS 3.4 - ROM F
    2                   ;	Version V.24 / RS 232
    3                   ;	und Centronics
    4                   ;	Date: 11.06.1991  (c) by '#+$'
    5                   ;
    6         0008      SIO	EQU 008H	;SIO PORT A
    7         000C      CTC	EQU 00CH	;SIO-CTC
    8                   ; StrukturByte des Interface-Moduls
    9         0000      IF V24
   11                   ELSE
   12         01EF      UMODL	EQU 1EFH	;M001 DIO
   13                   ENDIF
   14         F000      	ORG 0F000H
   15                    
   16 F000  C3 F143     PRESET:	JP PWRON	;>> POWER ON <<
   17 F003  C3 F047     	JP PV1		;DEFB NR
   18 F006  18 5D       	JR PV2		;(ARGC)
   19 F008  00          ZEI0:	DEFB 0
   20 F009  18 58       	JR PV3		;REG. E
   21 F00B  02          ZEI2:	DEFB 2
   22 F00C  18 25       	JR PV4		;+IRM
   23 F00E  04          ZEI4:	DEFB 4
   24 F00F  C3 F0B1     	JP RCALL
   25 F012  C3 F168     	JP NEWOS	;>JUMP<
   26 F015  C3 F027     	JP PV5		;(ARGC)
   27 F018  C3 F078     	JP IRMON
   28 F01B  C3 F091     	JP IRMOFF
   29                    
   30 F01E  C5          PV6:	PUSH BC		;*** PV 6 ***
   31 F01F  CD F078     	CALL IRMON
   32 F022  CD F065     	CALL PV2
   33 F025  18 07       	JR PV51
   34                    
   35 F027  C5          PV5:	PUSH BC		;*** PV 5 ***
   36 F028  CD F078     	CALL IRMON
   37 F02B  CD F063     	CALL PV3
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  41
CAOSF   ASM

   38 F02E  CD F091     PV51: 	CALL IRMOFF
   39 F031  C1          	POP BC
   40 F032  C9          	RET
   41                    
   42 F033  F5          PV4:	PUSH AF		;*** PV 4 ***
   43 F034  DB 88       	IN A,(88H)
   44 F036  F6 04       	OR 4
   45 F038  D3 88       	OUT (88H),A
   46 F03A  F1          	POP AF
   47 F03B  CD F063     	CALL PV3
   48 F03E  F5          SCROFF:	PUSH AF
   49 F03F  DB 88       	IN A,(88H)
   50 F041  E6 FB       	AND 0FBH
   51 F043  D3 88       	OUT (88H),A
   52 F045  F1          	POP AF
   53 F046  C9          	RET
   54                    
   55 F047  E5          PV1:	PUSH HL		;*** PV 1 ***
   56 F048  F3          	DI
   57 F049  E1          	POP HL
   58 F04A  E1          	POP HL
   59 F04B  23          	INC HL
   60 F04C  E5          	PUSH HL
   61 F04D  2B          	DEC HL
   62 F04E  3B          	DEC SP
   63 F04F  3B          	DEC SP
   64 F050  FB          	EI
   65 F051  D5          TABJP:	PUSH DE
   66 F052  5E          	LD E,(HL)
   67 F053  16 00       PV11:	LD D,0
   68 F055  2A B7B0     	LD HL,(0B7B0H)
   69 F058  F5          	PUSH AF
   70 F059  19          	ADD HL,DE
   71 F05A  19          	ADD HL,DE
   72 F05B  F1          	POP AF
   73 F05C  5E          	LD E,(HL)
   74 F05D  23          	INC HL
   75 F05E  56          	LD D,(HL)
   76 F05F  EB          	EX DE,HL
   77 F060  D1          	POP DE
   78 F061  E3          PV1END:	EX (SP),HL
   79 F062  C9          	RET
   80                    
   81 F063  37          PV3:	SCF		;*** PV 3 ***
   82 F064  ED          	DEFB 0EDH
   83 F065  A7          PV2:	AND A		;*** PV 2 ***
   84 F066  E5          PV21:	PUSH HL
   85 F067  D5          	PUSH DE
   86 F068  C5          	PUSH BC
   87 F069  E5          	PUSH HL
   88 F06A  21 E175     	LD HL,POPS3
   89 F06D  E3          	EX (SP),HL
   90 F06E  E5          	PUSH HL
   91 F06F  D5          	PUSH DE
   92 F070  38 E1       	JR C,PV11
   93 F072  ED 5B B780  	LD DE,(0B780H)
   94 F076  18 DB       	JR PV11
   95                    
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  42
CAOSF   ASM

   96 F078  C1          IRMON:	POP BC		;*** IRM ON ***
   97 F079  F3          	DI
   98 F07A  DD 77 0B    	LD (IX+0BH),A
   99 F07D  DB 88       	IN A,(88H)
  100 F07F  CB D7       	SET 2,A
  101 F081  D3 88       	OUT (88H),A
  102 F083  ED 73 B7CB  	LD (0B7CBH),SP
  103 F087  ED 7B B7AE  	LD SP,(0B7AEH)
  104 F08B  DD 7E 0B    OFFEND:	LD A,(IX+0BH)
  105 F08E  FB          	EI
  106 F08F  C5          	PUSH BC
  107 F090  C9          	RET
  108                    
  109 F091  C1          IRMOFF:	POP BC		;*** IRM OFF ***
  110 F092  F3          	DI
  111 F093  ED 7B B7CB  	LD SP,(0B7CBH)
  112 F097  DD 77 0B    	LD (IX+0BH),A
  113 F09A  DB 88       	IN A,(88H)
  114 F09C  CB 97       	RES 2,A
  115 F09E  D3 88       	OUT (88H),A
  116 F0A0  18 E9       	JR OFFEND
  117                    
  118 F0A2  E5          INTB:	PUSH HL		;UP 16 INTB
  119 F0A3  2A B7BB     	LD HL,(0B7BBH)	;INTAB
  120 F0A6  18 A9       	JR TABJP
  121                    
  122 F0A8  3A B7D9     OCHRP:	LD A,(0B7D9H)
  123 F0AB  E5          OCHR:	PUSH HL		;UP 24 OCHR
  124 F0AC  2A B7B9     	LD HL,(0B7B9H)	;OUTAB
  125 F0AF  18 A0       	JR TABJP
  126                    
  127 F0B1  E3          RCALL:	EX (SP),HL	;*** RCALL ***
  128 F0B2  5E          	LD E,(HL)
  129 F0B3  23          	INC HL
  130 F0B4  56          	LD D,(HL)
  131 F0B5  23          	INC HL
  132 F0B6  EB          	EX DE,HL
  133 F0B7  19          	ADD HL,DE
  134 F0B8  EB          	EX DE,HL
  135 F0B9  E3          	EX (SP),HL
  136 F0BA  D5          	PUSH DE
  137 F0BB  C9          	RET
  138                    
  139                   ;*** Switch & Jump ***
  140                    
  141 F0BC  7F7F        	DEFW 7F7FH	;>SWITCH<
  142 F0BE  53 57 49 54 	DEFM 'SWITCH'
  143 F0C4  01          	DEFB 1
  144                   	;
  145 F0C5  53          	LD D,E
  146 F0C6  CD F0D7     	CALL MODU
  147 F0C9              MODOUT:	;Ausgabe 3 Bytes L,H,D
  148 F0C9  CD F311     	CALL LHSPCE
  149 F0CC  7C          	LD A,H
  150 F0CD  CD F312     	CALL AHSPCE
  151 F0D0  7A          	LD A,D
  152 F0D1  CD F333     	CALL AHEX
  153 F0D4  C3 F324     	JP CRLF
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  43
CAOSF   ASM

  154                    
  155 F0D7              MODU:	;VR:AF,H,BC,(D)	;UP 26 MODU
  156 F0D7  26 B8       	LD H,0B8H
  157 F0D9  0E 80       	LD C,80H
  158 F0DB  45          	LD B,L		; Steckplatz
  159 F0DC  FE 02       	CP 2		; 2 Parameter angegeben?
  160 F0DE  30 04       	JR NC,MDL2	; Module schalten
  161 F0E0  56          	LD D,(HL)	; Schaltzustand lesen
  162 F0E1  ED 60       MDL1:	IN H,(C)	; Strukturbyte lesen
  163 F0E3  C9          	RET
  164                    
  165 F0E4  72          MDL2:	LD (HL),D	; neues Steuerbyte eintragen
  166 F0E5  45          	LD B,L		; (Befehl doppelt drin, kann raus!)
  167 F0E6  04          	INC B
  168 F0E7  DB 88       	IN A,(88H)	; aktueller Schaltzustand
  169                   
  170 F0E9  10 12       	DJNZ NRAM0	; 0: RAM0?
  171 F0EB  E6 F5       	AND 0F5H
  172 F0ED  CB 42       	BIT 0,D
  173 F0EF  28 02       	JR Z,RAM01
  174 F0F1  CB CF       	SET 1,A		; RAM0 ON
  175 F0F3  CB 4A       RAM01:	BIT 1,D
  176 F0F5  28 02       	JR Z,OUTB
  177 F0F7  CB DF       	SET 3,A		; RAM0 Schreibschutz
  178 F0F9  D3 88       OUTB:	OUT (88H),A
  179 F0FB  18 E4       	JR MDL1
  180                    
  181 F0FD  10 0A       NRAM0:	DJNZ NIRM	; 1: IRM?
  182 F0FF  CB 42       	BIT 0,D
  183 F101  CB 97       	RES 2,A		; IRM OFF
  184 F103  28 F4       	JR Z,OUTB
  185 F105  CB D7       	SET 2,A		; IRM ON
  186 F107  18 F0       	JR OUTB
  187                    
  188 F109  10 07       NIRM:	DJNZ NROM	; 2: BASIC-ROM?
  189 F10B  17          	RLA
  190 F10C  62          	LD H,D
  191 F10D  CB 1C       	RR H
  192 F10F  1F          	RRA
  193 F110  18 E7       	JR OUTB
  194                    
  195 F112  45          NROM:	LD B,L		; Steckplatz
  196 F113  ED 51       	OUT (C),D	; Modul schalten
  197 F115  18 CA       	JR MDL1
  198                    
  199 F117  7F7F        	DEFW 7F7FH	;>JUMP<
  200 F119  4A 55 4D 50 	DEFM 'JUMP'
  201 F11D  01          	DEFB 1
  202 F11E  C8          	RET Z
  203 F11F  7D          	LD A,L
  204                   	;
  205 F120  B7          JUMP:	OR A		;UP 27 JUMP
  206 F121  28 16       	JR Z,SYS
  207 F123  47          	LD B,A
  208 F124  0E 80       	LD C,80H
  209 F126  ED 78       	IN A,(C)
  210 F128  3C          	INC A
  211 F129  CA F31A     	JP Z,ERRM
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  44
CAOSF   ASM

  212 F12C  16 FF       	LD D,0FFH
  213 F12E  CD FADC     	CALL MOSW2
  214 F131  AF          	XOR A
  215 F132  DD 46 04    	LD B,(IX+4)
  216 F135  68          	LD L,B
  217 F136  77          	LD (HL),A
  218 F137  18 06       	JR SYS1
  219                    
  220 F139  0E 88       SYS:	LD C,88H
  221 F13B  ED 78       	IN A,(C)
  222 F13D  CB C7       	SET 0,A
  223 F13F  F3          SYS1:	DI
  224 F140  C3 B7B4     	JP 0B7B4H
  225                    
  226                   ;====== POWER ON =======================
  227                   ;(Einspruenge PWRON,NEWOS,BYE)
  228                    
  229 F143  F3          PWRON:	DI
  230 F144  31 01C4     	LD SP,1C4H	;System-Stack KC85/3-5
  231 F147  3E 3E       	LD A,3EH
  232 F149  D3 88       	OUT (88H),A	;interner ROM aus
  233 F14B  CD FABA     	CALL MODSW1
  234 F14E  DD 5E 04    	LD E,(IX+4)
  235 F151  AF          	XOR A
  236 F152  06 E0       	LD B,0E0H
  237 F154  67          	LD H,A		;Clear Memo
  238 F155  6F          	LD L,A
  239 F156  77          PWRO1:	LD (HL),A
  240 F157  2C          	INC L
  241 F158  20 FC       	JR NZ,PWRO1
  242 F15A  24          	INC H
  243 F15B  10 F9       	DJNZ PWRO1
  244 F15D  0E 80       	LD C,80H	;Modul off
  245 F15F  7B          	LD A,E
  246 F160  B8          PWRO2:	CP B
  247 F161  28 02       	JR Z,PWRO3
  248 F163  ED 69       	OUT (C),L
  249 F165  10 F9       PWRO3:	DJNZ PWRO2
  250 F167  43          	LD B,E
  251 F168  F3          NEWOS:	DI
  252 F169  DD 70 04    	LD (IX+4),B
  253 F16C  CD F3A2     	CALL SYSI	;Systeminit
  254 F16F  AF          	XOR A
  255 F170  32 B79B     PWRO4:	LD (0B79BH),A	;Windows
  256 F173  CD F76E     	CALL WCOPY
  257 F176  3C          	INC A
  258 F177  FE 0A       	CP 0AH
  259 F179  38 F5       	JR C,PWRO4
  260 F17B  CD FAB1     	CALL MODSW
  261                    
  262 F17E  31 01C4     BYE:	LD SP,1C4H	;UP 0D BYE
  263 F181  3E 1E       	LD A,1EH
  264 F183  D3 88       	OUT (88H),A	;init.MEM on !!
  265 F185  CD F3A2     	CALL SYSI
  266 F188  18 08       	JR MEN1
  267                    
  268 F18A  7F7F        	DEFW 7F7FH	;>MENU<
  269 F18C  4D 45 4E 55 	DEFM 'MENU'
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  45
CAOSF   ASM

  270 F190  01          	DEFB 1
  271                   	;
  272 F191  E1          	POP HL
  273 F192  CD F251     MEN1:	CALL OSTR
  274 F195  0C          	DEFB 0CH
  275 F196  0A          	DEFB 0AH
  276 F197  2A 20 48 43 	DEFM '* HC-CAOS 3.4 *'
  277 F1A6  00          	DEFB 0
  278 F1A7  21 C000     MENU:	LD HL,0C000H	;UP 46 MENU
  279 F1AA  4D          	LD C,L
  280 F1AB  45          	LD B,L
  281 F1AC  CD F324     MEN2:	CALL CRLF
  282 F1AF  CD F274     MEN3:	CALL BRKT
  283 F1B2  38 34       	JR C,LOOP
  284 F1B4  DD 7E 09    	LD A,(IX+9)
  285 F1B7  ED B1       MEN4:	CPIR
  286 F1B9  E2 F1E8     	JP PO,LOOP
  287 F1BC  ED A1       	CPI
  288 F1BE  20 F7       	JR NZ,MEN4
  289 F1C0  CD F0A8     	CALL OCHRP
  290 F1C3  7E          MEN5:	LD A,(HL)
  291 F1C4  FE 02       	CP 2
  292 F1C6  38 E4       	JR C,MEN2
  293 F1C8  FE 30       	CP 30H
  294 F1CA  38 0B       	JR C,MEN6
  295 F1CC  FE 60       	CP 60H
  296 F1CE  30 07       	JR NC,MEN6
  297 F1D0  CD F0AB     	CALL OCHR
  298 F1D3  23          	INC HL
  299 F1D4  0B          	DEC BC
  300 F1D5  18 EC       	JR MEN5
  301 F1D7  CD F32F     MEN6:	CALL CLLN
  302 F1DA  18 D3       	JR MEN3
  303                    
  304 F1DC  E1          NLP1:	POP HL		;LOOP
  305 F1DD  CD F31A     NLP2:	CALL ERRM	; kommt mit CY=0 zurueck
  306 F1E0  3E 0B       LOOP0:	LD A,0BH	; Zeile loeschen
  307 F1E2  DC F0AB     	CALL C,OCHR	; bei BRK
  308 F1E5  CD F32F     	CALL CLLN
  309 F1E8  CD F0A8     LOOP:	CALL OCHRP	;UP 12 LOOP
  310 F1EB  CD F2E6     	CALL INLIN
  311 F1EE  38 F0       	JR C,LOOP0	;Brk
  312 F1F0  13          	INC DE
  313 F1F1  1A          	LD A,(DE)
  314 F1F2  FE 21       	CP 21H
  315 F1F4  38 F2       	JR C,LOOP
  316 F1F6  CD F211     	CALL MSUCH
  317 F1F9  30 E2       	JR NC,NLP2	; nicht gefunden -> Error
  318 F1FB  E5          	PUSH HL
  319 F1FC  CD F384     	CALL GARG
  320 F1FF  38 DB       	JR C,NLP1	; Parameterfehler -> Error
  321 F201  21 F1E8     	LD HL,LOOP
  322 F204  E3          	EX (SP),HL
  323 F205  7E          	LD A,(HL)
  324 F206  23          	INC HL
  325 F207  E5          	PUSH HL
  326 F208  A7          	AND A
  327 F209  CD F473     	CALL LARG
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  46
CAOSF   ASM

  328 F20C  CC F03E     	CALL Z,SCROFF
  329 F20F  A7          	AND A
  330 F210  C9          	RET
  331                    
  332 F211  21 C000     MSUCH:	LD HL,0C000H
  333 F214  45          	LD B,L
  334 F215  4D          	LD C,L
  335 F216  DD 7E 09    	LD A,(IX+9)
  336                    
  337 F219  ED B1       ZSUCH:	CPIR		;UP 1D ZSUCH
  338 F21B  37          	SCF
  339 F21C  3F          	CCF
  340 F21D  E0          	RET PO
  341 F21E  ED A1       	CPI
  342 F220  20 F7       	JR NZ,ZSUCH
  343 F222  F5          	PUSH AF
  344 F223  D5          	PUSH DE
  345 F224  1A          ZS1:	LD A,(DE)
  346 F225  FE 21       	CP 21H
  347 F227  38 09       	JR C,ZS3
  348 F229  13          	INC DE
  349 F22A  ED A1       	CPI
  350 F22C  28 F6       	JR Z,ZS1
  351 F22E  D1          ZS2:	POP DE
  352 F22F  F1          	POP AF
  353 F230  18 E7       	JR ZSUCH
  354 F232  7E          ZS3:	LD A,(HL)
  355 F233  FE 02       	CP 2
  356 F235  38 07       	JR C,ZS4
  357 F237  FE 20       	CP 20H
  358 F239  38 F3       	JR C,ZS2
  359 F23B  23          	INC HL
  360 F23C  18 F4       	JR ZS3
  361 F23E  C1          ZS4:	POP BC
  362 F23F  F1          	POP AF
  363 F240  37          	SCF
  364 F241  C9          	RET
  365                    
  366 F242  3D          WAIT1:	DEC A
  367 F243  C8          	RET Z
  368 F244  F5          	PUSH AF
  369 F245  F1          	POP AF
  370 F246  18 FA       	JR WAIT1
  371                    
  372 F248  CD F32F     CBNRO:	CALL CLLN
  373 F24B  DD 7E 02    BNROST:	LD A,(IX+2)
  374 F24E  CD F333     AHOSTR:	CALL AHEX
  375                   	;
  376 F251  E3          OSTR:	EX (SP),HL	;UP 23 OSTR
  377 F252  CD FA74     	CALL ZKOUT
  378 F255  E3          	EX (SP),HL
  379 F256  C9          	RET
  380                    
  381 F257  CD F267     NORM:	CALL NIN	;UP 13 NORM
  382                   	;
  383 F25A  21 F008     NOUT:	LD HL,ZEI0	;UP 20 NOUT
  384                   	;
  385 F25D  E5          SOUT:	PUSH HL		;UP 1E SOUT
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  47
CAOSF   ASM

  386 F25E  2A B7B9     	LD HL,(0B7B9H)	;OUTAB
  387 F261  E3          	EX (SP),HL
  388 F262  22 B7B9     	LD (0B7B9H),HL	;OUTAB
  389 F265  E1          	POP HL
  390 F266  C9          	RET
  391                    
  392 F267  21 F00E     NIN:	LD HL,ZEI4	;UP 21 NIN
  393                   	;
  394 F26A  E5          SIN:	PUSH HL		;UP 1F SIN
  395 F26B  2A B7BB     	LD HL,(0B7BBH)	;INTAB
  396 F26E  E3          	EX (SP),HL
  397 F26F  22 B7BB     	LD (0B7BBH),HL	;INTAB
  398 F272  E1          	POP HL
  399 F273  C9          	RET
  400                    
  401 F274  CD E3FC     BRKT:	CALL KBDS	;UP 2A BRKT
  402 F277  FE 03       BRKT1:	CP 3
  403 F279  37          	SCF
  404 F27A  C8          	RET Z
  405 F27B  FE 13       	CP 13H
  406 F27D  37          	SCF
  407 F27E  3F          	CCF
  408 F27F  C0          	RET NZ
  409 F280  CD E40B     	CALL RESFL
  410 F283  CD F28C     	CALL KBD1
  411 F286  18 EF       	JR BRKT1
  412                    
  413 F288  DD CB 08 76 KBD:	BIT 6,(IX+8)	;UP 4 KBD
  414 F28C  E5          KBD1:	PUSH HL
  415 F28D  D5          	PUSH DE
  416 F28E  C5          	PUSH BC
  417 F28F  20 3E       	JR NZ,KBD8	;F-Taste aktiv
  418 F291  CD F807     KBD2:	CALL CUCP
  419 F294  CD E407     KBD3:	CALL KBDZ
  420 F297  30 FB       	JR NC,KBD3	;keine Taste gedr.
  421 F299  CD F807     	CALL CUCP
  422 F29C  DD CB 08 6E KBD4:	BIT 5,(IX+8)	;Click ein?
  423 F2A0  57          	LD D,A
  424 F2A1  C4 E31B     	CALL NZ,RCLICK
  425 F2A4  7A          	LD A,D
  426 F2A5  21 B7A2     	LD HL,0B7A2H
  427 F2A8  CB 66       	BIT 4,(HL)
  428 F2AA  C4 E354     	CALL NZ,CRT
  429 F2AD  20 E2       	JR NZ,KBD2
  430 F2AF  FE 1B       KBD5:	CP 1BH
  431 F2B1  20 04       	JR NZ,KBD6
  432 F2B3  CB E6       	SET 4,(HL)
  433 F2B5  18 DA       	JR KBD2
  434                    
  435 F2B7  FE F1       KBD6:	CP 0F1H
  436 F2B9  DA E175     	JP C,POPS3
  437 F2BC  DD CB 08 F6 	SET 6,(IX+8)
  438 F2C0  D6 F0       	SUB 0F0H
  439 F2C2  47          	LD B,A
  440 F2C3  21 B900     	LD HL,0B900H
  441 F2C6  7E          KBD7:	LD A,(HL)
  442 F2C7  A7          	AND A
  443 F2C8  23          	INC HL
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  48
CAOSF   ASM

  444 F2C9  20 FB       	JR NZ,KBD7
  445 F2CB  10 F9       	DJNZ KBD7
  446 F2CD  18 08       	JR KBD9
  447                    
  448 F2CF  CD F274     KBD8:	CALL BRKT
  449 F2D2  38 0C       	JR C,KBD10
  450 F2D4  2A B7D1     	LD HL,(0B7D1H)
  451 F2D7  7E          KBD9:	LD A,(HL)
  452 F2D8  23          	INC HL
  453 F2D9  22 B7D1     	LD (0B7D1H),HL
  454 F2DC  A7          	AND A
  455 F2DD  C2 E175     	JP NZ,POPS3
  456 F2E0  DD CB 08 B6 KBD10:	RES 6,(IX+8)
  457 F2E4  18 AB       	JR KBD2
  458                    
  459                   ;*** CCP ***
  460                    
  461 F2E6  CD F0A2     INLIN:	CALL INTB
  462 F2E9  CD F0AB     	CALL OCHR
  463 F2EC  FE 0D       	CP 0DH
  464 F2EE  28 05       	JR Z,ILN1
  465 F2F0  FE 03       	CP 3
  466 F2F2  20 F2       	JR NZ,INLIN
  467 F2F4  37          	SCF
  468 F2F5  F5          ILN1:	PUSH AF
  469 F2F6  CD F324     	CALL CRLF
  470 F2F9  ED 5B B7A0  	LD DE,(0B7A0H)
  471 F2FD  BA          	CP D
  472 F2FE  20 04       	JR NZ,ILN2
  473 F300  3A B79F     	LD A,(0B79FH)
  474 F303  57          	LD D,A
  475 F304  15          ILN2:	DEC D
  476 F305  E5          	PUSH HL
  477 F306  CD E0B6     	CALL DABR
  478 F309  EB          	EX DE,HL
  479 F30A  E1          	POP HL
  480 F30B  F1          	POP AF
  481 F30C  C9          	RET
  482                    
  483 F30D  7C          HLHX:	LD A,H		;UP 1A HLHX
  484 F30E  CD F333     	CALL AHEX
  485 F311  7D          LHSPCE:	LD A,L
  486 F312  CD F333     AHSPCE:	CALL AHEX
  487                   	;
  488 F315  3E 20       SPAC:	LD A,20H	;UP 2B SPAC
  489 F317  C3 F0AB     SPAC0:	JP OCHR
  490                    
  491 F31A  CD F251     ERRM:	CALL OSTR	;UP 19 ERRM
  492 F31D  45 72 72 6F 	DEFM 'Error'
  493 F322  07          	DEFB 7
  494 F323  00          	DEFB 0
  495                   	;
  496 F324  CD F251     CRLF:	CALL OSTR	;UP 2C CRLF
  497 F327  0D          	DEFB 0DH
  498 F328  0A          	DEFB 0AH
  499 F329  00          	DEFB 0
  500 F32A  C9          	RET
  501                    
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  49
CAOSF   ASM

  502 F32B  3E 10       HOME:	LD A,10H	;UP 2D HOME
  503 F32D  18 E8       	JR SPAC0
  504                    
  505 F32F  3E 02       CLLN:	LD A,2
  506 F331  18 E4       	JR SPAC0
  507                    
  508 F333  F5          AHEX:	PUSH AF		;UP 1C AHEX
  509 F334  1F          	RRA
  510 F335  1F          	RRA
  511 F336  1F          	RRA
  512 F337  1F          	RRA
  513 F338  CD F33C     	CALL AHEX1
  514 F33B  F1          	POP AF
  515 F33C  E6 0F       AHEX1:	AND 0FH
  516 F33E  C6 90       	ADD 90H
  517 F340  27          	DAA
  518 F341  CE 40       	ADC 40H
  519 F343  27          	DAA
  520 F344  18 D1       	JR SPAC0
  521                    
  522 F346  CD F349     HLDE:	CALL HLDE1	;UP 1B HLDE
  523 F349  CD F30D     HLDE1:	CALL HLHX
  524 F34C  EB          	EX DE,HL
  525 F34D  C9          	RET
  526                    
  527 F34E  13          RHEX0:	INC DE
  528                   	;
  529 F34F  1A          RHEX:	LD A,(DE)	;UP 18 RHEX
  530 F350  FE 20       	CP 20H
  531 F352  28 FA       	JR Z,RHEX0
  532 F354  AF          	XOR A
  533 F355  21 B798     	LD HL,0B798H
  534 F358  77          	LD (HL),A
  535 F359  2B          	DEC HL
  536 F35A  77          	LD (HL),A
  537 F35B  2B          	DEC HL
  538 F35C  77          	LD (HL),A
  539 F35D  1A          RH1:	LD A,(DE)
  540 F35E  B7          	OR A
  541 F35F  C8          	RET Z
  542 F360  FE 20       	CP 20H
  543 F362  C8          	RET Z
  544 F363  D6 30       	SUB 30H
  545 F365  D8          	RET C
  546 F366  FE 0A       	CP 0AH
  547 F368  38 0B       	JR C,RH2
  548 F36A  D6 07       	SUB 7
  549 F36C  E6 DF       	AND 0DFH
  550 F36E  FE 0A       	CP 0AH
  551 F370  D8          	RET C
  552 F371  FE 10       	CP 10H
  553 F373  3F          	CCF
  554 F374  D8          	RET C
  555 F375  13          RH2:	INC DE
  556 F376  34          	INC (HL)
  557 F377  23          	INC HL
  558 F378  ED 6F       	RLD
  559 F37A  23          	INC HL
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  50
CAOSF   ASM

  560 F37B  ED 6F       	RLD
  561 F37D  2B          	DEC HL
  562 F37E  2B          	DEC HL
  563 F37F  28 DC       	JR Z,RH1
  564 F381  1B          	DEC DE
  565 F382  37          	SCF
  566 F383  C9          	RET
  567                    
  568 F384  01 B781     GARG:	LD BC,0B781H	;UP 22 GARG
  569 F387  AF          	XOR A
  570 F388  02          	LD (BC),A
  571 F389  13          	INC DE
  572 F38A  CD F34F     GARG1:	CALL RHEX
  573 F38D  D8          	RET C
  574 F38E  7E          	LD A,(HL)
  575 F38F  B7          	OR A
  576 F390  C8          	RET Z
  577 F391  23          	INC HL
  578 F392  03          	INC BC
  579 F393  7E          	LD A,(HL)
  580 F394  02          	LD (BC),A
  581 F395  23          	INC HL
  582 F396  03          	INC BC
  583 F397  7E          	LD A,(HL)
  584 F398  02          	LD (BC),A
  585 F399  2E 81       	LD L,81H
  586 F39B  34          	INC (HL)
  587 F39C  7E          	LD A,(HL)
  588 F39D  C6 F5       	ADD 0F5H
  589 F39F  30 E9       	JR NC,GARG1
  590 F3A1  C9          	RET
  591                    
  592                   ;*** Systeminit ***
  593                    
  594 F3A2  21 FD9D     SYSI:	LD HL,KCTAB0
  595         0000      IF V24
  597                   ELSE
  598 F3A5  16 08       	LD D,5+3	;+3:CEN-Interf.
  599                   ENDIF
  600 F3A7  CD F413     	CALL INIMEI
  601 F3AA  11 B799     	LD DE,0B799H	;HCADR
  602 F3AD  01 0032     	LD BC,STBL1
  603 F3B0  ED B0       	LDIR
  604 F3B2  1E D8       	LD E,0D8H
  605 F3B4  0E 09       	LD C,STBL2
  606 F3B6  ED B0       	LDIR
  607 F3B8  3E 01       	LD A,1
  608                   	;
  609 F3BA  F3          SIXD:	DI		;UP 31 SIXD
  610 F3BB  21 FD91     	LD HL,ISRTAB
  611 F3BE  32 B7D7     	LD (0B7D7H),A
  612 F3C1  ED 47       	LD I,A
  613 F3C3  1E E4       	LD E,0E4H
  614 F3C5  57          	LD D,A
  615 F3C6  01 000C     	LD BC,0CH
  616 F3C9  ED B0       	LDIR
  617 F3CB  D5          	PUSH DE
  618 F3CC  DD 5E 04    	LD E,(IX+4)
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  51
CAOSF   ASM

  619 F3CF  DD E1       	POP IX
  620 F3D1  DD 73 04    	LD (IX+4),E
  621 F3D4  DD 36 08 88 	LD (IX+8),88H
  622 F3D8  DD 36 09 7F 	LD (IX+9),7FH
  623 F3DC  DD 36 0E 11 	LD (IX+14),Low(KTAB)
  624 F3E0  DD 36 0F FD 	LD (IX+15),High(KTAB)
  625 F3E4  16 04       	LD D,4		; 4 Ports initialisieren
  626 F3E6  21 FDAC     	LD HL,KCTAB1
  627 F3E9  CD F415     	CALL INIME
  628 F3EC  21 0103     	LD HL,103H
  629 F3EF  22 B800     	LD (0B800H),HL
  630 F3F2  DD 7E 07    SIXD2:	LD A,(IX+7)
  631 F3F5  E6 1F       	AND 1FH
  632 F3F7  DD 77 07    	LD (IX+7),A
  633 F3FA  3E FF       SIXD3:	LD A,0FFH
  634 F3FC  D3 89       	OUT (89H),A
  635 F3FE  DD 36 05 00 	LD (IX+5),0
  636 F402  DD 36 06 B7 	LD (IX+6),0B7H
  637 F406  FB          	EI
  638 F407  C3 E40B     	JP RESFL
  639                    
  640 F40A  C5          INIEA:	PUSH BC		;UP 43 INIEA
  641 F40B  4E          	LD C,(HL)
  642 F40C  23          	INC HL
  643 F40D  46          	LD B,(HL)
  644 F40E  23          	INC HL
  645 F40F  ED B3       	OTIR
  646 F411  C1          	POP BC
  647 F412  C9          	RET
  648                    
  649 F413  ED 5E       INIMEI:	IM 2
  650 F415  CD F40A     INIME:	CALL INIEA	;UP 44 INIME
  651 F418  15          	DEC D
  652 F419  20 FA       	JR NZ,INIME
  653 F41B  C9          	RET
  654                    
  655                   ;*** Tape-Routinen ***
  656                    
  657 F41C  7F7F        	DEFW 7F7FH	;>SAVE<
  658 F41E  53 41 56 45 	DEFM 'SAVE'
  659 F422  01          	DEFB 1
  660                   	;
  661 F423  FE 02       	CP 2
  662 F425  DA F31A     	JP C,ERRM
  663 F428  CD F251     SAVE1:	CALL OSTR
  664 F42B  4E 61 6D 65 	DEFM 'Name :'
  665 F431  00          	DEFB 0
  666 F432  CD F2E6     	CALL INLIN
  667 F435  D8          	RET C
  668 F436  21 0006     	LD HL,6
  669 F439  19          	ADD HL,DE
  670                   	;
  671 F43A  11 B700     SAVE:	LD DE,0B700H	;UP 36 SAVE
  672 F43D  01 000B     	LD BC,11
  673 F440  ED B0       	LDIR
  674 F442  AF          	XOR A
  675 F443  12          	LD (DE),A
  676 F444  21 B781     	LD HL,0B781H
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  52
CAOSF   ASM

  677 F447  1E 10       	LD E,10H
  678 F449  0E 15       	LD C,15H
  679 F44B  ED B0       	LDIR
  680 F44D  CD F5F5     	CALL NBWI
  681 F450  DD CB 07 AE 	RES 5,(IX+7)
  682 F454  2A B782     	LD HL,(0B782H)
  683 F457  DD 75 05    SAVE0:	LD (IX+5),L
  684 F45A  DD 74 06    	LD (IX+6),H
  685 F45D  11 0080     	LD DE,80H
  686 F460  19          	ADD HL,DE
  687 F461  ED 5B B784  	LD DE,(0B784H)
  688 F465  ED 52       	SBC HL,DE
  689 F467  3F          	CCF
  690 F468  DA F5DB     	JP C,NBW1
  691 F46B  CD F5D7     	CALL NBW
  692 F46E  DA E468     	JP C,CRO0
  693 F471  18 E4       	JR SAVE0
  694                   			;UP 15 LARG
  695 F473  ED 4B B786  LARG:	LD BC,(0B786H)	;ARG3
  696 F477  ED 5B B784  	LD DE,(0B784H)
  697 F47B  2A B782     	LD HL,(0B782H)
  698 F47E  3A B781     	LD A,(0B781H)
  699 F481  C9          	RET
  700                    
  701 F482  CD F251     NBL1:	CALL OSTR
  702 F485  3F 3F 3F    	DEFM '???'
  703 F488  00          	DEFB 0
  704 F489  C3 E44D     NBL2:	JP CMBI		;END CSRO
  705                    
  706 F48C  7F7F        	DEFW 7F7FH	;>VERIFY<
  707 F48E  56 45 52 49 	DEFM 'VERIFY'
  708 F494  01          	DEFB 1
  709                   	;
  710 F495  DD CB 07 86 VERIFY:	RES 0,(IX+7)	;UP 11 VERIFY
  711 F499  18 0B       	JR LOAD0
  712                    
  713 F49B  7F7F        	DEFW 7F7FH	;>LOAD<
  714 F49D  4C 4F 41 44 	DEFM 'LOAD'
  715 F4A1  01          	DEFB 1
  716                   	;
  717 F4A2  DD CB 07 C6 LOAD:	SET 0,(IX+7)	;UP 10 LOAD
  718                   	;
  719 F4A6  CD E419     LOAD0:	CALL IMBII
  720 F4A9  CD F580     	CALL NBR
  721 F4AC  DD CB 07 AE 	RES 5,(IX+7)
  722 F4B0  38 D7       LOAD1:	JR C,NBL2	;>CSRO
  723 F4B2  21 B700     	LD HL,0B700H
  724 F4B5  06 0B       	LD B,11
  725 F4B7  7E          LOADN:	LD A,(HL)
  726 F4B8  23          	INC HL
  727 F4B9  CD E354     	CALL CRT
  728 F4BC  10 F9       	DJNZ LOADN
  729 F4BE  CD F315     	CALL SPAC
  730 F4C1  DD CB 07 46 	BIT 0,(IX+7)
  731 F4C5  28 47       	JR Z,LOAD4
  732 F4C7  2E 10       	LD L,10H
  733 F4C9  7E          	LD A,(HL)
  734 F4CA  D6 02       	SUB 2
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  53
CAOSF   ASM

  735 F4CC  FE 08       	CP 8		;A=0..7
  736 F4CE  30 B2       	JR NC,NBL1
  737 F4D0  07          	RLCA
  738 F4D1  07          	RLCA
  739 F4D2  67          	LD H,A
  740 F4D3  DD 7E 07    	LD A,(IX+7)
  741 F4D6  E6 03       	AND 3
  742 F4D8  B4          	OR H
  743 F4D9  DD 77 07    	LD (IX+7),A
  744 F4DC  ED 4B B715  	LD BC,(0B715H)
  745 F4E0  ED 5B B713  	LD DE,(0B713H)
  746 F4E4  2A B711     	LD HL,(0B711H)
  747 F4E7  3A B781     	LD A,(0B781H)
  748 F4EA  A7          	AND A
  749 F4EB  28 13       	JR Z,LOAD3
  750 F4ED  C5          	PUSH BC
  751 F4EE  ED 4B B782  	LD BC,(0B782H)
  752 F4F2  09          	ADD HL,BC
  753 F4F3  EB          	EX DE,HL
  754 F4F4  09          	ADD HL,BC
  755 F4F5  EB          	EX DE,HL
  756 F4F6  DD CB 07 5E 	BIT 3,(IX+7)
  757 F4FA  20 03       	JR NZ,LOAD2
  758 F4FC  E3          	EX (SP),HL
  759 F4FD  09          	ADD HL,BC
  760 F4FE  E3          	EX (SP),HL
  761 F4FF  C1          LOAD2:	POP BC
  762 F500  22 B782     LOAD3:	LD (0B782H),HL
  763 F503  ED 53 B784  	LD (0B784H),DE
  764 F507  ED 43 B786  	LD (0B786H),BC	;ARG3
  765 F50B  CD F346     	CALL HLDE
  766 F50E  CD F324     LOAD4:	CALL CRLF
  767 F511  EB          	EX DE,HL	;Ziel=DE
  768 F512  CD F580     LOAD5:	CALL NBR
  769 F515  38 99       	JR C,LOAD1	;>CSRO
  770 F517  DD CB 07 46 	BIT 0,(IX+7)
  771 F51B  28 12       	JR Z,LOAD6
  772 F51D  E5          	PUSH HL
  773 F51E  ED 52       	SBC HL,DE
  774 F520  01 0080     	LD BC,80H
  775 F523  ED 42       	SBC HL,BC
  776 F525  09          	ADD HL,BC
  777 F526  30 01       	JR NC,BLC1
  778 F528  4D          	LD C,L
  779 F529  21 B700     BLC1:	LD HL,0B700H
  780 F52C  ED B0       	LDIR
  781 F52E  E1          	POP HL
  782 F52F  DD 34 02    LOAD6:	INC (IX+2)	;FF?
  783 F532  20 DE       	JR NZ,LOAD5
  784                   	;
  785 F534  CD E44D     CSRI:	CALL CMBI	;UP 0B CSRI
  786 F537  DD 7E 07    	LD A,(IX+7)
  787 F53A  1F          	RRA
  788 F53B  D0          	RET NC		;bei VER.
  789 F53C  E6 0E       	AND 0EH
  790 F53E  DD CB 07 86 	RES 0,(IX+7)
  791 F542  C8          	RET Z		;2 ARG
  792                   	;
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  54
CAOSF   ASM

  793 F543  DD CB 07 4E 	BIT 1,(IX+7)	;AutoSt.enable ?
  794 F547  28 19       	JR Z,CSRI3
  795 F549  CD F251     CSRI1:	CALL OSTR
  796 F54C  52 75 6E    	DEFM 'Run'
  797 F54F  00          	DEFB 0
  798 F550  CD F566     	CALL YESNO
  799 F553  28 0D       	JR Z,CSRI3
  800 F555  FE 53       	CP 'S'
  801 F557  C0          	RET NZ
  802 F558  3E 03       	LD A,3
  803 F55A  32 B781     	LD (0B781H),A
  804 F55D  CD F428     	CALL SAVE1	;PROGR. COPY
  805 F560  18 E7       	JR CSRI1
  806                    
  807 F562  2A B786     CSRI3:	LD HL,(0B786H)	;ARG3
  808 F565  E9          	JP (HL)		;AUTOSTART-ADR.
  809                    
  810 F566              YESNO:	;PA:Z=1 bei YES, RG A
  811 F566  CD F251     	CALL OSTR
  812 F569  3F 20 28 59 	DEFM '? (Y):'
  813 F56F  00          	DEFB 0
  814 F570  CD F0A2     	CALL INTB
  815 F573  F5          	PUSH AF
  816 F574  CD F0AB     	CALL OCHR
  817 F577  CD F324     	CALL CRLF
  818 F57A  F1          	POP AF
  819 F57B  CB AF       	RES 5,A
  820 F57D  FE 59       	CP 'Y'
  821 F57F  C9          	RET
  822                    
  823 F580              NBR:	;NewBlockRead
  824 F580  E5          	PUSH HL
  825 F581  2E 04       	LD L,4		;4 Versuche
  826 F583  DD 66 03    	LD H,(IX+3)
  827 F586  CD F274     NBR0:	CALL BRKT
  828 F589  38 29       	JR C,NBREND
  829 F58B  CD E4FF     	CALL MBI
  830 F58E  DD 7E 02    	LD A,(IX+2)
  831 F591  F5          	PUSH AF
  832 F592  BC          	CP H
  833 F593  28 0C       	JR Z,NBR2
  834 F595  3C          	INC A		;FF?
  835 F596  20 1F       	JR NZ,NBR4
  836 F598  7D          	LD A,L
  837 F599  FE 04       	CP 4		;4 Versuche
  838 F59B  20 1A       	JR NZ,NBR4	;Kein 1.Vers.
  839 F59D  25          	DEC H
  840 F59E  28 16       	JR Z,NBR41	;01 erwartet
  841 F5A0  24          	INC H
  842 F5A1  F1          NBR2:	POP AF
  843 F5A2  38 1E       	JR C,NBR5
  844 F5A4  DD CB 07 6E 	BIT 5,(IX+7)
  845 F5A8  20 06       	JR NZ,NBR3
  846 F5AA  CD F248     	CALL CBNRO
  847 F5AD  3E 20       	DEFM '> '
  848 F5AF  00          	DEFB 0
  849 F5B0  24          NBR3:	INC H
  850 F5B1  DD 74 03    	LD (IX+3),H
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  55
CAOSF   ASM

  851 F5B4  E1          NBREND:	POP HL
  852 F5B5  C9          	RET
  853                    
  854 F5B6  24          NBR41:	INC H
  855 F5B7  F1          NBR4:	POP AF
  856 F5B8  CD F24B     	CALL BNROST
  857 F5BB  2A          	DEFM '*'
  858 F5BC  0808        	DEFW 808H
  859 F5BE  08          	DEFB 8
  860 F5BF  00          	DEFB 0
  861 F5C0  18 C4       	JR NBR0
  862                    
  863 F5C2  67          NBR5:	LD H,A		;falls FF
  864 F5C3  2D          	DEC L
  865 F5C4  28 09       	JR Z,NBR6
  866 F5C6  CD F24B     	CALL BNROST
  867 F5C9  3F 20       	DEFM '? '
  868 F5CB  07          	DEFB 7
  869 F5CC  00          	DEFB 0
  870 F5CD  18 B7       	JR NBR0
  871                    
  872 F5CF  CD F24B     NBR6:	CALL BNROST
  873 F5D2  21          	DEFM '!'
  874 F5D3  1E          	DEFB 1EH	;CRNL
  875 F5D4  00          	DEFB 0
  876 F5D5  18 D9       	JR NBR3
  877                    
  878 F5D7              NBW:	;NewBlockWrite
  879 F5D7  CD F274     	CALL BRKT
  880 F5DA  D8          	RET C
  881 F5DB  ED 4B B7DA  NBW1:	LD BC,(0B7DAH)	;mit CY=1 !
  882 F5DF  DD CB 07 6E 	BIT 5,(IX+7)
  883 F5E3  28 03       	JR Z,NBW2
  884 F5E5  01 0500     	LD BC,500H
  885 F5E8  DA E461     NBW2:	JP C,CSRO
  886 F5EB  CD E49B     	CALL MBOT
  887 F5EE  CD F24B     NBW3:	CALL BNROST
  888 F5F1  3C          	DEFM '<'
  889 F5F2  0D          	DEFB 0DH
  890 F5F3  00          	DEFB 0
  891 F5F4  C9          	RET
  892                    
  893 F5F5  CD E48A     NBWI:	CALL ISROI
  894 F5F8  CD F32F     	CALL CLLN
  895 F5FB  18 F1       	JR NBW3
  896                    
  897                   ;*** Monitor ***
  898                    
  899 F5FD  7F7F        	DEFW 7F7FH	;>COLOR<
  900 F5FF  43 4F 4C 4F 	DEFM 'COLOR'
  901 F604  01          	DEFB 1
  902                   	;
  903 F605  F5          COLOR:	PUSH AF
  904 F606  3E 1F       	LD A,1FH
  905 F608  A5          	AND L
  906 F609  17          	RLA
  907 F60A  17          	RLA
  908 F60B  17          	RLA
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  56
CAOSF   ASM

  909 F60C  6F          	LD L,A
  910 F60D  F1          	POP AF
  911 F60E  FE 02       	CP 2
  912 F610  7B          	LD A,E
  913 F611  30 03       	JR NC,COL1
  914 F613  3A B7A3     	LD A,(0B7A3H)
  915 F616  E6 07       COL1:	AND 7
  916 F618  B5          	OR L
  917 F619  32 B7A3     COL2:	LD (0B7A3H),A
  918 F61C  C9          	RET
  919                    
  920 F61D  3A B7A3     ESC2:	LD A,(0B7A3H)	;Blinken on/off
  921 F620  EE 80       	XOR 80H
  922 F622  18 F5       	JR COL2
  923                    
  924 F624  CD F30D     DPMEMO:	CALL HLHX
  925 F627  E5          	PUSH HL
  926 F628  41          	LD B,C
  927 F629  7E          DPM1:	LD A,(HL)
  928 F62A  23          	INC HL
  929 F62B  CD F312     	CALL AHSPCE
  930 F62E  10 F9       	DJNZ DPM1
  931 F630  E1          	POP HL
  932 F631  41          	LD B,C
  933 F632  3E 09       	LD A,9
  934 F634  CD F0AB     	CALL OCHR
  935 F637  7E          DPM2:	LD A,(HL)
  936 F638  23          	INC HL
  937 F639  CD F63F     	CALL CSTBT
  938 F63C  10 F9       	DJNZ DPM2
  939 F63E  C9          	RET
  940                    
  941 F63F  E5          CSTBT:	PUSH HL		;UP 42 CSTBT
  942 F640  21 B7A2     	LD HL,0B7A2H
  943 F643  CB DE       	SET 3,(HL)
  944 F645  CD F0AB     	CALL OCHR
  945 F648  CB 9E       	RES 3,(HL)
  946 F64A  E1          	POP HL
  947 F64B  C9          	RET
  948                    
  949 F64C  7F7F        	DEFW 7F7FH	;>DISPLAY<
  950 F64E  44 49 53 50 	DEFM 'DISPLAY'
  951 F655  01          	DEFB 1
  952                   	;
  953 F656  D6 03       DISP:	SUB 3		;UP 3B DISP
  954 F658  30 07       	JR NC,DISP1
  955 F65A  0E 08       	LD C,8
  956 F65C  3C          	INC A
  957 F65D  28 02       	JR Z,DISP1
  958 F65F  1E 04       	LD E,4
  959 F661  D5          DISP1:	PUSH DE
  960 F662  CD F624     DISP2:	CALL DPMEMO
  961 F665  CD F324     	CALL CRLF
  962 F668  CD F274     	CALL BRKT
  963 F66B  38 06       	JR C,DISP3
  964 F66D  1D          	DEC E
  965 F66E  20 F2       	JR NZ,DISP2
  966 F670  CD F0A2     	CALL INTB
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  57
CAOSF   ASM

  967 F673  D1          DISP3:	POP DE
  968 F674  FE 03       	CP 3
  969 F676  C8          	RET Z
  970 F677  FE 13       	CP 13H
  971 F679  20 E6       	JR NZ,DISP1
  972 F67B  18 10       	JR MO1
  973                    
  974 F67D  7F7F        	DEFW 7F7FH	;>MODIFY<
  975 F67F  4D 4F 44 49 	DEFM 'MODIFY'
  976 F685  01          	DEFB 1
  977                   	;
  978 F686  4B          	LD C,E
  979 F687  FE 02       	CP 2
  980 F689  30 02       	JR NC,MO1
  981 F68B  0E 01       MODI:	LD C,1		;UP 2E MODI
  982 F68D  CD F624     MO1:	CALL DPMEMO
  983 F690  3E 05       	LD A,5
  984 F692  32 B7A0     	LD (0B7A0H),A
  985 F695  CD F2E6     	CALL INLIN
  986 F698  D8          	RET C
  987 F699  E5          	PUSH HL
  988 F69A  CD F34F     	CALL RHEX
  989 F69D  7E          	LD A,(HL)
  990 F69E  E1          	POP HL
  991 F69F  38 4F       	JR C,MO10
  992 F6A1  A7          	AND A
  993 F6A2  28 E9       	JR Z,MO1
  994 F6A4  2A B797     	LD HL,(0B797H)
  995 F6A7  E5          MO2:	PUSH HL
  996 F6A8  CD F34F     	CALL RHEX
  997 F6AB  7E          	LD A,(HL)
  998 F6AC  A7          	AND A
  999 F6AD  23          	INC HL
 1000 F6AE  7E          	LD A,(HL)
 1001 F6AF  E1          	POP HL
 1002 F6B0  28 02       	JR Z,MO4
 1003 F6B2  77          MO3:	LD (HL),A
 1004 F6B3  23          	INC HL
 1005 F6B4  1A          MO4:	LD A,(DE)
 1006 F6B5  FE 2E       	CP '.'
 1007 F6B7  C8          	RET Z
 1008 F6B8  FE 2C       	CP ','
 1009 F6BA  20 05       	JR NZ,MO5
 1010 F6BC  13          	INC DE
 1011 F6BD  1A          	LD A,(DE)
 1012 F6BE  13          	INC DE
 1013 F6BF  18 F1       	JR MO3
 1014 F6C1  FE 3A       MO5:	CP ':'
 1015 F6C3  20 03       	JR NZ,MO6
 1016 F6C5  2B          	DEC HL
 1017 F6C6  18 C5       	JR MO1
 1018 F6C8  FE 2F       MO6:	CP '/'
 1019 F6CA  20 0B       	JR NZ,MO7
 1020 F6CC  13          	INC DE
 1021 F6CD  CD F34F     	CALL RHEX
 1022 F6D0  38 1E       	JR C,MO10
 1023 F6D2  2A B797     	LD HL,(0B797H)
 1024 F6D5  18 B6       	JR MO1
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  58
CAOSF   ASM

 1025 F6D7  FE 27       MO7:	CP 27H		;Hochkomma
 1026 F6D9  20 0E       	JR NZ,MO9
 1027 F6DB  13          	INC DE
 1028 F6DC  1A          MO8:	LD A,(DE)
 1029 F6DD  13          	INC DE
 1030 F6DE  A7          	AND A
 1031 F6DF  28 AC       	JR Z,MO1
 1032 F6E1  FE 27       	CP 27H		;Hochkomma
 1033 F6E3  28 CF       	JR Z,MO4
 1034 F6E5  77          	LD (HL),A
 1035 F6E6  23          	INC HL
 1036 F6E7  18 F3       	JR MO8
 1037 F6E9  A7          MO9:	AND A
 1038 F6EA  28 A1       	JR Z,MO1
 1039 F6EC  FE 20       	CP 20H
 1040 F6EE  28 B7       	JR Z,MO2
 1041 F6F0  CD F31A     MO10:	CALL ERRM
 1042 F6F3  18 98       	JR MO1
 1043                    
 1044 F6F5  7F7F        	DEFW 7F7FH	;>WINDOW<
 1045 F6F7  57 49 4E 44 	DEFM 'WINDOW'
 1046 F6FD  01          	DEFB 1
 1047                   	;
 1048 F6FE  A7          	AND A
 1049 F6FF  28 3C       	JR Z,WINAK
 1050 F701  3D          	DEC A
 1051 F702  28 38       	JR Z,WINAK0
 1052 F704  FE 03       	CP 3
 1053 F706  38 13       	JR C,ERRM2
 1054 F708  65          	LD H,L
 1055 F709  69          	LD L,C
 1056 F70A  53          	LD D,E
 1057 F70B  3A B788     	LD A,(0B788H)
 1058 F70E  5F          	LD E,A
 1059 F70F  3A B78A     	LD A,(0B78AH)
 1060 F712  20 03       	JR NZ,WIN5
 1061 F714  3A B79B     	LD A,(0B79BH)
 1062 F717  CD F721     WIN5:	CALL WININ
 1063 F71A  D0          	RET NC
 1064 F71B  C3 F31A     ERRM2:	JP ERRM
 1065                    
 1066 F71E  3A B79B     WININ0:	LD A,(0B79BH)	;von BASIC
 1067 F721  F5          WININ:	PUSH AF		;UP 3C WININ
 1068 F722  CD F759     	CALL PART
 1069 F725  DA E0A7     IAD21:	JP C,IAD2
 1070 F728  F1          	POP AF
 1071 F729  D5          	PUSH DE
 1072 F72A  E5          	PUSH HL
 1073 F72B  CD F76E     	CALL WCOPY
 1074 F72E  E1          	POP HL
 1075 F72F  D1          	POP DE
 1076 F730  22 B79C     	LD (0B79CH),HL
 1077 F733  ED 53 B79E  	LD (0B79EH),DE
 1078 F737  ED 43 B7A0  	LD (0B7A0H),BC
 1079 F73B  C9          	RET
 1080                    
 1081 F73C  7D          WINAK0:	LD A,L
 1082 F73D  CD F76E     WINAK:	CALL WCOPY	;UP 3D WINAK
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  59
CAOSF   ASM

 1083 F740  CD F748     WINAK1:	CALL WINANF	;von BASIC
 1084 F743  D8          	RET C
 1085 F744  23          	INC HL
 1086 F745  EB          	EX DE,HL
 1087 F746  18 2F       	JR WCPY1
 1088                    
 1089 F748  21 B79B     WINANF:	LD HL,0B79BH
 1090 F74B  7E          	LD A,(HL)
 1091 F74C  C6 F6       	ADD 0F6H
 1092 F74E  D8          	RET C
 1093 F74F  87          	ADD A
 1094 F750  5F          	LD E,A
 1095 F751  87          	ADD A
 1096 F752  87          	ADD A
 1097 F753  83          	ADD E
 1098 F754  5F          	LD E,A
 1099 F755  16 B9       	LD D,0B9H
 1100 F757  A7          	AND A
 1101 F758  C9          	RET
 1102                    
 1103 F759  C6 F6       PART:	ADD 0F6H
 1104 F75B  D8          	RET C
 1105 F75C  7A          	LD A,D
 1106 F75D  D6 01       	SUB 1
 1107 F75F  D8          	RET C
 1108 F760  84          	ADD H
 1109 F761  D8          	RET C
 1110 F762  C6 E0       	ADD 0E0H
 1111 F764  D8          	RET C
 1112 F765  7B          	LD A,E
 1113 F766  D6 01       	SUB 1
 1114 F768  D8          	RET C
 1115 F769  85          	ADD L
 1116 F76A  D8          	RET C
 1117 F76B  C6 D8       	ADD 0D8H
 1118 F76D  C9          	RET
 1119                    
 1120 F76E  F5          WCOPY:	PUSH AF
 1121 F76F  CD F748     	CALL WINANF
 1122 F772  38 B1       	JR C,IAD21
 1123 F774  F1          	POP AF
 1124 F775  77          	LD (HL),A
 1125 F776  23          	INC HL
 1126 F777  01 000A     WCPY1:	LD BC,0AH
 1127 F77A  ED B0       JPLD:	LDIR
 1128 F77C  B7          	OR A
 1129 F77D  C9          	RET
 1130                    
 1131 F77E  23          KDISP1	INC HL
 1132 F77F  7E          KYDISP:	LD A,(HL)
 1133 F780  A7          	AND A
 1134 F781  C8          	RET Z
 1135 F782  CD F63F     	CALL CSTBT
 1136 F785  18 F7       	JR KDISP1
 1137                    
 1138 F787  7F7F        	DEFW 7F7FH	;>KEY<
 1139 F789  4B 45 59    	DEFM 'KEY'
 1140 F78C  01          	DEFB 1
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  60
CAOSF   ASM

 1141                   	;
 1142 F78D  28 5E       	JR Z,KEYLI
 1143 F78F  7D          	LD A,L
 1144                   	;
 1145 F790  A7          KEY:	AND A		;UP 39 KEY
 1146 F791  21 B900     	LD HL,0B900H
 1147 F794  28 50       	JR Z,KKILL
 1148 F796  FE 0D       	CP 0DH
 1149 F798  D0          	RET NC
 1150 F799  47          	LD B,A
 1151 F79A  7E          KEY1:	LD A,(HL)
 1152 F79B  23          	INC HL
 1153 F79C  A7          	AND A
 1154 F79D  20 FB       	JR NZ,KEY1
 1155 F79F  10 F9       	DJNZ KEY1
 1156 F7A1  CD F77F     	CALL KYDISP
 1157 F7A4  F5          KEY2:	PUSH AF
 1158 F7A5  2B          	DEC HL
 1159 F7A6  F1          KEY3:	POP AF
 1160 F7A7  CD F0A2     KEY4:	CALL INTB
 1161 F7AA  FE 13       	CP 13H
 1162 F7AC  CA F324     	JP Z,CRLF
 1163 F7AF  F5          	PUSH AF
 1164 F7B0  06 00       	LD B,0
 1165 F7B2  3D          	DEC A
 1166 F7B3  20 15       	JR NZ,KEY5
 1167 F7B5  7E          	LD A,(HL)
 1168 F7B6  A7          	AND A
 1169 F7B7  28 ED       	JR Z,KEY3
 1170 F7B9  54          	LD D,H
 1171 F7BA  5D          	LD E,L
 1172 F7BB  E5          	PUSH HL
 1173 F7BC  23          	INC HL
 1174 F7BD  3E 9C       	LD A,9CH
 1175 F7BF  95          	SUB L
 1176 F7C0  4F          	LD C,A
 1177 F7C1  ED B0       	LDIR
 1178 F7C3  E1          	POP HL
 1179 F7C4  F1          	POP AF
 1180 F7C5  CD F0AB     	CALL OCHR
 1181 F7C8  18 DA       	JR KEY2
 1182 F7CA  3A B99A     KEY5:	LD A,(0B99AH)
 1183 F7CD  A7          	AND A
 1184 F7CE  20 D6       	JR NZ,KEY3
 1185 F7D0  E5          	PUSH HL
 1186 F7D1  3E 9B       	LD A,9BH
 1187 F7D3  95          	SUB L
 1188 F7D4  4F          	LD C,A
 1189 F7D5  21 B99A     	LD HL,0B99AH
 1190 F7D8  11 B99B     	LD DE,0B99BH
 1191 F7DB  ED B8       	LDDR
 1192 F7DD  E1          	POP HL
 1193 F7DE  F1          	POP AF
 1194 F7DF  23          	INC HL
 1195 F7E0  77          	LD (HL),A
 1196 F7E1  CD F63F     	CALL CSTBT
 1197 F7E4  18 C1       	JR KEY4
 1198                    
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  61
CAOSF   ASM

 1199 F7E6  06 9C       KKILL:	LD B,09CH
 1200 F7E8  77          KKIL1:	LD (HL),A
 1201 F7E9  23          	INC HL
 1202 F7EA  10 FC       	DJNZ KKIL1
 1203 F7EC  C9          	RET
 1204                    
 1205 F7ED  21 B900     KEYLI:	LD HL,0B900H	;UP 3A KEYLI
 1206 F7F0  01 0CF0     	LD BC,0CF0H
 1207 F7F3  0C          KEYL0:	INC C
 1208 F7F4  CD F32F     	CALL CLLN
 1209 F7F7  79          	LD A,C
 1210 F7F8  CD F24E     	CALL AHOSTR
 1211 F7FB  20 3A       	DEFM ' :'
 1212 F7FD  00          	DEFB 0
 1213 F7FE  CD F77E     	CALL KDISP1
 1214 F801  CD F324     	CALL CRLF
 1215 F804  10 ED       	DJNZ KEYL0
 1216 F806  C9          	RET
 1217                    
 1218 F807  E5          CUCP:	PUSH HL		;UP 25 CUCP
 1219 F808  D5          	PUSH DE
 1220 F809  F5          	PUSH AF
 1221 F80A  ED 5B B7A0  	LD DE,(0B7A0H)
 1222 F80E  CD E0B6     	CALL DABR
 1223 F811  38 21       	JR C,CEND
 1224 F813  7E          	LD A,(HL)
 1225 F814  CD E03E     	CALL PADR1
 1226 F817  B7          	OR A
 1227 F818  20 0A       	JR NZ,CFARB
 1228 F81A  CB ED       	SET 5,L
 1229 F81C  CB C4       	SET 0,H
 1230 F81E  7E          	LD A,(HL)
 1231 F81F  EE 7F       	XOR 7FH
 1232 F821  77          	LD (HL),A
 1233 F822  18 10       	JR CEND
 1234                    
 1235 F824  1A          CFARB:	LD A,(DE)
 1236 F825  2F          	CPL
 1237 F826  12          	LD (DE),A
 1238 F827  CB EB       	SET 5,E
 1239 F829  1A          	LD A,(DE)
 1240 F82A  2F          	CPL
 1241 F82B  DD CB 08 7E 	BIT 7,(IX+8)
 1242 F82F  20 02       	JR NZ,CFAB1
 1243 F831  EE 04       	XOR 4
 1244 F833  12          CFAB1:	LD (DE),A
 1245 F834  F1          CEND:	POP AF
 1246 F835  18 14       	JR PUDEND
 1247                    
 1248                   ;*** Grafiktreiber ***
 1249                    
 1250 F837  3E          PUDE:	DEFB 3EH	;UP 2F PUDE
 1251                   	;
 1252 F838  AF          PUSE:	XOR A		;UP 30 PUSE
 1253 F839  E5          	PUSH HL
 1254 F83A  D5          	PUSH DE
 1255 F83B  2A B7D3     	LD HL,(0B7D3H)	;HOR
 1256 F83E  ED 5B B7D5  	LD DE,(0B7D5H)	;VERT
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  62
CAOSF   ASM

 1257 F842  B7          	OR A
 1258 F843  20 09       	JR NZ,PUDEJP
 1259 F845  CD F98C     	CALL WTESTV
 1260 F848  D4 F948     	CALL NC,POINT
 1261 F84B  D1          PUDEND:	POP DE
 1262 F84C  E1          	POP HL
 1263 F84D  C9          	RET
 1264                    
 1265 F84E  CD F98C     PUDEJP:	CALL WTESTV
 1266 F851  38 F8       	JR C,PUDEND
 1267 F853  C5          	PUSH BC
 1268 F854  CD F970     	CALL BADR
 1269 F857  47          	LD B,A
 1270 F858  4E          	LD C,(HL)
 1271 F859  2F          	CPL
 1272 F85A  A1          	AND C
 1273 F85B  77          	LD (HL),A
 1274 F85C  78          	LD A,B
 1275 F85D  A1          	AND C
 1276 F85E  1A          	LD A,(DE)
 1277 F85F  C1          	POP BC
 1278 F860  18 E9       	JR PUDEND
 1279                    
 1280 F862  D9          LINE:	EXX		;UP 3E LINE
 1281 F863  E5          	PUSH HL
 1282 F864  D5          	PUSH DE
 1283 F865  C5          	PUSH BC
 1284 F866  ED 5B B788  	LD DE,(0B788H)
 1285 F86A  2A B784     	LD HL,(0B784H)
 1286 F86D  D9          	EXX
 1287 F86E  CD F473     	CALL LARG
 1288 F871  50          	LD D,B
 1289 F872  59          	LD E,C
 1290 F873  AF          LINE1:	XOR A
 1291 F874  ED 52       	SBC HL,DE
 1292 F876  30 07       	JR NC,LINE2
 1293 F878  19          	ADD HL,DE
 1294 F879  EB          	EX DE,HL
 1295 F87A  D9          	EXX
 1296 F87B  EB          	EX DE,HL
 1297 F87C  D9          	EXX
 1298 F87D  18 F4       	JR LINE1
 1299 F87F  D9          LINE2:	EXX
 1300 F880  D5          	PUSH DE
 1301 F881  ED 52       LINE3:	SBC HL,DE
 1302 F883  30 06       	JR NC,LINE4
 1303 F885  19          	ADD HL,DE
 1304 F886  EB          	EX DE,HL
 1305 F887  F6 01       	OR 1
 1306 F889  18 F6       	JR LINE3
 1307 F88B  E5          LINE4:	PUSH HL
 1308 F88C  D9          	EXX
 1309 F88D  C1          	POP BC
 1310 F88E  E5          	PUSH HL
 1311 F88F  ED 42       	SBC HL,BC
 1312 F891  E1          	POP HL
 1313 F892  C5          	PUSH BC
 1314 F893  30 03       	JR NC,LINE5
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  63
CAOSF   ASM

 1315 F895  E3          	EX (SP),HL
 1316 F896  F6 02       	OR 2
 1317 F898  E5          LINE5:	PUSH HL
 1318 F899  44          	LD B,H
 1319 F89A  4D          	LD C,L
 1320 F89B  D9          	EXX
 1321 F89C  C1          	POP BC
 1322 F89D  D1          	POP DE
 1323 F89E  60          	LD H,B
 1324 F89F  69          	LD L,C
 1325 F8A0  CB 3C       	SRL H
 1326 F8A2  CB 1D       	RR  L
 1327 F8A4  D9          	EXX
 1328 F8A5  E1          	POP HL
 1329 F8A6  EB          	EX DE,HL
 1330 F8A7  03          	INC BC
 1331 F8A8  CD F939     LINE6:	CALL SHLDE
 1332 F8AB  D9          	EXX
 1333 F8AC  A7          	AND A
 1334 F8AD  ED 52       	SBC HL,DE
 1335 F8AF  30 01       	JR NC,LINE7
 1336 F8B1  09          	ADD HL,BC
 1337 F8B2  D9          LINE7:	EXX
 1338 F8B3  CB 4F       	BIT 1,A
 1339 F8B5  20 02       	JR NZ,VDE
 1340 F8B7  30 0A       	JR NC,IHL
 1341 F8B9  CB 47       VDE:	BIT 0,A
 1342 F8BB  13          	INC DE
 1343 F8BC  28 02       	JR Z,IDE
 1344 F8BE  1B          	DEC DE
 1345 F8BF  1B          	DEC DE
 1346 F8C0  38 01       IDE:	JR C,IHL
 1347 F8C2  2B          	DEC HL
 1348 F8C3  ED A1       IHL:	CPI
 1349 F8C5  EA F8A8     	JP PE,LINE6
 1350                   	;
 1351 F8C8  C1          CIREND:	POP BC
 1352 F8C9  D1          	POP DE
 1353 F8CA  E1          	POP HL
 1354 F8CB  D9          	EXX
 1355 F8CC  C9          	RET
 1356                    
 1357 F8CD  D9          CIRCLE:	EXX		;UP 3F CIRCLE
 1358 F8CE  E5          	PUSH HL
 1359 F8CF  D5          	PUSH DE
 1360 F8D0  C5          	PUSH BC
 1361 F8D1  3A B786     	LD A,(0B786H)	;ARG3
 1362 F8D4  4F          	LD C,A
 1363 F8D5  51          	LD D,C
 1364 F8D6  CD FA89     	CALL MULT
 1365 F8D9  60          	LD H,B
 1366 F8DA  6F          	LD L,A
 1367 F8DB  54          	LD D,H
 1368 F8DC  5D          	LD E,L
 1369 F8DD  79          	LD A,C
 1370 F8DE  06 00       	LD B,0
 1371 F8E0  CB 21       	SLA C
 1372 F8E2  CB 10       	RL  B
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  64
CAOSF   ASM

 1373 F8E4  0B          	DEC BC
 1374 F8E5  C5          	PUSH BC
 1375 F8E6  01 0001     	LD BC,1
 1376 F8E9  D9          	EXX
 1377 F8EA  4F          	LD C,A
 1378 F8EB  06 00       	LD B,0
 1379 F8ED  CD F913     CIR1:	CALL CIRUP1
 1380 F8F0  CD F913     	CALL CIRUP1
 1381 F8F3  D9          	EXX
 1382 F8F4  A7          	AND A
 1383 F8F5  ED 42       	SBC HL,BC
 1384 F8F7  03          	INC BC
 1385 F8F8  03          	INC BC
 1386 F8F9  ED 52       	SBC HL,DE
 1387 F8FB  19          	ADD HL,DE
 1388 F8FC  D9          	EXX
 1389 F8FD  30 0C       	JR NC,CIR2
 1390 F8FF  D9          	EXX
 1391 F900  E3          	EX (SP),HL
 1392 F901  EB          	EX DE,HL
 1393 F902  A7          	AND A
 1394 F903  ED 52       	SBC HL,DE
 1395 F905  1B          	DEC DE
 1396 F906  1B          	DEC DE
 1397 F907  EB          	EX DE,HL
 1398 F908  E3          	EX (SP),HL
 1399 F909  D9          	EXX
 1400 F90A  0D          	DEC C
 1401 F90B  04          CIR2:	INC B
 1402 F90C  79          	LD A,C
 1403 F90D  B8          	CP B
 1404 F90E  30 DD       	JR NC,CIR1
 1405 F910  C1          	POP BC
 1406 F911  18 B5       	JR CIREND
 1407                    
 1408 F913  78          CIRUP1:	LD A,B
 1409 F914  41          	LD B,C
 1410 F915  4F          	LD C,A
 1411 F916  AF          	XOR A
 1412 F917  57          	LD D,A
 1413 F918  2A B784     	LD HL,(0B784H)
 1414 F91B  E5          	PUSH HL
 1415 F91C  59          	LD E,C
 1416 F91D  19          	ADD HL,DE
 1417 F91E  CD F927     	CALL CIRUP2
 1418 F921  AF          	XOR A
 1419 F922  57          	LD D,A
 1420 F923  E1          	POP HL
 1421 F924  59          	LD E,C
 1422 F925  ED 52       	SBC HL,DE
 1423 F927  E5          CIRUP2:	PUSH HL
 1424 F928  2A B782     	LD HL,(0B782H)
 1425 F92B  58          	LD E,B
 1426 F92C  A7          	AND A
 1427 F92D  ED 52       	SBC HL,DE
 1428 F92F  D1          	POP DE
 1429 F930  CD F939     	CALL SHLDE
 1430 F933  D5          	PUSH DE
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  65
CAOSF   ASM

 1431 F934  57          	LD D,A
 1432 F935  58          	LD E,B
 1433 F936  19          	ADD HL,DE
 1434 F937  19          	ADD HL,DE
 1435 F938  D1          	POP DE
 1436                   	;
 1437 F939  F5          SHLDE:	PUSH AF
 1438 F93A  CD F988     	CALL WTEST
 1439 F93D  38 07       	JR C,ENDS
 1440 F93F  E5          	PUSH HL
 1441 F940  D5          	PUSH DE
 1442 F941  CD F948     	CALL POINT
 1443 F944  D1          	POP DE
 1444 F945  E1          	POP HL
 1445 F946  F1          ENDS:	POP AF
 1446 F947  C9          	RET
 1447                    
 1448 F948  CD F970     POINT:	CALL BADR
 1449 F94B  D5          	PUSH DE
 1450 F94C  ED 5B B7D6  	LD DE,(0B7D6H)
 1451 F950  CB 4B       	BIT 1,E
 1452 F952  20 14       	JR NZ,NOTPT
 1453 F954  CB 43       	BIT 0,E
 1454 F956  20 15       	JR NZ,XORPT
 1455 F958  B6          	OR (HL)
 1456 F959  CB 53       XORPT1:	BIT 2,E
 1457 F95B  77          	LD (HL),A
 1458 F95C  7B          	LD A,E
 1459 F95D  D1          	POP DE
 1460 F95E  C0          	RET NZ
 1461 F95F  E6 F8       	AND 0F8H
 1462 F961  67          	LD H,A
 1463 F962  1A          	LD A,(DE)
 1464 F963  E6 07       	AND 7
 1465 F965  B4          	OR H
 1466 F966  12          	LD (DE),A
 1467 F967  C9          	RET
 1468                    
 1469 F968  2F          NOTPT:	CPL
 1470 F969  A6          	AND (HL)
 1471 F96A  77          	LD (HL),A
 1472 F96B  D1          	POP DE
 1473 F96C  C9          	RET
 1474                    
 1475 F96D  AE          XORPT:	XOR (HL)
 1476 F96E  18 E9       	JR XORPT1
 1477                    
 1478 F970  7D          BADR:	LD A,L
 1479 F971  53          	LD D,E
 1480 F972  E6 07       	AND 7
 1481 F974  29          	ADD HL,HL
 1482 F975  29          	ADD HL,HL
 1483 F976  29          	ADD HL,HL
 1484 F977  29          	ADD HL,HL
 1485 F978  29          	ADD HL,HL
 1486 F979  6C          	LD L,H
 1487 F97A  C6 F8       	ADD Low(BITTAB)
 1488 F97C  5F          	LD E,A
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  66
CAOSF   ASM

 1489 F97D  7A          	LD A,D
 1490 F97E  2F          	CPL
 1491 F97F  67          	LD H,A
 1492 F980  3A B7D8     	LD A,(0B7D8H)
 1493 F983  57          	LD D,A
 1494 F984  1A          	LD A,(DE)
 1495 F985  C3 E048     	JP PADR
 1496                    
 1497 F988  7A          WTEST:	LD A,D
 1498 F989  C6 FF       	ADD 0FFH
 1499 F98B  D8          	RET C
 1500 F98C  7C          WTESTV:	LD A,H
 1501 F98D  B7          	OR A
 1502 F98E  C8          	RET Z
 1503 F98F  C6 FE       	ADD 0FEH
 1504 F991  D8          	RET C
 1505 F992  7D          	LD A,L
 1506 F993  C6 C0       	ADD 0C0H
 1507 F995  C9          	RET
 1508                    
 1509                   ;*** Byteweise Tape-Routinen***
 1510                    
 1511 F996  5A          MBOUT:	LD E,D		;UP 38 MBOT
 1512 F997  57          	LD D,A
 1513 F998  D5          	PUSH DE
 1514 F999  C5          	PUSH BC
 1515 F99A  CB 5B       	BIT 3,E
 1516 F99C  20 46       	JR NZ,INITO
 1517 F99E  3A B7DC     	LD A,(0B7DCH)
 1518 F9A1  26 B7       INITO2:	LD H,0B7H
 1519 F9A3  6F          	LD L,A
 1520 F9A4  72          	LD (HL),D
 1521 F9A5  3C          	INC A
 1522 F9A6  CB 73       	BIT 6,E
 1523 F9A8  20 25       	JR NZ,CLOSEO
 1524 F9AA  E6 7F       	AND 7FH
 1525 F9AC  32 B7DC     	LD (0B7DCH),A
 1526 F9AF  20 2E       	JR NZ,POPS
 1527 F9B1  DD CB 07 4E 	BIT 1,(IX+7)
 1528 F9B5  28 09       	JR Z,KINITO
 1529 F9B7  CD F5F5     	CALL NBWI
 1530 F9BA  DD CB 07 8E 	RES 1,(IX+7)
 1531 F9BE  18 1F       	JR POPS
 1532                    
 1533 F9C0  CD F5D7     KINITO:	CALL NBW
 1534 F9C3  30 1A       	JR NC,POPS
 1535 F9C5  CD E468     IOERRO:	CALL CRO0
 1536 F9C8  2A B7C9     IOERR:	LD HL,(0B7C9H)
 1537 F9CB  CD F091     	CALL IRMOFF
 1538 F9CE  E9          	JP (HL)
 1539                    
 1540 F9CF  DD CB 07 4E CLOSEO:	BIT 1,(IX+7)
 1541 F9D3  F5          	PUSH AF
 1542 F9D4  C4 F5F5     	CALL NZ,NBWI
 1543 F9D7  F1          	POP AF
 1544 F9D8  CC F5D7     	CALL Z,NBW
 1545 F9DB  37          	SCF
 1546 F9DC  CD F5DB     	CALL NBW1
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  67
CAOSF   ASM

 1547 F9DF  C1          POPS:	POP BC
 1548 F9E0  D1          	POP DE
 1549 F9E1  CB 9B       	RES 3,E
 1550 F9E3  C9          	RET
 1551                    
 1552 F9E4  DD CB 07 CE INITO:	SET 1,(IX+7)
 1553 F9E8  7E          	LD A,(HL)
 1554 F9E9  FE D5       	CP 'U'+80H
 1555 F9EB  20 04       	JR NZ,INITO1
 1556 F9ED  DD CB 07 EE 	SET 5,(IX+7)
 1557 F9F1  D5          INITO1:	PUSH DE
 1558 F9F2  11 B700     	LD DE,0B700H
 1559 F9F5  01 000B     	LD BC,11
 1560 F9F8  ED B0       	LDIR
 1561 F9FA  7B          	LD A,E
 1562 F9FB  D1          	POP DE
 1563 F9FC  18 A3       	JR INITO2
 1564                    
 1565 F9FE  CD E44D     IOERRI:	CALL CMBI
 1566 FA01  18 C5       	JR IOERR
 1567                    
 1568 FA03  5A          MBIN:	LD E,D		;UP 37 MBIN
 1569 FA04  D5          	PUSH DE
 1570 FA05  C5          	PUSH BC
 1571 FA06  CB 73       	BIT 6,E
 1572 FA08  20 65       	JR NZ,CLOSI
 1573 FA0A  CB 5B       	BIT 3,E
 1574 FA0C  20 17       	JR NZ,INII
 1575 FA0E  3A B7DC     	LD A,(0B7DCH)
 1576 FA11  B7          	OR A
 1577 FA12  6F          	LD L,A
 1578 FA13  CC F580     	CALL Z,NBR
 1579 FA16  38 E6       	JR C,IOERRI
 1580 FA18  26 B7       BYTHOL:	LD H,0B7H
 1581 FA1A  56          	LD D,(HL)
 1582 FA1B  7D          	LD A,L
 1583 FA1C  3C          	INC A
 1584 FA1D  E6 7F       	AND 7FH
 1585 FA1F  32 B7DC     	LD (0B7DCH),A
 1586 FA22  7A          	LD A,D
 1587 FA23  18 BA       POPS1:	JR POPS
 1588                    
 1589 FA25  DD CB 07 8E INII:	RES 1,(IX+7)
 1590 FA29  CD E419     	CALL IMBII
 1591 FA2C  CD F580     	CALL NBR
 1592 FA2F  38 CD       	JR C,IOERRI
 1593 FA31  11 B700     	LD DE,0B700H
 1594 FA34  06 0B       	LD B,11
 1595 FA36  1A          	LD A,(DE)
 1596 FA37  FE D5       	CP 'U'+80H
 1597 FA39  28 04       	JR Z,INII1
 1598 FA3B  DD CB 07 AE 	RES 5,(IX+7)
 1599 FA3F  C6 29       INII1:	ADD 29H
 1600 FA41  30 0D       	JR NC,INII2
 1601 FA43  1A          	LD A,(DE)
 1602 FA44  D6 04       	SUB 4
 1603 FA46  12          	LD (DE),A
 1604 FA47  13          	INC DE
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  68
CAOSF   ASM

 1605 FA48  12          	LD (DE),A
 1606 FA49  13          	INC DE
 1607 FA4A  12          	LD (DE),A
 1608 FA4B  1B          	DEC DE
 1609 FA4C  1B          	DEC DE
 1610 FA4D  32 035E     	LD (35EH),A
 1611 FA50  1A          INII2:	LD A,(DE)
 1612 FA51  CD E354     	CALL CRT
 1613 FA54  BE          	CP (HL)
 1614 FA55  28 04       	JR Z,INII3
 1615 FA57  DD CB 07 CE 	SET 1,(IX+7)
 1616 FA5B  13          INII3:	INC DE
 1617 FA5C  23          	INC HL
 1618 FA5D  10 F1       	DJNZ INII2
 1619 FA5F  CD F324     	CALL CRLF
 1620 FA62  DD CB 07 4E 	BIT 1,(IX+7)
 1621 FA66  DD CB 07 8E 	RES 1,(IX+7)
 1622 FA6A  20 92       	JR NZ,IOERRI
 1623 FA6C  6B          	LD L,E
 1624 FA6D  18 A9       	JR BYTHOL
 1625                    
 1626 FA6F  CD E44D     CLOSI:	CALL CMBI
 1627 FA72  18 AF       	JR POPS1
 1628                    
 1629                   ;*** Sonstiges ***
 1630                    
 1631 FA74  7E          ZKOUT:	LD A,(HL)		;UP 45 ZKOUT
 1632 FA75  23          	INC HL
 1633 FA76  A7          	AND A
 1634 FA77  C8          	RET Z
 1635 FA78  CD F0AB     	CALL OCHR
 1636 FA7B  18 F7       	JR ZKOUT
 1637                    
 1638 FA7D  AF          SQR:	XOR A		;UP 40 SQR
 1639 FA7E  3D          	DEC A
 1640 FA7F  5F          	LD E,A
 1641 FA80  57          	LD D,A
 1642 FA81  3C          SQR1:	INC A
 1643 FA82  13          	INC DE
 1644 FA83  13          	INC DE
 1645 FA84  ED 52       	SBC HL,DE
 1646 FA86  F8          	RET M
 1647 FA87  18 F8       	JR SQR1
 1648                    
 1649 FA89  AF          MULT:	XOR A		;UP 41 MULT
 1650 FA8A  06 08       	LD B,8
 1651 FA8C  CB 1A       	RR D
 1652 FA8E  30 01       MU1:	JR NC,MU2
 1653 FA90  81          	ADD C
 1654 FA91  1F          MU2:	RRA
 1655 FA92  CB 1A       	RR D
 1656 FA94  10 F8       	DJNZ MU1
 1657 FA96  47          	LD B,A
 1658 FA97  7A          	LD A,D
 1659 FA98  C9          	RET
 1660                    
 1661 FA99  7F7F        	DEFW 7F7FH	;>MODUL<
 1662 FA9B  4D 4F 44 55 	DEFM 'MODUL'
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  69
CAOSF   ASM

 1663 FAA0  01          	DEFB 1
 1664                   	;
 1665 FAA1  D5          MODUL:	PUSH DE		;UP 47 MODUL
 1666 FAA2  6F          	LD L,A
 1667 FAA3  AF          MODUL1:	XOR A
 1668 FAA4  CD F0D7     	CALL MODU
 1669 FAA7  7C          	LD A,H
 1670 FAA8  3C          	INC A
 1671 FAA9  C4 F0C9     	CALL NZ,MODOUT
 1672 FAAC  2C          	INC L
 1673 FAAD  20 F4       	JR NZ,MODUL1
 1674 FAAF  D1          	POP DE
 1675 FAB0  C9          	RET
 1676                    
 1677                   ;	fuer PWRON
 1678 FAB1  11 01EF     MODSW:	LD DE,UMODL	;IO-Modul
 1679 FAB4  CD FAC9     	CALL MOSW
 1680 FAB7  32 B7E1     	LD (0B7E1H),A	;IO-Modul 0/1?
 1681 FABA  11 43F6     MODSW1:	LD DE,43F6H	;64K-Modul
 1682 FABD  CD FAC9     	CALL MOSW
 1683 FAC0  1E F4       	LD E,0F4H	;16K-Modul
 1684 FAC2  B7          	OR A
 1685 FAC3  CC FAC9     	CALL Z,MOSW	;nur wenn kein 64K-Modul
 1686 FAC6  11 C1FB     	LD DE,0C1FBH	;8K ROM (EDAS, FORTH, TEXOR)
 1687                   ;Modul suchen und schalten
 1688                   ;PE:	E=Modulkennung
 1689                   ;	D=Sollzustand
 1690                   ;PA:	A=1 wenn gefunden
 1691                   ;	A=0 nicht gefunden
 1692 FAC9  01 0680     MOSW:	LD BC,680H	;ab Steckplatz 7
 1693 FACC  AF          MOSW1:	XOR A
 1694 FACD  04          	INC B		;Steckplatz+1
 1695 FACE  C8          	RET Z		;alles durchsucht
 1696 FACF  78          	LD A,B
 1697 FAD0  DD BE 04    	CP (IX+4)
 1698 FAD3  28 F7       	JR Z,MOSW1
 1699 FAD5  ED 78       	IN A,(C)
 1700 FAD7  BB          	CP E		;gesuchte Modulkennung?
 1701 FAD8  20 F2       	JR NZ,MOSW1
 1702 FADA  3E 01       	LD A,1
 1703 FADC  26 B8       MOSW2:	LD H,0B8H	;Steuerbytetabelle im IRM
 1704 FADE  68          	LD L,B		;Steckplatz
 1705 FADF  ED 51       	OUT (C),D	;Modul schalten und
 1706 FAE1  72          	LD (HL),D	;in Tabelle eintragen
 1707 FAE2  C9          	RET
 1708                    
 1709                   ;*** Druckertreiber (V.24 bzw. CEN) ***
 1710                    
 1711 FAE3              PRZK:	;folgt TAB, 1.Byte Laenge
 1712 FAE3  E3          	EX (SP),HL
 1713 FAE4  46          	LD B,(HL)	;Laenge
 1714 FAE5  23          	INC HL
 1715 FAE6  7E          PRZK1:	LD A,(HL)	;Datenbyte
 1716 FAE7  23          	INC HL
 1717 FAE8  CD FB19     	CALL PRINT
 1718 FAEB  10 F9       	DJNZ PRZK1
 1719 FAED  E3          	EX (SP),HL
 1720 FAEE  C9          	RET
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  70
CAOSF   ASM

 1721                    
 1722 FAEF  F5          ECHO:	PUSH AF
 1723 FAF0  E5          	PUSH HL
 1724 FAF1  21 B7A2     	LD HL,0B7A2H	;STBT
 1725 FAF4  CB 66       	BIT 4,(HL)
 1726 FAF6  CD E354     	CALL CRT
 1727 FAF9  20 1A       	JR NZ,ECH4
 1728 FAFB  CB 5E       	BIT 3,(HL)
 1729 FAFD  28 0E       	JR Z,ECH2
 1730 FAFF  E6 7F       	AND 7FH
 1731 FB01  FE 20       	CP 20H
 1732 FB03  38 04       	JR C,ECH1
 1733 FB05  FE 7F       	CP 7FH
 1734 FB07  20 0C       	JR NZ,ECH4
 1735 FB09  3E 5F       ECH1:	LD A,'_'
 1736 FB0B  18 06       	JR ECH3
 1737                    
 1738 FB0D  FE 09       ECH2:	CP 9		;CUR
 1739 FB0F  20 02       	JR NZ,ECH3
 1740 FB11  3E 20       	LD A,' '
 1741 FB13  FE 0F       ECH3:	CP 0FH		;SH+CLR
 1742 FB15  E1          ECH4:	POP HL
 1743 FB16  28 17       	JR Z,PRT	;POP+RET
 1744 FB18  ED          	DEFB 0EDH	;NOP-BYTE
 1745                   	;
 1746 FB19  F5          PRINT:	PUSH AF
 1747         0000      IF V24
 1760                   ELSE
 1761 FB1A  D3 04       	OUT (4),A	; M001 PIO Port A (Daten)
 1762 FB1C  CD F274     WT:	CALL BRKT
 1763 FB1F  38 0E       	JR C,PRT
 1764 FB21  DB 05       	IN A,(5)	; M001 PIO Port B (Steuersignale)
 1765 FB23  CB 57       	BIT 2,A
 1766 FB25  20 F5       	JR NZ,WT	; Centr. BUSY?
 1767 FB27  CB 87       	RES 0,A
 1768 FB29  D3 05       	OUT (5),A	; /STROBE-Impuls PIO-B
 1769 FB2B  CB C7       	SET 0,A
 1770 FB2D  D3 05       	OUT (5),A
 1771                   ENDIF
 1772 FB2F  F1          PRT:	POP AF
 1773 FB30  C9          	RET
 1774                    
 1775 FB31              SHCLX:	;Reaktion auf SH+CLR
 1776 FB31  3A B7E1     	LD A,(0B7E1H)	;HCPZ
 1777 FB34  3D          	DEC A
 1778 FB35  20 24       	JR NZ,HCPX	;IO-Modul vorhanden
 1779 FB37  2A B7B9     	LD HL,(0B7B9H)	;OUTAB
 1780 FB3A  7E          	LD A,(HL)
 1781 FB3B  B7          	OR A
 1782 FB3C  28 08       	JR Z,SHX1
 1783 FB3E  21 FB19     	LD HL,PRINT
 1784 FB41  01 F008     	LD BC,ZEI0
 1785 FB44  18 06       	JR SHX2
 1786 FB46  21 FAEF     SHX1:	LD HL,ECHO
 1787 FB49  01 F00B     	LD BC,ZEI2
 1788 FB4C  22 B7BE     SHX2:	LD (0B7BEH),HL	;UOUT1+1
 1789 FB4F  ED 43 B7B9  	LD (0B7B9H),BC	;OUTAB
 1790 FB53  C9          	RET
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  71
CAOSF   ASM

 1791                    
 1792 FB54  3A B7E1     ESC6:	LD A,(0B7E1H)	;HCPZ
 1793 FB57  B7          	OR A
 1794 FB58  C8          	RET Z		;kein IO-Modul
 1795 FB59  18 03       	JR HCPX0
 1796 FB5B  FE 02       HCPX:	CP 2
 1797 FB5D  D0          	RET NC
 1798 FB5E  D5          HCPX0:	PUSH DE
 1799 FB5F  21 0000     	LD HL,0
 1800 FB62  CD FAE3     HCPX1:	CALL PRZK
 1801 FB65  09          	DEFB 9
 1802 FB66  1B          	DEFB 1BH
 1803 FB67  4A          	DEFB 'J'	;Vorschub 1/9"
 1804 FB68  18          	DEFB 24
 1805 FB69  0D          	DEFB 0DH
 1806 FB6A  1B          	DEFB 1BH
 1807 FB6B  2A          	DEFB '*'	;Plottergrafik
 1808 FB6C  05          	DEFB 5
 1809 FB6D  0140        	DEFW 140H
 1810 FB6F  E5          HCPX2:	PUSH HL
 1811 FB70  CD E048     	CALL PADR
 1812 FB73  CD FBA7     	CALL RDX
 1813 FB76  0E 08       	LD C,8
 1814 FB78  21 B78E     HCPX3:	LD HL,0B78EH	;ARG7
 1815 FB7B  06 08       	LD B,8
 1816 FB7D  CB 16       HCPX4:	RL (HL)
 1817 FB7F  2C          	INC L
 1818 FB80  17          	RLA
 1819 FB81  10 FA       	DJNZ HCPX4
 1820 FB83  2E A2       	LD L,0A2H
 1821 FB85  CB 56       	BIT 2,(HL)
 1822 FB87  28 01       	JR Z,HCPX5
 1823 FB89  2F          	CPL		;negiert
 1824 FB8A  CD FB19     HCPX5:	CALL PRINT
 1825 FB8D  0D          	DEC C
 1826 FB8E  20 E8       	JR NZ,HCPX3
 1827 FB90  E1          	POP HL
 1828 FB91  2C          	INC L
 1829 FB92  7D          	LD A,L
 1830 FB93  FE 28       	CP 40
 1831 FB95  20 D8       	JR NZ,HCPX2
 1832 FB97  2E 00       	LD L,0
 1833 FB99  7C          	LD A,H
 1834 FB9A  C6 08       	ADD 8
 1835 FB9C  67          	LD H,A
 1836 FB9D  30 C3       	JR NC,HCPX1
 1837 FB9F  CD FAE3     	CALL PRZK
 1838 FBA2  02          	DEFB 2
 1839 FBA3  0D0A        	DEFW 0D0AH
 1840 FBA5  D1          	POP DE
 1841 FBA6  C9          	RET
 1842                    
 1843 FBA7              RDX:	;liest Zeichen nach ARG7
 1844 FBA7  11 B78E     	LD DE,0B78EH
 1845 FBAA  01 0080     	LD BC,80H
 1846 FBAD  E5          	PUSH HL
 1847 FBAE  CD FBB4     	CALL RDX1
 1848 FBB1  E1          	POP HL
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  72
CAOSF   ASM

 1849 FBB2  CB ED       	SET 5,L
 1850 FBB4  3E 04       RDX1:	LD A,4
 1851 FBB6  ED A0       RDX2:	LDI
 1852 FBB8  09          	ADD HL,BC
 1853 FBB9  03          	INC BC
 1854 FBBA  3D          	DEC A
 1855 FBBB  20 F9       	JR NZ,RDX2
 1856 FBBD  C9          	RET
 1857                    
 1858         0000      IF V24
 1863                   ELSE
 1864 FBBE  7F7F        	DEFW 7F7FH	;>CEN><
 1865 FBC0  43 45 4E    	DEFM 'CEN'
 1866 FBC3  01          	DEFB 1		; als Parameter 0 oder 1 eingeben
 1867                   	;		; (fuer DIO-Modul nutzen oder nicht)
 1868                   ENDIF
 1869 FBC4  7D          	LD A,L
 1870 FBC5  32 B7E1     	LD (0B7E1H),A	;HCPZ: IO-Modul
 1871 FBC8  C9          	RET
 1872                    
 1873 FBC9  7F7F        	DEFW 7F7FH	;>SEND<
 1874 FBCB  53 45 4E 44 	DEFM 'SEND'
 1875 FBCF  01          	DEFB 1
 1876                   	;
 1877 FBD0  C8          	RET Z		;kein Argument eingegeben
 1878 FBD1  47          	LD B,A		;Anzahl Argumente
 1879 FBD2  21 B782     	LD HL,0B782H	;ARG1
 1880 FBD5  7E          SND1:	LD A,(HL)
 1881 FBD6  23          	INC HL
 1882 FBD7  23          	INC HL
 1883 FBD8  CD FB19     	CALL PRINT
 1884 FBDB  10 F8       	DJNZ SND1
 1885 FBDD  C9          	RET
 1886                    
 1887 FBDE  7F7F        	DEFW 7F7FH	;>USER<
 1888 FBE0  55 53 45 52 	DEFM 'USER'
 1889 FBE4  01          	DEFB 1
 1890                   	;
 1891 FBE5  FE 03       	CP 3
 1892 FBE7  CA F77A     	JP Z,JPLD
 1893 FBEA  3D          	DEC A
 1894 FBEB  C2 F31A     	JP NZ,ERRM
 1895 FBEE  E9          	JP (HL)
 1896                    
 1897 FBEF  7F7F        	DEFW 7F7FH
 1898 FBF1  53 45 45 4B 	DEFM 'SEEK'
 1899 FBF5  01          	DEFB 1
 1900                    
 1901 FBF6  FE 03       	CP	3
 1902 FBF8  D8          	RET	C
 1903 FBF9  EB          	EX	DE,HL
 1904 FBFA  ED 52       	SBC	HL,DE
 1905 FBFC  44          	LD	B,H
 1906 FBFD  4D          	LD	C,L
 1907 FBFE  EB          	EX	DE,HL
 1908 FBFF  11 B786     SCHL	LD	DE,0B786H	;ARG3
 1909 FC02  1A          	LD	A,(DE)
 1910 FC03  ED B1       	CPIR
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  73
CAOSF   ASM

 1911 FC05  E2 F324     	JP	PO,CRLF
 1912 FC08  C5          	PUSH	BC
 1913 FC09  E5          	PUSH	HL
 1914 FC0A  3A B781     	LD	A,(0B781H)
 1915 FC0D  D6 03       	SUB	3
 1916 FC0F  47          	LD	B,A
 1917 FC10  28 09       	JR	Z,GEF
 1918 FC12  13          NBYT	INC	DE
 1919 FC13  13          	INC	DE
 1920 FC14  1A          	LD	A,(DE)
 1921 FC15  BE          	CP	(HL)
 1922 FC16  23          	INC	HL
 1923 FC17  20 10       	JR	NZ,NGEF
 1924 FC19  10 F7       	DJNZ	NBYT
 1925 FC1B  E1          GEF	POP	HL
 1926 FC1C  C1          	POP	BC
 1927 FC1D  2B          	DEC	HL
 1928 FC1E  CD F30D     	CALL	HLHX
 1929 FC21  23          	INC	HL
 1930 FC22  CD F274     	CALL	BRKT
 1931 FC25  DA F324     	JP	C,CRLF
 1932 FC28  11          	DEFB	11H
 1933 FC29  E1          NGEF	POP	HL
 1934 FC2A  C1          	POP	BC
 1935 FC2B  18 D2       	JR	SCHL
 1936                    
 1937                   ;*** Tabellen ***
 1938                    
 1939 FC2D  E1D4        ESCTAB:	DEFW ASC5	;ESC0	Tabulatorschritt
 1940 FC2F  E410        	DEFW ESC1	;ESC1
 1941 FC31  F61D        	DEFW ESC2	;ESC2
 1942 FC33  E36B        	DEFW ESC3	;ESC3
 1943 FC35  E368        	DEFW ESC4	;ESC4
 1944 FC37  FAA1        	DEFW MODUL	;ESC5	Auflisten aller Module
 1945 FC39  FB54        	DEFW ESC6	;ESC6
 1946 FC3B  E369        	DEFW ESC7	;ESC7
 1947 FC3D  E32E        	DEFW ASC6	;ESC8
 1948 FC3F  E36A        	DEFW ESCF	;ESC9
 1949 FC41  E560        	DEFW MOT	;ESCA
 1950                    
 1951                    
 1952 FC43  E354        SUTAB:	DEFW CRT	;0
 1953 FC45  E49B        	DEFW MBOT	;1
 1954 FC47  B7BD        	DEFW 0B7BDH	;UOUT 1
 1955 FC49  B7C3        	DEFW 0B7C3H	;UOUT 2
 1956 FC4B  F288        	DEFW KBD	;4
 1957 FC4D  E4FF        	DEFW MBI	;5
 1958 FC4F  B7C0        	DEFW 0B7C0H	;USIN 1
 1959 FC51  B7C6        	DEFW 0B7C6H	;USIN 2
 1960 FC53  E48D        	DEFW ISRO	;8
 1961 FC55  E461        	DEFW CSRO	;9
 1962 FC57  E4FC        	DEFW ISRI	;0A
 1963 FC59  F534        	DEFW CSRI	;0B
 1964 FC5B  E3FC        	DEFW KBDS	;0C
 1965 FC5D  F17E        	DEFW BYE	;0D
 1966 FC5F  E407        	DEFW KBDZ	;0E
 1967 FC61  F605        	DEFW COLOR	;0F
 1968 FC63  F4A2        	DEFW LOAD	;10
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  74
CAOSF   ASM

 1969 FC65  F495        	DEFW VERIFY	;11
 1970 FC67  F1E8        	DEFW LOOP	;12
 1971 FC69  F257        	DEFW NORM	;13
 1972 FC6B  E313        	DEFW WAIT	;14
 1973 FC6D  F473        	DEFW LARG	;15
 1974 FC6F  F0A2        	DEFW INTB	;16
 1975 FC71  F2E6        	DEFW INLIN	;17
 1976 FC73  F34F        	DEFW RHEX	;18
 1977 FC75  F31A        	DEFW ERRM	;19
 1978 FC77  F30D        	DEFW HLHX	;1A
 1979 FC79  F346        	DEFW HLDE	;1B
 1980 FC7B  F333        	DEFW AHEX	;1C
 1981 FC7D  F219        	DEFW ZSUCH	;1D
 1982 FC7F  F25D        	DEFW SOUT	;1E
 1983 FC81  F26A        	DEFW SIN	;1F
 1984 FC83  F25A        	DEFW NOUT	;20
 1985 FC85  F267        	DEFW NIN	;21
 1986 FC87  F384        	DEFW GARG	;22
 1987 FC89  F251        	DEFW OSTR	;23
 1988 FC8B  F0AB        	DEFW OCHR	;24
 1989 FC8D  F807        	DEFW CUCP	;25
 1990 FC8F  F0D7        	DEFW MODU	;26
 1991 FC91  F120        	DEFW JUMP	;27
 1992 FC93  E344        	DEFW LDMA	;28
 1993 FC95  E346        	DEFW LDAM	;29
 1994 FC97  F274        	DEFW BRKT	;2A
 1995 FC99  F315        	DEFW SPAC	;2B
 1996 FC9B  F324        	DEFW CRLF	;2C
 1997 FC9D  F32B        	DEFW HOME	;2D
 1998 FC9F  F68B        	DEFW MODI	;2E
 1999 FCA1  F837        	DEFW PUDE	;2F
 2000 FCA3  F838        	DEFW PUSE	;30
 2001 FCA5  F3BA        	DEFW SIXD	;31
 2002 FCA7  E0B6        	DEFW DABR	;32
 2003 FCA9  E0AA        	DEFW TCIF	;33
 2004 FCAB  E048        	DEFW PADR	;34
 2005 FCAD  E5BE        	DEFW TON	;35
 2006 FCAF  F43A        	DEFW SAVE	;36
 2007 FCB1  FA03        	DEFW MBIN	;37
 2008 FCB3  F996        	DEFW MBOUT	;38
 2009 FCB5  F790        	DEFW KEY	;39
 2010 FCB7  F7ED        	DEFW KEYLI	;3A
 2011 FCB9  F656        	DEFW DISP	;3B
 2012 FCBB  F721        	DEFW WININ	;3C
 2013 FCBD  F73D        	DEFW WINAK	;3D
 2014 FCBF  F862        	DEFW LINE	;3E
 2015 FCC1  F8CD        	DEFW CIRCLE	;3F
 2016 FCC3  FA7D        	DEFW SQR	;40
 2017 FCC5  FA89        	DEFW MULT	;41
 2018 FCC7  F63F        	DEFW CSTBT	;42
 2019 FCC9  F40A        	DEFW INIEA	;43
 2020 FCCB  F415        	DEFW INIME	;44
 2021 FCCD  FA74        	DEFW ZKOUT	;45
 2022 FCCF  F1A7        	DEFW MENU	;46
 2023                    
 2024                    
 2025 FCD1  E353        CRTTAB:	DEFW DUMMY
 2026 FCD3  E21C        	DEFW CLEAR
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  75
CAOSF   ASM

 2027 FCD5  E2E6        	DEFW DELLN
 2028 FCD7  E353        	DEFW DUMMY	;BRK
 2029 FCD9  E353        	DEFW DUMMY
 2030 FCDB  E1D4        	DEFW ASC5	;Tab
 2031 FCDD  E32E        	DEFW ASC6	;Color
 2032 FCDF  E309        	DEFW BEL
 2033 FCE1  E1FB        	DEFW CUL
 2034 FCE3  E1E4        	DEFW CUR
 2035 FCE5  E1ED        	DEFW CUD
 2036 FCE7  E20B        	DEFW CUU
 2037 FCE9  E292        	DEFW CLS
 2038 FCEB  E2A2        	DEFW CRN
 2039 FCED  E353        	DEFW DUMMY
 2040 FCEF  E1F7        	DEFW HCOPY
 2041 FCF1  E2A0        	DEFW HOMEPG
 2042 FCF3  E210        	DEFW PAGE
 2043 FCF5  E217        	DEFW SCROL
 2044 FCF7  E353        	DEFW DUMMY	;STOP
 2045 FCF9  E34B        	DEFW CLICK
 2046 FCFB  E353        	DEFW DUMMY
 2047 FCFD  E348        	DEFW SHLOCK
 2048 FCFF  E353        	DEFW DUMMY
 2049 FD01  E205        	DEFW CEL
 2050 FD03  E2A2        	DEFW CRN	;CCR
 2051 FD05  E242        	DEFW INS
 2052 FD07  E367        	DEFW ESC
 2053 FD09  E353        	DEFW DUMMY	;LIST
 2054 FD0B  E353        	DEFW DUMMY	;RUN
 2055 FD0D  E1EB        	DEFW CRNL	;CONT
 2056 FD0F  E21F        	DEFW DEL
 2057                    
 2058                    
 2059 FD11  57 77       KTAB:	DEFM 'Ww'
 2060 FD13  41 61       	DEFM 'Aa'
 2061 FD15  32 22       	DEFM '2"'
 2062 FD17  1908        	DEFW 1908H
 2063 FD19  0C10        	DEFW 0C10H
 2064 FD1B  2D 3D       	DEFM '-='
 2065 FD1D  F8F2        	DEFW 0F8F2H
 2066 FD1F  59 79       	DEFM 'Yy'
 2067 FD21  45 65       	DEFM 'Ee'
 2068 FD23  53 73       	DEFM 'Ss'
 2069 FD25  33 23       	DEFM '3#'
 2070 FD27  5E 5D       	DEFM '^]'
 2071 FD29  0F01        	DEFW 0F01H
 2072 FD2B  3A 2A       	DEFM ':*'
 2073 FD2D  F9F3        	DEFW 0F9F3H
 2074 FD2F  58 78       	DEFM 'Xx'
 2075 FD31  54 74       	DEFM 'Tt'
 2076 FD33  46 66       	DEFM 'Ff'
 2077 FD35  35 25       	DEFM '5%'
 2078 FD37  50 70       	DEFM 'Pp'
 2079 FD39  021F        	DEFW 21FH
 2080 FD3B  4030        	DEFW 4030H
 2081 FD3D  FBF5        	DEFW 0FBF5H
 2082 FD3F  56 76       	DEFM 'Vv'
 2083 FD41  55 75       	DEFM 'Uu'
 2084 FD43  48 68       	DEFM 'Hh'
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  76
CAOSF   ASM

 2085 FD45  2737        	DEFW 2737H
 2086 FD47  4F 6F       	DEFM 'Oo'
 2087 FD49  141A        	DEFW 141AH
 2088 FD4B  39 29       	DEFM '9)'
 2089 FD4D  0303        	DEFW 303H
 2090 FD4F  4E 6E       	DEFM 'Nn'
 2091 FD51  49 69       	DEFM 'Ii'
 2092 FD53  4A 6A       	DEFM 'Jj'
 2093 FD55  38 28       	DEFM '8('
 2094 FD57  20 5B       	DEFM ' ['
 2095 FD59  4B 6B       	DEFM 'Kk'
 2096 FD5B  2C 3C       	DEFM ',<'
 2097 FD5D  1B13        	DEFW 1B13H	;STOP/ESC
 2098 FD5F  4D 6D       	DEFM 'Mm'
 2099 FD61  5A 7A       	DEFM 'Zz'
 2100 FD63  47 67       	DEFM 'Gg'
 2101 FD65  36 26       	DEFM '6&'
 2102 FD67  051B        	DEFW 51BH	;Taste nicht vorhanden
 2103 FD69  4C 6C       	DEFM 'Ll'
 2104 FD6B  2E 3E       	DEFM '.>'
 2105 FD6D  FCF6        	DEFW 0FCF6H
 2106 FD6F  42 62       	DEFM 'Bb'
 2107 FD71  52 72       	DEFM 'Rr'
 2108 FD73  44 64       	DEFM 'Dd'
 2109 FD75  34 24       	DEFM '4$'
 2110 FD77  5F 5C       	DEFM '_\'
 2111 FD79  2B 3B       	DEFM '+;'
 2112 FD7B  2F 3F       	DEFM '/?'
 2113 FD7D  FAF4        	DEFW 0FAF4H
 2114 FD7F  43 63       	DEFM 'Cc'
 2115 FD81  51 71       	DEFM 'Qq'
 2116 FD83  1616        	DEFW 1616H
 2117 FD85  31 21       	DEFM '1!'
 2118 FD87  120A        	DEFW 120AH
 2119 FD89  110B        	DEFW 110BH
 2120 FD8B  1809        	DEFW 1809H
 2121 FD8D  F7F1        	DEFW 0F7F1H
 2122 FD8F  0D0D        	DEFW 0D0DH
 2123                    
 2124                    
 2125 FD91  E576        ISRTAB:	DEFW ISRPA
 2126 FD93  E37D        	DEFW ISRPB
 2127 FD95  E585        	DEFW INTEND
 2128 FD97  E566        	DEFW ISRC1
 2129 FD99  E5B5        	DEFW ISRC2
 2130 FD9B  E371        	DEFW ISRC3
 2131                    
 2132                    
 2133 FD9D              KCTAB0:
 2134 FD9D  88          	DEFB 88H	;PIO A Daten
 2135 FD9E  01          	DEFB 1		;Anzahl
 2136 FD9F  1E          	DEFB 1EH	;/NMI=H! (CAOS-E aus)
 2137         0000      IF V24
 2151                   ELSE
 2152 FDA0  05          	DEFB 05H	;M001 PIO-B
 2153 FDA1  01          	DEFB 1		;Anzahl
 2154 FDA2  01          	DEFB 1		;/STROBE=1
 2155                   	;
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  77
CAOSF   ASM

 2156 FDA3  06          	DEFB 06H	;M001 PIO-A Steuerwort
 2157 FDA4  02          	DEFB 2		;Anzahl
 2158 FDA5  0F          	DEFB 0FH	;Byte-Ausgabe
 2159 FDA6  03          	DEFB 03H	;DI
 2160                   	;
 2161 FDA7  07          	DEFB 07H	;M001 PIO-B Steuerwort
 2162 FDA8  03          	DEFB 3		;Anzahl
 2163 FDA9  CF          	DEFB 0CFH	;Bit-Modu
 2164 FDAA  FE          	DEFB 0FEH	;E/A-Maske
 2165 FDAB  03          	DEFB 03H	;DI
 2166                   ENDIF
 2167 FDAC              KCTAB1:
 2168 FDAC  8A          	DEFB 8AH	;PIO A C
 2169 FDAD  03          	DEFB 3		;Anz.
 2170 FDAE  E4          	DEFB 0E4H	;I-Vektor
 2171 FDAF  0F          	DEFB 0FH	;Byteout
 2172 FDB0  03          	DEFB 3		;DI
 2173                   	;
 2174 FDB1  8B          	DEFB 8BH	;PIO B C
 2175 FDB2  03          	DEFB 3		;Anz.
 2176 FDB3  E6          	DEFB 0E6H	;I-Vektor
 2177 FDB4  0F          	DEFB 0FH	;Byteout
 2178 FDB5  83          	DEFB 83H	;EI
 2179                   	;
 2180 FDB6  8C          	DEFB 8CH	;CTC 0
 2181 FDB7  01          	DEFB 1		;Anz.
 2182 FDB8  E8          	DEFB 0E8H	;I-Vektor
 2183                   	;
 2184 FDB9  8E          	DEFB 8EH	;CTC 2
 2185 FDBA  02          	DEFB 2		;Anz.
 2186 FDBB  47          	DEFB 47H	;Zaehler,DI
 2187 FDBC  0C          	DEFB 0CH	;Blink-ZK
 2188                    
 2189                    
 2190 FDBD  FB31        SYSTAB:	DEFW SHCLX	;HCADR
 2191 FDBF  00          	DEFB 0		;WINNR
 2192 FDC0  0000        	DEFW 0		;WINON
 2193 FDC2  2028        	DEFW 2028H	;WINLG
 2194 FDC4  0000        	DEFW 0		;CURSO
 2195 FDC6  00          	DEFB 0		;STBT
 2196 FDC7  39          	DEFB 39H	;COLOR
 2197 FDC8  E2A5        	DEFW SCRLPG	;WEND
 2198 FDCA  EE00        	DEFW 0EE00H	;CCTL 0
 2199 FDCC  FE00        	DEFW 0FE00H	;CCTL 1
 2200 FDCE  EE00        	DEFW 0EE00H	;CCTL 2
 2201 FDD0  FE00        	DEFW 0FE00H	;CCLT 3
 2202 FDD2  01C4        	DEFW 01C4H	;SYSP
 2203 FDD4  FC43        	DEFW SUTAB	;SUTAB
 2204 FDD6  FCD1        	DEFW CRTTAB	;CTAB
 2205 FDD8  ED 79       	OUT (C),A	;JUMP IN NEUES
 2206 FDDA  C3 F012     	JP 0F012H	; CAOS
 2207 FDDD  F008        	DEFW ZEI0	;OUTAB
 2208 FDDF  F00E        	DEFW ZEI4	;INTAB
 2209 FDE1  C3 FB19     	JP PRINT	;USER OUT 2
 2210 FDE4  C3 E353     	JP DUMMY	;USER  IN 2
 2211 FDE7  C3 E353     	JP DUMMY	;USER OUT 3
 2212 FDEA  C3 E353     	JP DUMMY	;USER  IN 3
 2213 FDED  DC82        	DEFW 0DC82H	;ZEIG. IO ERROR
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  78
CAOSF   ASM

 2214 FDEF              STBE1:	;
 2215 FDEF  FD          	DEFB 0FDH	;H-Teil Bittab
 2216 FDF0  25          	DEFM '%'	;Prompter
 2217 FDF1  00A0        	DEFW 0A0H	;Vortonl{nge
 2218 FDF3  00          	DEFB 0		;Byte-Z{hler
 2219 FDF4  FC2D        	DEFW ESCTAB
 2220 FDF6  0B          	DEFB 11		;L{nge ESC-TAB.
 2221 FDF7  05          	DEFB 5		;COUNT
 2222 FDF8              STBE2:	;
 2223                   	;
 2224         0032      STBL1	EQU STBE1-SYSTAB
 2225         0009      STBL2	EQU STBE2-STBE1
 2226                    
 2227                    
 2228 FDF8    0000      	DS 0FDF8h-$,0FFH
 2229 FDF8  80          BITTAB:	DEFB 80H
 2230 FDF9  40          	DEFB 40H
 2231 FDFA  20          	DEFB 20H
 2232 FDFB  10          	DEFB 10H
 2233 FDFC  08          	DEFB 08H
 2234 FDFD  04          	DEFB 04H
 2235 FDFE  02          	DEFB 02H
 2236 FDFF  01          	DEFB 01H
 2237                   ;
 2238                   ;
 2239                   ;	END
   18                   include zskl34.inc		; Zeichensatz Kleinbuchstaben
    1                   ;*****************************************
    2                   ;**	CAOS 4.5 Zeichensatz Klein	**
    3                   ;**					**
    4                   ;**	Adresse:  FE00h bis FFFFh	**
    5                   ;**					**
    6                   ;**	letzte Aenderung: 19.08.2023	**
    7                   ;*****************************************
    8                   
    9                   ; 19.08.2023: Codes aus ROM-Images regeneriert
   10                   
   11 FE00  00 00 00 00 	DB	000H, 000H, 000H, 000H, 000H, 000H, 081H, 0FFH	; 00H Dummy
   12 FE08  00 00 22 72 	DB	000H, 000H, 022H, 072H, 022H, 03EH, 000H, 000H	; 01H Backspace
   13 FE10  00 00 12 32 	DB	000H, 000H, 012H, 032H, 07EH, 032H, 012H, 000H	; 02H Zeile loeschen
   14 FE18  7E 81 B9 A5 	DB	07EH, 081H, 0B9H, 0A5H, 0B9H, 0A5H, 0B9H, 081H	; 03H Break
   15 FE20  55 FF 55 FF 	DB	055H, 0FFH, 055H, 0FFH, 055H, 0FFH, 055H, 0FFH	; 04H
   16 FE28  AA AA AA AA 	DB	0AAH, 0AAH, 0AAH, 0AAH, 0AAH, 0AAH, 0AAH, 0AAH	; 05H
   17 FE30  FF 00 FF 00 	DB	0FFH, 000H, 0FFH, 000H, 0FFH, 000H, 0FFH, 000H	; 06H
   18 FE38  00 00 3C 42 	DB	000H, 000H, 03CH, 042H, 042H, 07EH, 000H, 000H	; 07H Beep
   19 FE40  00 10 30 7E 	DB	000H, 010H, 030H, 07EH, 030H, 010H, 000H, 000H	; 08H Cursor links
   20 FE48  00 08 0C 7E 	DB	000H, 008H, 00CH, 07EH, 00CH, 008H, 000H, 000H	; 09H Cursor rechts
   21 FE50  00 10 10 10 	DB	000H, 010H, 010H, 010H, 07CH, 038H, 010H, 000H	; 0AH Cursor unten
   22 FE58  08 1C 3E 08 	DB	008H, 01CH, 03EH, 008H, 008H, 008H, 008H, 000H	; 0BH Cursor oben
   23 FE60  38 30 28 08 	DB	038H, 030H, 028H, 008H, 008H, 008H, 03EH, 000H	; 0CH Bildschirm loeschen
   24 FE68  00 00 12 32 	DB	000H, 000H, 012H, 032H, 07EH, 030H, 010H, 000H	; 0DH Enter
   25 FE70  AA 55 AA 55 	DB	0AAH, 055H, 0AAH, 055H, 0AAH, 055H, 0AAH, 055H	; 0EH
   26 FE78  3E 7C 7C 3E 	DB	03EH, 07CH, 07CH, 03EH, 03EH, 07CH, 0F8H, 0F8H	; 0FH Hardcopy
   27                   
   28 FE80  38 30 28 04 	DB	038H, 030H, 028H, 004H, 004H, 004H, 004H, 000H	; 10H Cursor Home
   29 FE88  7F 08 1C 2A 	DB	07FH, 008H, 01CH, 02AH, 008H, 008H, 008H, 000H	; 11H Page-Modus
   30 FE90  00 08 08 08 	DB	000H, 008H, 008H, 008H, 02AH, 01CH, 008H, 07FH	; 12H Scroll-Modus
   31 FE98  7E 81 9D A1 	DB	07EH, 081H, 09DH, 0A1H, 0B9H, 085H, 085H, 0B9H	; 13H Stop
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  79
ZSKL34  INC

   32 FEA0  00 3C 42 5A 	DB	000H, 03CH, 042H, 05AH, 05AH, 042H, 03CH, 000H	; 14H Tastenclick
   33 FEA8  88 44 22 11 	DB	088H, 044H, 022H, 011H, 088H, 044H, 022H, 011H	; 15H
   34 FEB0  00 7F 22 72 	DB	000H, 07FH, 022H, 072H, 027H, 022H, 07FH, 000H	; 16H Shift-Lock
   35 FEB8  11 22 44 88 	DB	011H, 022H, 044H, 088H, 011H, 022H, 044H, 088H	; 17H
   36 FEC0  00 01 09 0D 	DB	000H, 001H, 009H, 00DH, 07FH, 00DH, 009H, 001H	; 18H Cursor an Zeilenende
   37 FEC8  00 90 B0 FE 	DB	000H, 090H, 0B0H, 0FEH, 0B0H, 090H, 000H, 000H	; 19H Cursor an Zeilenanfang
   38 FED0  00 08 7C 06 	DB	000H, 008H, 07CH, 006H, 07CH, 008H, 000H, 000H	; 1AH INS
   39 FED8  CC CC 33 33 	DB	0CCH, 0CCH, 033H, 033H, 0CCH, 0CCH, 033H, 033H	; 1BH ESC
   40 FEE0  7E 81 A1 A1 	DB	07EH, 081H, 0A1H, 0A1H, 0A1H, 0A1H, 0BDH, 081H	; 1CH List
   41 FEE8  7E 81 B9 A5 	DB	07EH, 081H, 0B9H, 0A5H, 0B9H, 0A5H, 0A5H, 081H	; 1DH Run
   42 FEF0  7E 81 99 A1 	DB	07EH, 081H, 099H, 0A1H, 0A1H, 0A1H, 099H, 081H	; 1EH Cont
   43 FEF8  00 10 3E 60 	DB	000H, 010H, 03EH, 060H, 03EH, 010H, 000H, 000H	; 1FH DEL
   44                   
   45 FF00  3C 42 99 A1 	DB	03CH, 042H, 099H, 0A1H, 0A1H, 099H, 042H, 03CH	; 60H (c)
   46 FF08  00 00 78 0C 	DB	000H, 000H, 078H, 00CH, 07CH, 0CCH, 076H, 000H	; 61H a
   47 FF10  E0 60 7C 66 	DB	0E0H, 060H, 07CH, 066H, 066H, 066H, 0DCH, 000H	; 62H b
   48 FF18  00 00 78 CC 	DB	000H, 000H, 078H, 0CCH, 0C0H, 0CCH, 078H, 000H	; 63H c
   49 FF20  1C 0C 7C CC 	DB	01CH, 00CH, 07CH, 0CCH, 0CCH, 0CCH, 076H, 000H	; 64H d
   50 FF28  00 00 78 CC 	DB	000H, 000H, 078H, 0CCH, 0FCH, 0C0H, 078H, 000H	; 65H e
   51 FF30  38 6C 60 F0 	DB	038H, 06CH, 060H, 0F0H, 060H, 060H, 0F0H, 000H	; 66H f
   52 FF38  00 00 76 CC 	DB	000H, 000H, 076H, 0CCH, 0CCH, 07CH, 00CH, 0F8H	; 67H g
   53 FF40  E0 60 6C 76 	DB	0E0H, 060H, 06CH, 076H, 066H, 066H, 0E6H, 000H	; 68H h
   54 FF48  30 00 70 30 	DB	030H, 000H, 070H, 030H, 030H, 030H, 0FCH, 000H	; 69H i
   55 FF50  0C 00 1C 0C 	DB	00CH, 000H, 01CH, 00CH, 00CH, 0CCH, 0CCH, 078H	; 6AH j
   56 FF58  E0 60 66 6C 	DB	0E0H, 060H, 066H, 06CH, 078H, 06CH, 0E6H, 000H	; 6BH k
   57 FF60  70 30 30 30 	DB	070H, 030H, 030H, 030H, 030H, 030H, 0FCH, 000H	; 6CH l
   58 FF68  00 00 CC FE 	DB	000H, 000H, 0CCH, 0FEH, 0FEH, 0D6H, 0C6H, 000H	; 6DH m
   59 FF70  00 00 F8 CC 	DB	000H, 000H, 0F8H, 0CCH, 0CCH, 0CCH, 0CCH, 000H	; 6EH n
   60 FF78  00 00 78 CC 	DB	000H, 000H, 078H, 0CCH, 0CCH, 0CCH, 078H, 000H	; 6FH o
   61                   
   62 FF80  00 00 DC 66 	DB	000H, 000H, 0DCH, 066H, 066H, 07CH, 060H, 0F0H	; 70H p
   63 FF88  00 00 76 CC 	DB	000H, 000H, 076H, 0CCH, 0CCH, 07CH, 00CH, 01EH	; 71H q
   64 FF90  00 00 DC 76 	DB	000H, 000H, 0DCH, 076H, 066H, 060H, 0F0H, 000H	; 72H r
   65 FF98  00 00 7C C0 	DB	000H, 000H, 07CH, 0C0H, 078H, 00CH, 0F8H, 000H	; 73H s
   66 FFA0  10 30 7C 30 	DB	010H, 030H, 07CH, 030H, 030H, 034H, 018H, 000H	; 74H t
   67 FFA8  00 00 CC CC 	DB	000H, 000H, 0CCH, 0CCH, 0CCH, 0CCH, 076H, 000H	; 75H u
   68 FFB0  00 00 CC CC 	DB	000H, 000H, 0CCH, 0CCH, 0CCH, 078H, 030H, 000H	; 76H v
   69 FFB8  00 00 C6 D6 	DB	000H, 000H, 0C6H, 0D6H, 0FEH, 0FEH, 06CH, 000H	; 77H w
   70 FFC0  00 00 C6 6C 	DB	000H, 000H, 0C6H, 06CH, 038H, 06CH, 0C6H, 000H	; 78H x
   71 FFC8  00 00 CC CC 	DB	000H, 000H, 0CCH, 0CCH, 0CCH, 07CH, 00CH, 0F8H	; 79H y
   72 FFD0  00 00 FC 98 	DB	000H, 000H, 0FCH, 098H, 030H, 064H, 0FCH, 000H	; 7AH z
   73 FFD8  6C 00 78 0C 	DB	06CH, 000H, 078H, 00CH, 07CH, 0CCH, 076H, 000H	; 7BH ae
   74 FFE0  CC 00 78 CC 	DB	0CCH, 000H, 078H, 0CCH, 0CCH, 0CCH, 078H, 000H	; 7CH oe
   75 FFE8  CC 00 CC CC 	DB	0CCH, 000H, 0CCH, 0CCH, 0CCH, 0CCH, 076H, 000H	; 7DH ue
   76 FFF0  3C 66 66 6C 	DB	03CH, 066H, 066H, 06CH, 066H, 066H, 06CH, 0F0H	; 7EH sz
   77 FFF8  FF 81 81 81 	DB	0FFH, 081H, 081H, 081H, 081H, 081H, 081H, 0FFH	; 7FH
 0 Error(s) Detected.
 4224 Absolute Bytes. 588 Symbols Detected.
 034H, 018H, 000H	; 74H t
   67 FFA8  00 00 CC CC 	DB	000H, 000H, 0CCH, 0CCH, 0CCH