SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   1
CAOS34I Z80

    1                   ; Zusammensetzen der Einzeldateien zu CAOS 3.4i
    2                   ; (C) Mario Leubner, 10.05.2019
    3                   ;-------------------------------------------------
    4                   ; CAOS-Vorblock:
    5         DF80      	ORG	0E000H-128
    6 DF80  43 41 4F 53 	DB	'CAOS34i KCC'
    7 DF8B  00 00 00 00 	DS	5,0
    8 DF90  02          	DB	2		; 2 Adressen
    9 DF91  4000        	DW	4000H		; AADR
   10 DF93  6000        	DW	6000H		; EADR+1
   11 DF95  00 00 00 00 	DS	107,0
   12                   ;-------------------------------------------------
   13                   include	caosei.asm		; ROM-E
    1                   ;	CAOS 3.4 - ROM E
    2                   ;	Version CENTRONICS & V.24
    3                   ;
    4                   ;	Date: 11.06.1991  (c) by '#+$'
    5                   ;	Intern-ROM-Version!
    6                   ;BUGFIX: CSRLIN eingebaut!
    7                    
    8         E000      	ORG 0E000H
    9                    
   10 E000              RESET:
   11 E000  C3 F18C     	JP BYE
   12 E003  C3 E65C     	JP BEXP1
   13 E006  C3 E679     	JP BEXP2
   14 E009  C3 E6E9     	JP BEXP3
   15 E00C  ED18        	DEFW TOKTAB
   16 E00E  C3 E5FE     	JP BASPV
   17                    
   18 E011  01 0A1F     BEL:	LD BC,0A1FH
   19 E014  2E 70       	LD L,70H
   20 E016  CD E315     	CALL RTON
   21 E019  3E 2E       	LD A,2EH	;Ton+Pause
   22 E01B  C3 F24D     	JP	WAIT
   23                   
   24                   ;*** Steuerung ***
   25                    
   26 E01E  7F7F        	DEFW 7F7FH	;>BASIC<
   27 E020  42 41 53 49 	DEFM 'BASIC'
   28 E025  00          	DEFB 0
   29                   	;
   30 E026  21 C000     	LD HL,0C000H
   31 E029  18 0D       	JR BASON
   32                    
   33 E02B  7F7F        	DEFW 7F7FH	;>REBASIC<
   34 E02D  52 45 42 41 	DEFM 'REBASIC'
   35 E034  00          	DEFB 0
   36                   	;
   37 E035  21 C002     	LD HL,0C002H
   38 E038  DB 88       BASON:	IN A,(88H)
   39 E03A  CB FF       	SET 7,A
   40 E03C  D3 88       	OUT (88H),A
   41 E03E  DB 89       	in	a,(89h)
   42 E040  F6 60       	or	60h
   43 E042  D3 89       	OUT	(89H),A		;Segment 3!
   44 E044  E9          	JP (HL)
   45                    
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   2
CAOSEI  ASM

   46                   ;*** CRT-Unit ***
   47                    
   48 E045  2A B79C     PADR1:	LD HL,(0B79CH)
   49 E048  19          	ADD HL,DE
   50 E049  CB 24       	SLA H
   51 E04B  CB 24       	SLA H
   52 E04D  CB 24       	SLA H
   53 E04F  F5          PADR:	PUSH AF		;UP 34 PADR
   54 E050  7D          	LD A,L
   55 E051  FE 20       	CP 20H
   56 E053  30 23       	JR NC,IAD1
   57 E055  87          	ADD A
   58 E056  87          	ADD A
   59 E057  87          	ADD A
   60 E058  6C          	LD L,H
   61 E059  CB 3C       	SRL H
   62 E05B  CB 3C       	SRL H
   63 E05D  37          	SCF
   64 E05E  CB 1C       	RR H
   65 E060  1F          	RRA
   66 E061  CB 3C       	SRL H
   67 E063  1F          	RRA
   68 E064  54          	LD D,H
   69 E065  37          	SCF
   70 E066  CB 1A       	RR D
   71 E068  CB DA       	SET 3,D
   72 E06A  5F          	LD E,A
   73 E06B  CB 1B       	RR E
   74 E06D  CB 1D       	RR L
   75 E06F  1F          	RRA
   76 E070  CB 1D       	RR L
   77 E072  6F          	LD L,A
   78 E073  CB 14       	RL H
   79 E075  F1          	POP AF
   80 E076  A7          	AND A
   81 E077  C9          	RET
   82                    
   83 E078  FE 28       IAD1:	CP 28H
   84 E07A  30 32       	JR NC,IAD2
   85 E07C  C5          	PUSH BC
   86 E07D  E6 07       	AND 7
   87 E07F  87          	ADD A
   88 E080  6F          	LD L,A
   89 E081  7C          	LD A,H
   90 E082  07          	RLCA
   91 E083  47          	LD B,A
   92 E084  E6 01       	AND 1
   93 E086  F6 B0       	OR 0B0H
   94 E088  57          	LD D,A
   95 E089  78          	LD A,B
   96 E08A  07          	RLCA
   97 E08B  4F          	LD C,A
   98 E08C  E6 03       	AND 3
   99 E08E  F6 50       	OR 50H
  100 E090  44          	LD B,H
  101 E091  67          	LD H,A
  102 E092  78          	LD A,B
  103 E093  E6 30       	AND 30H
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   3
CAOSEI  ASM

  104 E095  B5          	OR L
  105 E096  6F          	LD L,A
  106 E097  79          	LD A,C
  107 E098  07          	RLCA
  108 E099  07          	RLCA
  109 E09A  E6 C0       	AND 0C0H
  110 E09C  B5          	OR L
  111 E09D  6F          	LD L,A
  112 E09E  CB 18       	RR B
  113 E0A0  CB 1D       	RR L
  114 E0A2  CB 18       	RR B
  115 E0A4  CB 14       	RL H
  116 E0A6  CB 19       	RR C
  117 E0A8  1F          	RRA
  118 E0A9  5F          	LD E,A
  119 E0AA  C1          	POP BC
  120 E0AB  F1          DBRE:	POP AF
  121 E0AC  A7          	AND A
  122 E0AD  C9          	RET
  123                    
  124 E0AE  F1          IAD2:	POP AF
  125 E0AF  37          	SCF
  126 E0B0  C9          	RET
  127                    
  128 E0B1  3A B79E     TCIF:	LD A,(0B79EH)	;UP 33 TCIF
  129 E0B4  3D          	DEC A
  130 E0B5  93          	SUB E
  131 E0B6  D8          	RET C
  132 E0B7  3A B79F     	LD A,(0B79FH)
  133 E0BA  3D          	DEC A
  134 E0BB  92          	SUB D
  135 E0BC  C9          	RET
  136                    
  137 E0BD  F5          DABR:	PUSH AF		;UP 32 DABR
  138 E0BE  CD E0B1     	CALL TCIF
  139 E0C1  38 EB       	JR C,IAD2
  140 E0C3  3A B79C     	LD A,(0B79CH)
  141 E0C6  83          	ADD E
  142 E0C7  D5          	PUSH DE
  143 E0C8  5F          	LD E,A
  144 E0C9  3A B79D     	LD A,(0B79DH)
  145 E0CC  82          	ADD D
  146 E0CD  87          	ADD A
  147 E0CE  87          	ADD A
  148 E0CF  87          	ADD A
  149 E0D0  6F          	LD L,A
  150 E0D1  26 00       	LD H,0
  151 E0D3  29          	ADD HL,HL
  152 E0D4  29          	ADD HL,HL
  153 E0D5  16 59       	LD D,59H
  154 E0D7  19          	ADD HL,DE
  155 E0D8  5F          	LD E,A
  156 E0D9  19          	ADD HL,DE
  157 E0DA  D1          	POP DE
  158 E0DB  18 CE       	JR DBRE
  159                    
  160 E0DD              WPIX:	;Zeichen sichtbar machen
  161 E0DD  D5          	PUSH DE
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   4
CAOSEI  ASM

  162 E0DE  C5          	PUSH BC
  163 E0DF  CD E045     	CALL PADR1
  164 E0E2  38 31       	JR C,WPIX4
  165 E0E4  ED 4B B7A2  	LD BC,(0B7A2H)	; STBT
  166 E0E8  EB          	EX DE,HL
  167 E0E9  CB 49       	BIT 1,C		; Schreiben COLOR?
  168 E0EB  20 04       	JR NZ,WPIX1
  169 E0ED  70          	LD (HL),B
  170 E0EE  CB ED       	SET 5,L
  171 E0F0  70          	LD (HL),B
  172 E0F1  CB 41       WPIX1:	BIT 0,C		; Schreiben Pixel?
  173 E0F3  20 20       	JR NZ,WPIX4
  174 E0F5  21 B7A6     	LD HL,0B7A6H	; CCTL0
  175 E0F8  87          	ADD A
  176 E0F9  30 02       	JR NC,WPIX2
  177 E0FB  2E AA       	LD L,0AAH	; CCTL2
  178 E0FD  D6 40       WPIX2:	SUB 40H
  179 E0FF  F2 E106     	JP P,WPIX3
  180 E102  2C          	INC L
  181 E103  2C          	INC L
  182 E104  EE C0       	XOR 0C0H	; CCTL1/3
  183 E106  46          WPIX3:	LD B,(HL)
  184 E107  23          	INC HL
  185 E108  66          	LD H,(HL)
  186 E109  68          	LD L,B
  187 E10A  87          	ADD A
  188 E10B  CB 51       	BIT 2,C		; invers?
  189 E10D  4F          	LD C,A
  190 E10E  06 00       	LD B,0
  191 E110  09          	ADD HL,BC
  192 E111  09          	ADD HL,BC
  193 E112  CD E118     	CALL CPIX
  194 E115  C1          WPIX4:	POP BC
  195 E116  D1          	POP DE
  196 E117  C9          	RET
  197                    
  198 E118  CD E11F     CPIX:	CALL CPIX1
  199 E11B  CB EB       	SET 5,E
  200 E11D  CB 82       	RES 0,D
  201 E11F  CD E124     CPIX1:	CALL CPIX2
  202 E122  CB C2       	SET 0,D
  203 E124  CB BB       CPIX2:	RES 7,E
  204 E126  7E          	LD A,(HL)
  205 E127  23          	INC HL
  206 E128  28 01       	JR Z,CPIX3
  207 E12A  2F          	CPL		; Pixel invertieren
  208 E12B  12          CPIX3:	LD (DE),A
  209 E12C  CB FB       	SET 7,E
  210 E12E  7E          	LD A,(HL)
  211 E12F  23          	INC HL
  212 E130  28 01       	JR Z,CPIX4
  213 E132  2F          	CPL
  214 E133  12          CPIX4:	LD (DE),A
  215 E134  C9          	RET
  216                    
  217 E135              RSPALT:	;Berechne BC,DE:Fenstergrenzen
  218                   	;E=0:Nur 1teilig
  219 E135  87          	ADD A
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   5
CAOSEI  ASM

  220 E136  87          	ADD A
  221 E137  87          	ADD A
  222 E138  67          	LD H,A
  223 E139  11 2000     	LD DE,2000H
  224 E13C  3A B79C     	LD A,(0B79CH)
  225 E13F  47          	LD B,A
  226 E140  BA          	CP D
  227 E141  3A B79E     	LD A,(0B79EH)
  228 E144  4F          	LD C,A
  229 E145  D0          	RET NC
  230 E146  80          	ADD B
  231 E147  BA          	CP D
  232 E148  D8          	RET C
  233 E149  92          	SUB D
  234 E14A  5F          	LD E,A
  235 E14B  7A          	LD A,D
  236 E14C  90          	SUB B
  237 E14D  4F          	LD C,A
  238 E14E  C9          	RET
  239                    
  240 E14F              MOVELN:	;Rolle 1 Zeile
  241 E14F  E5          	PUSH HL
  242 E150  D5          	PUSH DE
  243 E151  C5          	PUSH BC
  244 E152  4F          	LD C,A
  245 E153  E5          	PUSH HL
  246 E154  CD E04F     	CALL PADR
  247 E157  38 22       	JR C,PIX2
  248 E159  E3          	EX (SP),HL
  249 E15A  D5          	PUSH DE
  250 E15B  7C          	LD A,H
  251 E15C  C6 08       	ADD 8
  252 E15E  67          	LD H,A
  253 E15F  CD E04F     	CALL PADR
  254 E162  E3          	EX (SP),HL
  255 E163  EB          	EX DE,HL
  256 E164  06 00       	LD B,0
  257 E166  3A B7A2     	LD A,(0B7A2H)
  258 E169  1F          	RRA
  259 E16A  CB 47       	BIT 0,A
  260 E16C  79          	LD A,C
  261 E16D  CC E18B     	CALL Z,PIX4
  262 E170  E1          	POP HL
  263 E171  D1          	POP DE
  264 E172  D4 E184     	CALL NC,PIX31
  265 E175  24          	INC H
  266 E176  14          	INC D
  267 E177  D4 E180     	CALL NC,PIX3
  268 E17A  06          	DEFB 6		;LD B,n
  269 E17B  E1          PIX2:	POP HL
  270 E17C  C1          POPS3:	POP BC
  271 E17D  D1          	POP DE
  272 E17E  E1          	POP HL
  273 E17F  C9          	RET
  274                    
  275 E180  CB BD       PIX3:	RES 7,L
  276 E182  CB BB       	RES 7,E
  277 E184  CD E18B     PIX31:	CALL PIX4
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   6
CAOSEI  ASM

  278 E187  CB FD       	SET 7,L
  279 E189  CB FB       	SET 7,E
  280 E18B  CB AD       PIX4:	RES 5,L
  281 E18D  CB AB       	RES 5,E
  282 E18F  CD E196     	CALL PIX5
  283 E192  CB ED       	SET 5,L
  284 E194  CB EB       	SET 5,E
  285 E196  D5          PIX5:	PUSH DE
  286 E197  E5          	PUSH HL
  287 E198  4F          	LD C,A
  288 E199  ED B0       	LDIR
  289 E19B  E1          	POP HL
  290 E19C  D1          	POP DE
  291 E19D  C9          	RET
  292                    
  293 E19E  21 B7A2     PCHR:	LD HL,0B7A2H
  294 E1A1  CB 66       	BIT 4,(HL)
  295 E1A3  28 1F       	JR Z,PCHR0
  296 E1A5  CB A6       	RES 4,(HL)
  297 E1A7  FE 30       	CP '0'
  298 E1A9  D8          	RET C
  299 E1AA  FE 3A       	CP 3AH
  300 E1AC  38 0A       	JR C,ESCJ1
  301 E1AE  FE 41       	CP 'A'
  302 E1B0  D8          	RET C
  303 E1B1  CB AF       	RES 5,A
  304 E1B3  FE 5B       	CP 5BH
  305 E1B5  D0          	RET NC
  306 E1B6  D6 07       	SUB 7
  307 E1B8  D6 30       ESCJ1:	SUB 30H
  308 E1BA  21 B7DF     	LD HL,0B7DFH
  309 E1BD  BE          	CP (HL)
  310 E1BE  D0          	RET NC
  311 E1BF  2A B7DD     	LD HL,(0B7DDH)
  312 E1C2  18 0B       	JR PCHV
  313                    
  314 E1C4  FE 20       PCHR0:	CP 20H
  315 E1C6  30 1B       	JR NC,PCHR1
  316 E1C8  CB 5E       	BIT 3,(HL)
  317 E1CA  20 17       	JR NZ,PCHR1
  318 E1CC  2A B7B2     	LD HL,(0B7B2H)
  319 E1CF  87          PCHV:	ADD A
  320 E1D0  4F          	LD C,A
  321 E1D1  06 00       	LD B,0
  322 E1D3  09          	ADD HL,BC
  323 E1D4  7E          	LD A,(HL)
  324 E1D5  23          	INC HL
  325 E1D6  66          	LD H,(HL)
  326 E1D7  6F          	LD L,A
  327 E1D8  3E 01       	LD A,1
  328 E1DA  E9          	JP (HL)
  329                    
  330 E1DB  7B          ASC5:	LD A,E
  331 E1DC  E6 F8       	AND 0F8H
  332 E1DE  C6 08       	ADD 8
  333 E1E0  5F          	LD E,A
  334 E1E1  18 09       	JR PCHR3
  335                    
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   7
CAOSEI  ASM

  336 E1E3  CD E0BD     PCHR1:	CALL DABR
  337 E1E6  D8          	RET C
  338 E1E7  77          PCHR2:	LD (HL),A
  339 E1E8  CD E0DD     	CALL WPIX
  340 E1EB  1C          CUR:	INC E
  341 E1EC  3A B79E     PCHR3:	LD A,(0B79EH)
  342 E1EF  3D          	DEC A
  343 E1F0  BB          	CP E
  344 E1F1  D0          	RET NC
  345 E1F2  1E 00       CRNL:	LD E,0
  346 E1F4  14          CUD:	INC D
  347 E1F5  3A B79F     	LD A,(0B79FH)
  348 E1F8  BA          	CP D
  349 E1F9  C0          	RET NZ
  350 E1FA  2A B7A4     	LD HL,(0B7A4H)
  351 E1FD  E9          	JP (HL)
  352                    
  353 E1FE  2A B799     HCOPY:	LD HL,(0B799H)
  354 E201  E9          	JP (HL)
  355                    
  356 E202  7B          CUL:	LD A,E
  357 E203  A7          	AND A
  358 E204  28 02       	JR Z,LINUP
  359 E206  1D          	DEC E
  360 E207  C9          	RET
  361                    
  362 E208  7A          LINUP:	LD A,D
  363 E209  A7          	AND A
  364 E20A  C8          	RET Z
  365 E20B  15          	DEC D
  366 E20C  3A B79E     CEL:	LD A,(0B79EH)
  367 E20F  3D          	DEC A
  368 E210  5F          	LD E,A
  369 E211  C9          	RET
  370                    
  371 E212  7A          CUU:	LD A,D
  372 E213  A7          	AND A
  373 E214  C8          	RET Z
  374 E215  15          	DEC D
  375 E216  C9          	RET
  376                    
  377 E217  21 E2A7     PAGE:	LD HL,HOMEPG
  378 E21A  22 B7A4     WADR:	LD (0B7A4H),HL
  379 E21D  C9          	RET
  380                    
  381 E21E  21 E2AC     SCROL:	LD HL,SCRLPG
  382 E221  18 F7       	JR WADR
  383                    
  384 E223  CD E202     CLEAR:	CALL CUL
  385 E226  D5          DEL:	PUSH DE
  386 E227  CD E0BD     DEL1:	CALL DABR
  387 E22A  7E          	LD A,(HL)
  388 E22B  A7          	AND A
  389 E22C  28 3A       	JR Z,INS3
  390 E22E  D5          	PUSH DE
  391 E22F  E5          	PUSH HL
  392 E230  1C          	INC E
  393 E231  CD E0BD     	CALL DABR
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   8
CAOSEI  ASM

  394 E234  30 06       	JR NC,DEL2
  395 E236  1E 00       	LD E,0
  396 E238  14          	INC D
  397 E239  CD E0BD     	CALL DABR
  398 E23C  7E          DEL2:	LD A,(HL)
  399 E23D  E1          	POP HL
  400 E23E  D1          	POP DE
  401 E23F  38 1D       	JR C,DEL3
  402 E241  B7          	OR A
  403 E242  28 1A       	JR Z,DEL3
  404 E244  CD E1E7     	CALL PCHR2
  405 E247  18 DE       	JR DEL1
  406                    
  407 E249  D5          INS:	PUSH DE
  408 E24A  3E 20       	LD A,20H
  409 E24C  CD E0BD     INS1:	CALL DABR
  410 E24F  46          	LD B,(HL)
  411 E250  CD E1E7     	CALL PCHR2
  412 E253  78          	LD A,B
  413 E254  A7          	AND A
  414 E255  28 11       	JR Z,INS3
  415 E257  7B          	LD A,E
  416 E258  B2          	OR D
  417 E259  78          	LD A,B
  418 E25A  20 F0       	JR NZ,INS1
  419 E25C  D1          	POP DE
  420 E25D  C9          	RET
  421                    
  422 E25E  CD E0BD     DEL3:	CALL DABR
  423 E261  AF          	XOR A
  424 E262  77          	LD (HL),A
  425 E263  3E 20       	LD A,20H
  426 E265  CD E0DD     	CALL WPIX
  427 E268  D1          INS3:	POP DE
  428 E269  C9          	RET
  429                    
  430 E26A              CLLINE:	;Zeile(nst}ck) l|schen
  431 E26A  68          	LD L,B
  432 E26B  CD E04F     	CALL PADR
  433 E26E  D8          	RET C
  434 E26F  3A B7A2     	LD A,(0B7A2H)
  435 E272  1F          	RRA
  436 E273  CB 47       	BIT 0,A
  437 E275  3A B7A3     	LD A,(0B7A3H)
  438 E278  CC E28A     	CALL Z,CM2
  439 E27B  3E 00       	LD A,0
  440 E27D  D8          	RET C
  441 E27E  EB          	EX DE,HL
  442 E27F  CD E283     	CALL CM1
  443 E282  14          	INC D
  444 E283  CB BB       CM1:	RES 7,E
  445 E285  CD E28A     	CALL CM2
  446 E288  CB FB       	SET 7,E
  447 E28A  CB AB       CM2:	RES 5,E
  448 E28C  CD E291     	CALL CM3
  449 E28F  CB EB       	SET 5,E
  450 E291  D5          CM3:	PUSH DE
  451 E292  41          	LD B,C
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page   9
CAOSEI  ASM

  452 E293  12          CM4:	LD (DE),A
  453 E294  1C          	INC E
  454 E295  10 FC       	DJNZ CM4
  455 E297  D1          	POP DE
  456 E298  C9          	RET
  457                    
  458 E299  3A B79F     CLS:	LD A,(0B79FH)
  459 E29C  16 00       	LD D,0
  460 E29E  F5          CLS1:	PUSH AF
  461 E29F  CD E2ED     	CALL DELLN
  462 E2A2  F1          	POP AF
  463 E2A3  14          	INC D
  464 E2A4  3D          	DEC A
  465 E2A5  20 F7       	JR NZ,CLS1
  466 E2A7  16 00       HOMEPG:	LD D,0
  467 E2A9  1E 00       CRN:	LD E,0
  468 E2AB  C9          	RET
  469                    
  470 E2AC              SCRLPG:	;Scrollroutine
  471 E2AC  3A B79E     	LD A,(0B79EH)
  472 E2AF  4F          	LD C,A
  473 E2B0  06 00       	LD B,0
  474 E2B2  3A B79F     	LD A,(0B79FH)
  475 E2B5  3D          	DEC A
  476 E2B6  28 34       	JR Z,SCRL4
  477 E2B8  D5          	PUSH DE
  478 E2B9  F5          	PUSH AF
  479 E2BA  11 0000     	LD DE,0
  480 E2BD  CD E0BD     	CALL DABR
  481 E2C0  38 28       	JR C,SCRL3
  482 E2C2  EB          	EX DE,HL
  483 E2C3  21 0028     SCRL1:	LD HL,28H
  484 E2C6  19          	ADD HL,DE
  485 E2C7  E5          	PUSH HL
  486 E2C8  C5          	PUSH BC
  487 E2C9  ED B0       	LDIR
  488 E2CB  C1          	POP BC
  489 E2CC  D1          	POP DE
  490 E2CD  3D          	DEC A
  491 E2CE  20 F3       	JR NZ,SCRL1
  492 E2D0  3A B79D     	LD A,(0B79DH)
  493 E2D3  CD E135     	CALL RSPALT
  494 E2D6  79          SCRL2:	LD A,C
  495 E2D7  68          	LD L,B
  496 E2D8  CD E14F     	CALL MOVELN
  497 E2DB  7B          	LD A,E
  498 E2DC  A7          	AND A
  499 E2DD  6A          	LD L,D
  500 E2DE  C4 E14F     	CALL NZ,MOVELN
  501 E2E1  7C          	LD A,H
  502 E2E2  C6 08       	ADD 8
  503 E2E4  67          	LD H,A
  504 E2E5  F1          	POP AF
  505 E2E6  3D          	DEC A
  506 E2E7  F5          	PUSH AF
  507 E2E8  20 EC       	JR NZ,SCRL2
  508 E2EA  F1          SCRL3:	POP AF
  509 E2EB  D1          	POP DE
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  10
CAOSEI  ASM

  510 E2EC  15          SCRL4:	DEC D
  511                   	;
  512 E2ED  1E 00       DELLN:	LD E,0
  513 E2EF  D5          	PUSH DE
  514 E2F0  CD E0BD     	CALL DABR
  515 E2F3  3A B79E     	LD A,(0B79EH)
  516 E2F6  47          	LD B,A
  517 E2F7  AF          	XOR A
  518 E2F8  77          DL1:	LD (HL),A
  519 E2F9  23          	INC HL
  520 E2FA  10 FC       	DJNZ DL1
  521 E2FC  3A B79D     	LD A,(0B79DH)
  522 E2FF  82          	ADD D
  523 E300  CD E135     	CALL RSPALT
  524 E303  D5          	PUSH DE
  525 E304  E5          	PUSH HL
  526 E305  CD E26A     	CALL CLLINE
  527 E308  E1          	POP HL
  528 E309  C1          	POP BC
  529 E30A  B9          	CP C
  530 E30B  C4 E26A     	CALL NZ,CLLINE
  531 E30E  D1          	POP DE
  532 E30F  C9          	RET
  533                    
  534 E310  01 020F     RCLICK:	LD BC,20FH
  535 E313  2E 50       	LD L,50H
  536 E315  D5          RTON:	PUSH DE		;Ton nur rechts
  537 E316  26 00       	LD H,0
  538 E318  5C          	LD E,H
  539 E319  CD E437     	CALL PHALT
  540 E31C  D3 8E       	OUT (8EH),A	;CTC off
  541 E31E  CD E5C7     	CALL TONP
  542 E321  D1          	POP DE
  543 E322  C9          	RET
  544                    
  545 E323  21 B7A3     ASC6:	LD HL,0B7A3H	;=ESC 8
  546 E326  7E          	LD A,(HL)		;Farbe compeln
  547 E327  E6 C0       	AND 0C0H
  548 E329  4F          	LD C,A
  549 E32A  7E          	LD A,(HL)
  550 E32B  E6 07       	AND 7
  551 E32D  07          	RLCA
  552 E32E  07          	RLCA
  553 E32F  07          	RLCA
  554 E330  B1          	OR C
  555 E331  4F          	LD C,A
  556 E332  7E          	LD A,(HL)
  557 E333  0F          	RRCA
  558 E334  0F          	RRCA
  559 E335  0F          	RRCA
  560 E336  E6 07       	AND 7
  561 E338  B1          	OR C
  562                    
  563 E339  77          LDMA:	LD (HL),A		;UP 28 LDMA
  564 E33A  C9          	RET
  565                    
  566 E33B  7E          LDAM:	LD A,(HL)		;UP 29 LDAM
  567 E33C  C9          	RET
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  11
CAOSEI  ASM

  568                    
  569 E33D  3E 80       SHLOCK:	LD A,80H
  570 E33F  01          	DEFB 1		;LD BC,...
  571 E340  3E 20       CLICK:	LD A,20H
  572 E342  DD AE 08    	XOR (IX+8)
  573 E345  DD 77 08    	LD (IX+8),A
  574 E348  C9          DUMMY:	RET
  575                    
  576 E349  E5          CRT:	PUSH HL		;UP 00 CRT
  577 E34A  D5          	PUSH DE
  578 E34B  C5          	PUSH BC
  579 E34C  F5          	PUSH AF
  580 E34D  ED 5B B7A0  	LD DE,(0B7A0H)
  581 E351  CD E19E     	CALL PCHR
  582 E354  ED 53 B7A0  	LD (0B7A0H),DE
  583 E358  F1          	POP AF
  584 E359  C3 E17C     	JP POPS3
  585                    
  586 E35C  87          ESC:	ADD A		;Beeinflussung
  587 E35D  87          ESC4:	ADD A		; Steuerbits
  588 E35E  87          ESC7:	ADD A
  589 E35F  87          ESCF:	ADD A
  590 E360  21 B7A2     ESC3:	LD HL,0B7A2H
  591 E363  AE          	XOR (HL)
  592 E364  77          	LD (HL),A
  593 E365  C9          	RET
  594                    
  595                   ;*** KBD-Unit ***
  596                    
  597 E366  FB          ISRC3:	EI		;ISR CTC 3 KBD
  598 E367  F5          	PUSH AF
  599 E368  3E 23       	LD A,23H	;DI,ZG256,Res
  600 E36A  D3 8F       	OUT (8FH),A
  601 E36C  DD 36 0D 00 	LD (IX+13),0
  602 E370  18 55       	JR TST4
  603                    
  604 E372  FB          ISRPB:	EI		;ISR PIO B KBD
  605 E373  F5          TAST:	PUSH AF
  606 E374  DD 35 00    	DEC (IX)
  607 E377  DB 8F       	IN A,8FH
  608 E379  F5          	PUSH AF
  609 E37A  3E A7       	LD A,0A7H
  610 E37C  D3 8F       	OUT (8FH),A
  611 E37E  3E 8F       	LD A,8FH
  612 E380  D3 8F       	OUT (8FH),A
  613 E382  F1          	POP AF
  614 E383  FE 14       	CP 14H
  615 E385  38 40       	JR C,TST4
  616 E387  FE 65       	CP 65H
  617 E389  30 38       	JR NC,TST3
  618 E38B  C6 BE       	ADD 0BEH
  619 E38D  38 34       	JR C,TST3
  620 E38F  DD 7E 0C    	LD A,(IX+12)
  621 E392  1F          	RRA
  622 E393  EE 01       	XOR 1
  623 E395  E5          	PUSH HL
  624 E396  D5          	PUSH DE
  625 E397  5F          	LD E,A
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  12
CAOSEI  ASM

  626 E398  16 00       	LD D,0
  627 E39A  DD 6E 0E    	LD L,(IX+14)
  628 E39D  DD 66 0F    	LD H,(IX+15)
  629 E3A0  19          	ADD HL,DE
  630 E3A1  7E          	LD A,(HL)
  631 E3A2  DD CB 08 7E 	BIT 7,(IX+8)
  632 E3A6  20 07       	JR NZ,TST1
  633 E3A8  FE 40       	CP 40H
  634 E3AA  FA E3AF     	JP M,TST1
  635 E3AD  EE 20       	XOR 20H
  636 E3AF  DD BE 0D    TST1:	CP (IX+13)
  637 E3B2  F5          	PUSH AF
  638 E3B3  20 15       	JR NZ,TST5
  639 E3B5  3A B7E0     	LD A,(0B7E0H)	;COUNT
  640 E3B8  DD BE 0A    	CP (IX+10)
  641 E3BB  38 2A       	JR C,TST7
  642 E3BD  F1          	POP AF
  643 E3BE  DD 34 0A    	INC (IX+10)
  644 E3C1  D1          TST2:	POP DE
  645 E3C2  E1          	POP HL
  646 E3C3  DD CB 0C 1E TST3:	RR (IX+12)
  647 E3C7  F1          TST4:	POP AF
  648 E3C8  ED 4D       INTE:	RETI
  649                    
  650 E3CA  DD 36 0A 00 TST5:	LD (IX+10),0
  651 E3CE  7B          	LD A,E
  652 E3CF  FE 73       	CP 73H		;Tast-Nr.SoftRes
  653 E3D1  20 10       	JR NZ,TST6
  654 E3D3  DD CB 08 5E 	BIT 3,(IX+8)
  655 E3D7  DD CB 08 9E 	RES 3,(IX+8)
  656 E3DB  20 0A       	JR NZ,TST7
  657 E3DD  21 E000     	LD HL,RESET
  658 E3E0  E5          	PUSH HL
  659 E3E1  18 E5       	JR INTE
  660                    
  661 E3E3  DD CB 08 DE TST6:	SET 3,(IX+8)
  662 E3E7  F1          TST7:	POP AF
  663 E3E8  DD 77 0D    	LD (IX+13),A
  664 E3EB  DD CB 08 C6 	SET 0,(IX+8)
  665 E3EF  18 D0       	JR TST2
  666                    
  667 E3F1  AF          KBDS:	XOR A		;UP 0C KBDS
  668 E3F2  DD CB 08 46 	BIT 0,(IX+8)
  669 E3F6  C8          	RET Z
  670 E3F7  DD 7E 0D    	LD A,(IX+13)
  671 E3FA  37          	SCF
  672 E3FB  C9          	RET
  673                    
  674 E3FC  CD E3F1     KBDZ:	CALL KBDS	;UP 0E KBDZ
  675 E3FF  D0          	RET NC
  676 E400  DD CB 08 86 RESFL:	RES 0,(IX+8)
  677 E404  C9          	RET
  678                    
  679                   ;*** Tape-Unit ***
  680                    
  681 E405  DD 7E 07    ESC1:	LD A,(IX+7)
  682 E408  EE 02       	XOR 2
  683 E40A  DD 77 07    	LD (IX+7),A
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  13
CAOSEI  ASM

  684 E40D  C9          	RET
  685                    
  686 E40E              IMBII:	;intern mit Standardpuffer,
  687                   	;Erwarteter Block und Unter-
  688                   	;drueckung OK-Block
  689 E40E  CD F407     	CALL SIXD3
  690 E411  DD 36 03 01 	LD (IX+3),1
  691 E415  DD CB 07 EE 	SET 5,(IX+7)
  692                   	;
  693 E419              IMBI:	;Init.MB-Eingabe ohne Lesen
  694                   	;und ohne Init.(IX+5/6)
  695 E419  DB 89       	IN A,(89H)
  696 E41B  CB BF       	RES 7,A
  697 E41D  D3 89       	OUT (89H),A	;Blink off
  698 E41F  DB 88       	IN A,(88H)
  699 E421  CB F7       	SET 6,A		;MSS on
  700 E423  D3 88       IMBI1:	OUT (88H),A
  701 E425  FB          	EI
  702 E426  E5          	PUSH HL
  703 E427  2A B7A4     	LD HL,(0B7A4H)
  704 E42A  22 B7CF     	LD (0B7CFH),HL
  705 E42D  CD F26D     	CALL NOUT
  706 E430  22 B7CD     	LD (0B7CDH),HL
  707 E433  CD E217     	CALL PAGE
  708 E436  E1          	POP HL
  709 E437  3E 03       PHALT:	LD A,3
  710 E439  D3 8C       	OUT (8CH),A	;CTC0
  711 E43B  D3 8D       	OUT (8DH),A
  712 E43D  DD CB 08 8E 	RES 1,(IX+8)
  713 E441  C9          	RET
  714                    
  715 E442              CMBI:	;Abschluss MB-Eingabe
  716 E442  CD E45E     	CALL CRO0
  717 E445              BLION:	;Blinken on
  718 E445  DB 89       	IN A,(89H)
  719 E447  CB FF       	SET 7,A
  720 E449  D3 89       	OUT (89H),A
  721 E44B  F3          	DI
  722 E44C  3E 47       	LD A,47H
  723 E44E  D3 8E       	OUT (8EH),A
  724 E450  3E 0C       	LD A,0CH
  725 E452  D3 8E       	OUT (8EH),A
  726 E454  FB          	EI
  727 E455  C9          	RET
  728                    
  729 E456              CSRO:	;Abschluss MB-Ausgabe mit
  730                   	;Schreiben letzter Block
  731 E456  DD 36 02 FE 	LD (IX+2),0FEH;UP 09 CSRO
  732 E45A  CD F047     	CALL PV1
  733 E45D  01          	DEFB 1		;MBOT
  734 E45E  E5          CRO0:	PUSH HL
  735 E45F  2A B7CD     	LD HL,(0B7CDH)
  736 E462  22 B7B9     	LD (0B7B9H),HL
  737 E465  2A B7CF     	LD HL,(0B7CFH)
  738 E468  22 B7A4     	LD (0B7A4H),HL
  739 E46B  21 B780     	LD HL,0B780H
  740 E46E  AF          	XOR A
  741 E46F  2D          CRO1:	DEC L
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  14
CAOSEI  ASM

  742 E470  77          	LD (HL),A
  743 E471  20 FC       	JR NZ,CRO1
  744 E473  E1          	POP HL
  745 E474  DB 88       	IN A,(88H)
  746 E476  E6 9F       	AND 9FH
  747 E478  D3 88       	OUT (88H),A
  748 E47A  CD F337     	CALL CRLF
  749 E47D  C3 F3FF     	JP SIXD2
  750                    
  751 E480  CD F407     ISROI:	CALL SIXD3	;intern
  752 E483  DB 88       ISRO:	IN A,(88H)	;UP 08 ISRO
  753 E485  F6 60       	OR 60H
  754 E487  CD E423     	CALL IMBI1
  755 E48A  DD 36 02 00 	LD (IX+2),0
  756 E48E  01 1000     	LD BC,1000H
  757 E491  CD F047     	CALL	PV1
  758 E494  01          	DEFB	1	;MBOT Shell!!
  759 E495  C9          	RET
  760                   	;
  761 E496  DD 34 02    MBOT:	INC (IX+2)	;UP 01 MBOT
  762 E499  F3          	DI
  763 E49A  3E 87       	LD A,87H
  764 E49C  D3 8D       	OUT (8DH),A
  765 E49E  3E 2F       	LD A,2FH
  766 E4A0  D3 8D       	OUT (8DH),A
  767 E4A2  FB          	EI
  768 E4A3  57          	LD D,A
  769 E4A4  5F          	LD E,A
  770 E4A5  CD E4E9     MBOT1:	CALL BITOUT
  771 E4A8  ED A1       	CPI
  772 E4AA  EA E4A5     	JP PE,MBOT1
  773 E4AD  CD E4E7     	CALL ZTON
  774 E4B0  DD 7E 02    	LD A,(IX+2)
  775 E4B3  CD E4D4     	CALL BYTOT
  776 E4B6  DD 6E 05    	LD L,(IX+5)
  777 E4B9  DD 66 06    	LD H,(IX+6)
  778 E4BC  06 80       	LD B,80H
  779 E4BE  7E          MBT1:	LD A,(HL)
  780 E4BF  CD E4D4     	CALL BYTOT
  781 E4C2  79          	LD A,C
  782 E4C3  86          	ADD (HL)
  783 E4C4  4F          	LD C,A
  784 E4C5  23          	INC HL
  785 E4C6  10 F6       	DJNZ MBT1
  786 E4C8  CD E4D4     	CALL BYTOT
  787 E4CB  7A          	LD A,D
  788 E4CC  CD E4EC     	CALL HBITOT
  789 E4CF  3E 03       	LD A,3
  790 E4D1  D3 8D       	OUT (8DH),A
  791 E4D3  C9          	RET
  792                    
  793 E4D4  C5          BYTOT:	PUSH BC
  794 E4D5  4F          	LD C,A
  795 E4D6  06 08       	LD B,8
  796 E4D8  CB 09       BYTOUT:	RRC C
  797 E4DA  1E 17       	LD E,17H
  798 E4DC  D4 E4E9     	CALL NC,BITOUT
  799 E4DF  1E 2F       	LD E,2FH
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  15
CAOSEI  ASM

  800 E4E1  DC E4E9     	CALL C,BITOUT
  801 E4E4  10 F2       	DJNZ BYTOUT
  802 E4E6  C1          	POP BC
  803 E4E7  1E 5D       ZTON:	LD E,5DH
  804 E4E9  CD E4EC     BITOUT:	CALL HBITOT
  805 E4EC  DD 72 00    HBITOT:	LD (IX),D
  806 E4EF  DD 7E 00    HBIT1:	LD A,(IX)
  807 E4F2  A7          	AND A
  808 E4F3  20 FA       	JR NZ,HBIT1
  809 E4F5  53          	LD D,E
  810 E4F6  C9          	RET
  811                    
  812 E4F7  CD E419     ISRI:	CALL IMBI	;UP 0A ISRI
  813 E4FA  CD F047     	CALL	PV1
  814 E4FD  05          	DEFB	5	;MBI Shell!!
  815 E4FE  C9          	RET
  816                   	;
  817 E4FF  3E 83       MBI:	LD A,83H	;UP 05 MBI
  818 E501  D3 8A       	OUT (8AH),A
  819 E503  E5          	PUSH HL
  820 E504  D5          	PUSH DE
  821 E505  CD F287     MBI1:	CALL BRKT
  822 E508  38 45       	JR C,MBI6
  823 E50A  06 16       	LD B,16H
  824 E50C  CD E588     MBI2:	CALL STOP1
  825 E50F  38 F4       	JR C,MBI1
  826 E511  FE BA       	CP 0BAH
  827 E513  CD E555     	CALL LEDON
  828 E516  38 ED       	JR C,MBI1
  829 E518  10 F2       	DJNZ MBI2
  830 E51A  06 02       MBI3:	LD B,2
  831 E51C  AF          MBI4:	XOR A
  832 E51D  4F          	LD C,A
  833 E51E  CD E593     	CALL STOP2
  834 E521  FE 5D       	CP 5DH
  835 E523  30 F5       	JR NC,MBI3
  836 E525  10 F5       	DJNZ MBI4
  837 E527  CD E59F     	CALL BYTIN
  838 E52A  38 23       	JR C,MBI6
  839 E52C  DD 77 02    	LD (IX+2),A
  840 E52F  06 80       	LD B,80H
  841 E531  DD 6E 05    	LD L,(IX+5)
  842 E534  DD 66 06    	LD H,(IX+6)
  843 E537  1E 00       	LD E,0
  844 E539  D5          MBI5:	PUSH DE
  845 E53A  CD E59F     	CALL BYTIN
  846 E53D  D1          	POP DE
  847 E53E  38 0F       	JR C,MBI6
  848 E540  77          	LD (HL),A
  849 E541  83          	ADD E
  850 E542  5F          	LD E,A
  851 E543  23          	INC HL
  852 E544  10 F3       	DJNZ MBI5
  853 E546  6F          	LD L,A
  854 E547  CD E59F     	CALL BYTIN
  855 E54A  38 03       	JR C,MBI6
  856 E54C  95          	SUB L
  857 E54D  C6 FF       	ADD 0FFH
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  16
CAOSEI  ASM

  858 E54F  D1          MBI6:	POP DE
  859 E550  E1          	POP HL
  860 E551  3E 03       	LD A,3
  861 E553  D3 8A       	OUT (8AH),A
  862 E555  DB 88       LEDON:	IN A,(88H)
  863 E557  CB EF       	SET 5,A
  864 E559  30 02       	JR NC,MBI7
  865 E55B  CB AF       	RES 5,A
  866 E55D  D3 88       MBI7:	OUT (88H),A
  867 E55F  C9          	RET
  868                    
  869 E560              MOT:	;Umschalten der MSS (ESC A)
  870 E560  DB 88       	IN A,(88H)
  871 E562  EE 60       	XOR 60H
  872 E564  18 F7       	JR MBI7
  873                    
  874 E566  F5          ISRC1:	PUSH AF		;ISR CTC 1 MBO
  875 E567  3E 87       	LD A,87H
  876 E569  D3 8D       	OUT (8DH),A
  877 E56B  DD 7E 00    	LD A,(IX)
  878 E56E  D3 8D       	OUT (8DH),A
  879 E570  DD 36 00 00 	LD (IX),0
  880 E574  18 0E       	JR IMBEND
  881                    
  882 E576  F5          ISRPA:	PUSH AF		;ISR PIO A MBI
  883 E577  DB 8E       	IN A,8EH
  884 E579  DD 77 00    	LD (IX),A
  885 E57C  3E 07       	LD A,7
  886 E57E  D3 8E       	OUT (8EH),A
  887 E580  3E A3       	LD A,0A3H
  888 E582  D3 8E       	OUT (8EH),A
  889 E584  F1          IMBEND:	POP AF
  890 E585  FB          INTEND:	EI
  891 E586  ED 4D       	RETI
  892                    
  893 E588  DD 36 00 00 STOP1:	LD (IX),0
  894 E58C  DD 7E 00    STOP11:	LD A,(IX)
  895 E58F  B7          	OR A
  896 E590  28 FA       	JR Z,STOP11
  897 E592  4F          	LD C,A
  898 E593  DD 36 00 00 STOP2:	LD (IX),0
  899 E597  DD 7E 00    STOP21:	LD A,(IX)
  900 E59A  B7          	OR A
  901 E59B  28 FA       	JR Z,STOP21
  902 E59D  81          	ADD C
  903 E59E  C9          	RET
  904                    
  905 E59F  11 0800     BYTIN:	LD DE,800H
  906 E5A2  CD E588     TRN1:	CALL STOP1
  907 E5A5  38 03       	JR C,TRN2
  908 E5A7  FE BA       	CP 0BAH
  909 E5A9  D8          	RET C
  910 E5AA  3F          TRN2:	CCF
  911 E5AB  CB 1B       	RR E
  912 E5AD  15          	DEC D
  913 E5AE  20 F2       	JR NZ,TRN1
  914 E5B0  CD E588     	CALL STOP1
  915 E5B3  7B          	LD A,E
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  17
CAOSEI  ASM

  916 E5B4  C9          	RET
  917                    
  918                   ;*** Sound Unit ***
  919                    
  920 E5B5  F5          ISRC2:	PUSH AF		;ISR CTC 2 TON
  921 E5B6  CD E437     	CALL PHALT
  922 E5B9  CD E445     	CALL BLION
  923 E5BC  18 C6       	JR IMBEND
  924                    
  925 E5BE  CD F480     TON:	CALL LARG	;UP 35 TON
  926 E5C1  DD CB 08 4E TON1:	BIT 1,(IX+8)	;noch alter Ton?
  927 E5C5  20 FA       	JR NZ,TON1	;warten
  928 E5C7  79          TONP:	LD A,C		;Lautstaerke
  929 E5C8  17          	RLA		;1x nach links rotieren
  930 E5C9  2F          	CPL		;negieren, da Low-aktiv
  931 E5CA  4F          	LD C,A
  932 E5CB  78          	LD A,B		;Tondauer
  933 E5CC  C6 FF       	ADD 0FFH
  934 E5CE  30 0D       	JR NC,TON2	;Dauerton (CY=0 fuer Blinken aus)
  935 E5D0  F3          	DI
  936 E5D1  DD CB 08 CE 	SET 1,(IX+8)	;neuer Ton
  937 E5D5  3E C7       	LD A,0C7H
  938 E5D7  D3 8E       	OUT (8EH),A	;CTC2: EI, Zaehler 50Hz
  939 E5D9  78          	LD A,B
  940 E5DA  D3 8E       	OUT (8EH),A	;Tondauer
  941 E5DC  FB          	EI
  942 E5DD  79          TON2:	LD A,C		;Lautstaerke
  943 E5DE  1F          	RRA		;1x nach rechts rotieren und Blinkbit einschieben
  944 E5DF  D3 89       	OUT (89H),A
  945                    
  946 E5E1  0E 8C       	LD C,8CH	;CTC 0
  947 E5E3  CD E5E8     	CALL ZKO
  948 E5E6  0C          	INC C		;CTC 1
  949 E5E7  EB          	EX DE,HL
  950 E5E8  7D          ZKO:	LD A,L
  951 E5E9  A7          	AND A
  952 E5EA  2E 03       	LD L,3
  953 E5EC  28 0C       	JR Z,TON3
  954 E5EE  6F          	LD L,A
  955 E5EF  7C          	LD A,H
  956 E5F0  0F          	RRCA
  957 E5F1  0F          	RRCA
  958 E5F2  F6 0A       	OR 0AH		;2*5
  959 E5F4  1F          	RRA
  960 E5F5  EE 02       	XOR 2
  961 E5F7  F3          	DI
  962 E5F8  ED 79       	OUT (C),A
  963 E5FA  ED 69       TON3:	OUT (C),L
  964 E5FC  FB          	EI
  965 E5FD  C9          	RET
  966                    
  967                    
  968                   ;====== BASIC-ERWEITERUNG ==============
  969                    
  970                    
  971                   ;*** BASIC I/O-Verteiler ***
  972                    
  973 E5FE  C5          BASPV:	PUSH BC
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  18
CAOSEI  ASM

  974 E5FF  E5          	PUSH HL
  975 E600  CD F078     	CALL IRMON
  976 E603  CB 6B       	BIT 5,E
  977 E605  D5          	PUSH DE
  978 E606  20 4B       	JR NZ,BASBYE
  979 E608  23          	INC HL
  980 E609  23          	INC HL
  981 E60A  CB 7B       	BIT 7,E
  982 E60C  20 3A       	JR NZ,BSA2
  983 E60E  E5          	PUSH HL
  984 E60F  7B          	LD A,E
  985 E610  E6 07       	AND 7
  986 E612  21 E640     	LD HL,BUPTAB
  987 E615  85          	ADD L
  988 E616  6F          	LD L,A
  989 E617  7A          	LD A,D
  990 E618  53          	LD D,E
  991 E619  5E          	LD E,(HL)
  992 E61A  E1          	POP HL
  993 E61B  CD F063     	CALL PV3
  994 E61E  D1          	POP DE
  995 E61F  57          	LD D,A
  996 E620  7B          	LD A,E
  997 E621  E6 4F       	AND 4FH
  998 E623  EE 43       	XOR 43H
  999 E625  20 10       	JR NZ,BSA1
 1000 E627  CD F264     	CALL OSTR
 1001 E62A  56 45 52 49 	DEFM 'VERIFY'
 1002 E630  00          	DEFB 0
 1003 E631  CD F573     	CALL YESNO
 1004 E634  CC F4A2     	CALL Z,VERIFY
 1005 E637  7A          BSA1:	LD A,D
 1006 E638  CB 9B       	RES 3,E
 1007 E63A  CD F091     	CALL IRMOFF
 1008 E63D  E1          BSAE:	POP HL
 1009 E63E  C1          	POP BC
 1010 E63F  C9          	RET
 1011                    
 1012 E640  16          BUPTAB:	DEFB 16H	;KEINE 100H-
 1013 E641  24          	DEFB 24H	;Ueberschneidung
 1014 E642  37          	DEFB 37H
 1015 E643  38          	DEFB 38H
 1016 E644  06          	DEFB 6
 1017 E645  02          	DEFB 2
 1018 E646  07          	DEFB 7
 1019 E647  03          	DEFB 3
 1020                    
 1021 E648  CD E3F1     BSA2:	CALL KBDS
 1022 E64B  D1          BSA3:	POP DE
 1023 E64C  57          	LD D,A
 1024 E64D  30 E8       	JR NC,BSA1
 1025 E64F  CB BB       	RES 7,E
 1026 E651  18 E4       	JR BSA1
 1027                    
 1028 E653  DB 88       BASBYE:	IN A,(88H)
 1029 E655  CB BF       	RES 7,A
 1030 E657  D3 88       	OUT (88H),A
 1031 E659  C3 F1F3     	JP LOOP
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  19
CAOSEI  ASM

 1032                    
 1033                   ;*** BASIC-Expander ***
 1034                    
 1035 E65C  78          BEXP1:	LD A,B
 1036 E65D  D6 09       	SUB 9
 1037 E65F  38 4B       	JR C,SNERR1
 1038 E661  FE 1B       	CP 27
 1039 E663  30 47       	JR NC,SNERR1
 1040 E665  07          	RLCA
 1041 E666  4F          	LD C,A
 1042 E667  06 00       	LD B,0
 1043 E669  EB          	EX DE,HL
 1044 E66A  21 EDCA     	LD HL,TADR5
 1045 E66D  C3 C8B7     	JP 0C8B7H
 1046                    
 1047 E670              LOCOL:	;LoadColor
 1048 E670  E5          	PUSH HL
 1049 E671  21 B7A3     	LD HL,0B7A3H
 1050 E674  CD EBE3     	CALL RLDAM
 1051 E677  E1          	POP HL
 1052 E678  C9          	RET
 1053                    
 1054 E679  7E          BEXP2:	LD A,(HL)
 1055 E67A  FE DF       	CP 0DFH
 1056 E67C  D8          	RET C
 1057 E67D  FE E3       	CP 0E3H
 1058 E67F  D0          	RET NC
 1059 E680  FE E1       	CP 0E1H
 1060 E682  CA EA39     	JP Z,AT
 1061 E685  3A 03FD     	LD A,(3FDH)	;PRTFLG
 1062 E688  A7          	AND A
 1063 E689  20 21       	JR NZ,SNERR1
 1064 E68B  3C          	INC A
 1065 E68C  32 03FD     	LD (3FDH),A	;PRTFLG
 1066 E68F  3E          	DEFB 3EH	;LD A,n
 1067 E690  C5          RBE2:	PUSH BC
 1068 E691  CD E670     	CALL LOCOL
 1069 E694  32 037E     	LD (37EH),A
 1070 E697  7E          	LD A,(HL)
 1071 E698  FE DF       	CP 0DFH
 1072 E69A  28 1B       	JR Z,BE23
 1073 E69C  FE E2       	CP 0E2H
 1074 E69E  CA E6AF     	JP Z,PRCOL
 1075 E6A1  CD C8BD     	CALL 0C8BDH
 1076 E6A4  CD EA95     	CALL PAPER
 1077 E6A7  7E          BE22:	LD A,(HL)
 1078 E6A8  FE 3B       	CP ';'
 1079 E6AA  28 38       	JR Z,BE25
 1080 E6AC  C3 C348     SNERR1:	JP 0C348H
 1081                    
 1082 E6AF  CD C8BD     PRCOL:	CALL 0C8BDH
 1083 E6B2  CD EAAC     	CALL COLR
 1084 E6B5  18 F0       	JR BE22
 1085                    
 1086 E6B7  CD C8BD     BE23:	CALL 0C8BDH
 1087 E6BA  CD EA83     	CALL INK
 1088 E6BD  7E          	LD A,(HL)
 1089 E6BE  FE 3B       	CP ';'
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  20
CAOSEI  ASM

 1090 E6C0  28 22       	JR Z,BE25
 1091 E6C2  CD C8CC     	CALL 0C8CCH
 1092 E6C5  2C          	DEFB ','
 1093 E6C6  FE E0       	CP 0E0H
 1094 E6C8  20 E2       	JR NZ,SNERR1
 1095 E6CA  CD C8BD     	CALL 0C8BDH
 1096 E6CD  CD EA95     	CALL PAPER
 1097 E6D0  CD C8CC     	CALL 0C8CCH
 1098 E6D3  3B          	DEFB ';'
 1099 E6D4  CD CB03     BE24:	CALL 0CB03H
 1100 E6D7  3A 037E     	LD A,(37EH)
 1101 E6DA  E5          	PUSH HL
 1102 E6DB  21 B7A3     	LD HL,0B7A3H
 1103 E6DE  CD EBE8     	CALL RLDMA
 1104 E6E1  E1          	POP HL
 1105 E6E2  C1          	POP BC
 1106 E6E3  C9          	RET
 1107                    
 1108 E6E4  CD C8BD     BE25:	CALL 0C8BDH
 1109 E6E7  18 EB       	JR BE24
 1110                    
 1111 E6E9  79          BEXP3:	LD A,C
 1112 E6EA  FE 62       	CP 62H
 1113 E6EC  CA EA07     	JP Z,VPEEK
 1114 E6EF  FE 6E       	CP 6EH
 1115 E6F1  CA EC00     	JP Z,PTEST
 1116 E6F4  FE 7C       	CP 7CH
 1117 E6F6  CA ECE1     	JP Z,CSRLIN
 1118 E6F9  FE 76       	CP 76H
 1119 E6FB  CA ED01     	JP Z,VGET
 1120 E6FE  D6 3E       	SUB 3EH
 1121 E700  38 AA       	JR C,SNERR1
 1122 E702  FE 07       	CP 7
 1123 E704  30 A6       	JR NC,SNERR1
 1124 E706  EB          	EX DE,HL
 1125 E707  01 EDC2     	LD BC,TOKADR
 1126 E70A  E1          	POP HL
 1127 E70B  6F          	LD L,A
 1128 E70C  09          	ADD HL,BC
 1129 E70D  4E          	LD C,(HL)
 1130 E70E  23          	INC HL
 1131 E70F  66          	LD H,(HL)
 1132 E710  69          	LD L,C
 1133 E711  E5          	PUSH HL
 1134 E712  EB          	EX DE,HL
 1135 E713  C9          	RET
 1136                    
 1137 E714  CD C8CC     STR:	CALL 0C8CCH
 1138 E717  28          	DEFB '('
 1139 E718  CD D421     	CALL 0D421H
 1140 E71B  F5          	PUSH AF
 1141 E71C  CD C8D6     	CALL 0C8D6H
 1142 E71F  CD CD3A     	CALL 0CD3AH
 1143 E722  CD C8DB     	CALL 0C8DBH
 1144 E725  F1          	POP AF
 1145 E726  E5          	PUSH HL
 1146 E727  F5          	PUSH AF
 1147 E728  CD D330     	CALL 0D330H
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  21
CAOSEI  ASM

 1148 E72B  23          	INC HL
 1149 E72C  23          	INC HL
 1150 E72D  5E          	LD E,(HL)
 1151 E72E  23          	INC HL
 1152 E72F  56          	LD D,(HL)
 1153 E730  C1          	POP BC
 1154 E731  C5          	PUSH BC
 1155 E732  F5          	PUSH AF
 1156 E733  D5          	PUSH DE
 1157 E734  4F          	LD C,A
 1158 E735  AF          	XOR A
 1159 E736  B9          	CP C
 1160 E737  28 0C       	JR Z,STR2
 1161 E739  B8          	CP B
 1162 E73A  28 09       	JR Z,STR2
 1163 E73C  79          	LD A,C
 1164 E73D  05          	DEC B
 1165 E73E  28 05       	JR Z,STR2
 1166 E740  81          STR1:	ADD C
 1167 E741  38 2B       	JR C,STR5
 1168 E743  10 FB       	DJNZ STR1
 1169 E745  47          STR2:	LD B,A
 1170 E746  0E 00       	LD C,0
 1171 E748  C5          	PUSH BC
 1172 E749  CD D1E1     	CALL 0D1E1H
 1173 E74C  C1          	POP BC
 1174 E74D  C1          	POP BC
 1175 E74E  C5          	PUSH BC
 1176 E74F  CD D17E     	CALL 0D17EH
 1177 E752  E1          	POP HL
 1178 E753  E3          	EX (SP),HL
 1179 E754  7C          	LD A,H
 1180 E755  E1          	POP HL
 1181 E756  E3          	EX (SP),HL
 1182 E757  6F          	LD L,A
 1183 E758  24          	INC H
 1184 E759  25          STR3:	DEC H
 1185 E75A  E5          	PUSH HL
 1186 E75B  C5          	PUSH BC
 1187 E75C  28 07       	JR Z,STR4
 1188 E75E  CD D2F2     	CALL 0D2F2H
 1189 E761  C1          	POP BC
 1190 E762  E1          	POP HL
 1191 E763  18 F4       	JR STR3
 1192                    
 1193 E765  C1          STR4:	POP BC
 1194 E766  E1          	POP HL
 1195 E767  D1          	POP DE
 1196 E768  CD D302     	CALL 0D302H
 1197 E76B  C3 D1A9     	JP 0D1A9H
 1198                    
 1199 E76E  1E 1C       STR5:	LD E,28
 1200 E770  C3 C356     	JP 0C356H
 1201                    
 1202 E773  E5          REN:	PUSH HL
 1203 E774  21 000A     	LD HL,10
 1204 E777  22 0354     	LD (354H),HL
 1205 E77A  2A 035F     	LD HL,(35FH)
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  22
CAOSEI  ASM

 1206 E77D  F5          	PUSH AF
 1207 E77E  E5          	PUSH HL
 1208 E77F  23          	INC HL
 1209 E780  23          	INC HL
 1210 E781  7E          	LD A,(HL)
 1211 E782  23          	INC HL
 1212 E783  66          	LD H,(HL)
 1213 E784  6F          	LD L,A
 1214 E785  22 034E     	LD (34EH),HL
 1215 E788  22 0352     	LD (352H),HL
 1216 E78B  ED 5B 03D7  	LD DE,(3D7H)
 1217 E78F  1B          	DEC DE
 1218 E790  1B          	DEC DE
 1219 E791  E1          REN1:	POP HL
 1220 E792  E5          	PUSH HL
 1221 E793  7E          	LD A,(HL)
 1222 E794  23          	INC HL
 1223 E795  66          	LD H,(HL)
 1224 E796  6F          	LD L,A
 1225 E797  CD C689     	CALL 0C689H
 1226 E79A  E3          	EX (SP),HL
 1227 E79B  20 F4       	JR NZ,REN1
 1228 E79D  D1          	POP DE
 1229 E79E  23          	INC HL
 1230 E79F  23          	INC HL
 1231 E7A0  7E          	LD A,(HL)
 1232 E7A1  23          	INC HL
 1233 E7A2  66          	LD H,(HL)
 1234 E7A3  6F          	LD L,A
 1235 E7A4  22 0350     	LD (350H),HL
 1236 E7A7  06 04       	LD B,4
 1237 E7A9  F1          	POP AF
 1238 E7AA  21 034E     	LD HL,34EH
 1239 E7AD  E3          	EX (SP),HL
 1240 E7AE  28 20       REN2:	JR Z,REN5
 1241 E7B0  CD C986     	CALL 0C986H
 1242 E7B3  F5          	PUSH AF
 1243 E7B4  7A          	LD A,D
 1244 E7B5  B3          	OR E
 1245 E7B6  CA C967     REN3:	JP Z,0C967H
 1246 E7B9  F1          	POP AF
 1247 E7BA  E3          	EX (SP),HL
 1248 E7BB  73          	LD (HL),E
 1249 E7BC  23          	INC HL
 1250 E7BD  72          	LD (HL),D
 1251 E7BE  23          	INC HL
 1252 E7BF  28 0F       	JR Z,REN5
 1253 E7C1  F5          	PUSH AF
 1254 E7C2  05          	DEC B
 1255 E7C3  28 07       	JR Z,REN4
 1256 E7C5  F1          	POP AF
 1257 E7C6  E3          	EX (SP),HL
 1258 E7C7  CD C8D6     	CALL 0C8D6H
 1259 E7CA  18 E2       	JR REN2
 1260                    
 1261 E7CC  F1          REN4:	POP AF
 1262 E7CD  C2 C348     	JP NZ,0C348H
 1263 E7D0  2A 0350     REN5:	LD HL,(350H)
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  23
CAOSEI  ASM

 1264 E7D3  ED 5B 034E  	LD DE,(34EH)
 1265 E7D7  CD C689     	CALL 0C689H
 1266 E7DA  DA C967     REN6:	JP C,0C967H
 1267 E7DD  2A 035F     	LD HL,(35FH)
 1268 E7E0  CD C4BE     REN7:	CALL 0C4BEH
 1269 E7E3  38 04       	JR C,REN8
 1270 E7E5  28 CF       	JR Z,REN3
 1271 E7E7  18 F7       	JR REN7
 1272                    
 1273 E7E9  E1          REN8:	POP HL
 1274 E7EA  C5          	PUSH BC
 1275 E7EB  ED 5B 0350  	LD DE,(350H)
 1276 E7EF  21 0000     	LD HL,0
 1277 E7F2  22 0350     	LD (350H),HL
 1278 E7F5  60          REN9:	LD H,B
 1279 E7F6  69          	LD L,C
 1280 E7F7  4E          	LD C,(HL)
 1281 E7F8  23          	INC HL
 1282 E7F9  46          	LD B,(HL)
 1283 E7FA  78          	LD A,B
 1284 E7FB  B1          	OR C
 1285 E7FC  28 B8       	JR Z,REN3
 1286 E7FE  23          	INC HL
 1287 E7FF  7E          	LD A,(HL)
 1288 E800  23          	INC HL
 1289 E801  66          	LD H,(HL)
 1290 E802  6F          	LD L,A
 1291 E803  CD C689     	CALL 0C689H
 1292 E806  2A 0350     	LD HL,(350H)
 1293 E809  23          	INC HL
 1294 E80A  22 0350     	LD (350H),HL
 1295 E80D  20 E6       	JR NZ,REN9
 1296 E80F  23          	INC HL
 1297 E810  23          	INC HL
 1298 E811  29          	ADD HL,HL
 1299 E812  23          	INC HL
 1300 E813  ED 5B 03D7  	LD DE,(3D7H)
 1301 E817  19          	ADD HL,DE
 1302 E818  38 C0       	JR C,REN6
 1303 E81A  CD C327     	CALL 0C327H
 1304 E81D  22 03D7     	LD (3D7H),HL
 1305 E820  AF          	XOR A
 1306 E821  2B          	DEC HL
 1307 E822  77          	LD (HL),A
 1308 E823  2B          	DEC HL
 1309 E824  77          	LD (HL),A
 1310 E825  1B          	DEC DE
 1311 E826  1B          	DEC DE
 1312 E827  EB          	EX DE,HL
 1313 E828  73          	LD (HL),E
 1314 E829  23          	INC HL
 1315 E82A  72          	LD (HL),D
 1316 E82B  23          	INC HL
 1317 E82C  3D          	DEC A
 1318 E82D  77          	LD (HL),A
 1319 E82E  23          	INC HL
 1320 E82F  77          	LD (HL),A
 1321 E830  23          	INC HL
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  24
CAOSEI  ASM

 1322 E831  EB          	EX DE,HL
 1323 E832  2A 0352     	LD HL,(352H)
 1324 E835  22 034E     	LD (34EH),HL
 1325 E838  E1          REN10:	POP HL
 1326 E839  4E          	LD C,(HL)
 1327 E83A  23          	INC HL
 1328 E83B  46          	LD B,(HL)
 1329 E83C  23          	INC HL
 1330 E83D  C5          	PUSH BC
 1331 E83E  01 034E     	LD BC,34EH
 1332 E841  7E          	LD A,(HL)
 1333 E842  12          	LD (DE),A
 1334 E843  0A          	LD A,(BC)
 1335 E844  77          	LD (HL),A
 1336 E845  23          	INC HL
 1337 E846  13          	INC DE
 1338 E847  03          	INC BC
 1339 E848  7E          	LD A,(HL)
 1340 E849  12          	LD (DE),A
 1341 E84A  0A          	LD A,(BC)
 1342 E84B  77          	LD (HL),A
 1343 E84C  13          	INC DE
 1344 E84D  2A 034E     	LD HL,(34EH)
 1345 E850  ED 4B 0354  	LD BC,(354H)
 1346 E854  09          	ADD HL,BC
 1347 E855  22 034E     	LD (34EH),HL
 1348 E858  2A 0350     	LD HL,(350H)
 1349 E85B  2B          	DEC HL
 1350 E85C  7C          	LD A,H
 1351 E85D  B5          	OR L
 1352 E85E  22 0350     	LD (350H),HL
 1353 E861  20 D5       	JR NZ,REN10
 1354 E863  12          	LD (DE),A
 1355 E864  E1          	POP HL
 1356 E865  2A 035F     	LD HL,(35FH)
 1357 E868  E5          	PUSH HL
 1358 E869  E1          REN11:	POP HL
 1359 E86A  4E          	LD C,(HL)
 1360 E86B  23          	INC HL
 1361 E86C  46          	LD B,(HL)
 1362 E86D  23          	INC HL
 1363 E86E  C5          	PUSH BC
 1364 E86F  7E          	LD A,(HL)
 1365 E870  23          	INC HL
 1366 E871  A6          	AND (HL)
 1367 E872  3C          	INC A
 1368 E873  28 26       	JR Z,REN15
 1369                    
 1370 E875  23          REN12:	INC HL
 1371 E876  7E          REN13:	LD A,(HL)
 1372 E877  B7          	OR A		;ZEILEN-ENDE
 1373 E878  28 EF       	JR Z,REN11
 1374 E87A  FE 88       	CP 88H		;GOTO
 1375 E87C  28 2A       	JR Z,REN16
 1376 E87E  FE 8C       	CP 8CH		;GOSUB
 1377 E880  28 26       	JR Z,REN16
 1378 E882  FE 8B       	CP 8BH		;RESTORE
 1379 E884  28 08       	JR Z,REN14
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  25
CAOSEI  ASM

 1380 E886  FE D4       	CP 0D4H		;ELSE
 1381 E888  28 04       	JR Z,REN14
 1382 E88A  FE A9       	CP 0A9H		;THEN
 1383 E88C  20 E7       	JR NZ,REN12
 1384                    
 1385 E88E  CD C987     REN14:	CALL 0C987H	;F.RESTORE,THEN,
 1386 E891  7B          	LD A,E		; ELSE
 1387 E892  B2          	OR D
 1388 E893  C4 E8BC     	CALL NZ,RENLN
 1389 E896  C4 E8ED     	CALL NZ,RENZN
 1390 E899  18 DB       	JR REN13
 1391                    
 1392 E89B  2B          REN15:	DEC HL
 1393 E89C  22 03D7     	LD (3D7H),HL
 1394 E89F  2B          	DEC HL
 1395 E8A0  77          	LD (HL),A
 1396 E8A1  2B          	DEC HL
 1397 E8A2  77          	LD (HL),A
 1398 E8A3  E1          	POP HL
 1399 E8A4  E1          	POP HL
 1400 E8A5  C3 C48A     	JP 0C48AH
 1401                    
 1402 E8A8  CD C987     REN16:	CALL 0C987H	;F.GOTO,GOSUB
 1403 E8AB  7B          	LD A,E
 1404 E8AC  B2          	OR D
 1405 E8AD  28 C7       	JR Z,REN13
 1406 E8AF  CD E8BC     	CALL RENLN
 1407 E8B2  C4 E8ED     	CALL NZ,RENZN
 1408 E8B5  7E          	LD A,(HL)
 1409 E8B6  FE 2C       	CP 2CH
 1410 E8B8  20 BC       	JR NZ,REN13
 1411 E8BA  18 EC       	JR REN16
 1412                    
 1413 E8BC  E5          RENLN:	PUSH HL
 1414 E8BD  D5          	PUSH DE
 1415 E8BE  11 FFFF     	LD DE,0FFFFH
 1416 E8C1  CD C4BB     	CALL 0C4BBH
 1417 E8C4  D1          	POP DE
 1418 E8C5  03          	INC BC
 1419 E8C6  03          	INC BC
 1420 E8C7  03          	INC BC
 1421 E8C8  03          	INC BC
 1422 E8C9  60          	LD H,B
 1423 E8CA  69          	LD L,C
 1424 E8CB  ED 4B 0352  	LD BC,(352H)
 1425 E8CF  7E          RL1:	LD A,(HL)
 1426 E8D0  23          	INC HL
 1427 E8D1  E5          	PUSH HL
 1428 E8D2  B6          	OR (HL)
 1429 E8D3  28 15       	JR Z,REND2
 1430 E8D5  7E          	LD A,(HL)
 1431 E8D6  2B          	DEC HL
 1432 E8D7  6E          	LD L,(HL)
 1433 E8D8  67          	LD H,A
 1434 E8D9  CD C689     	CALL 0C689H
 1435 E8DC  28 0A       	JR Z,REND1
 1436 E8DE  2A 0354     	LD HL,(354H)
 1437 E8E1  09          	ADD HL,BC
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  26
CAOSEI  ASM

 1438 E8E2  44          	LD B,H
 1439 E8E3  4D          	LD C,L
 1440 E8E4  E1          	POP HL
 1441 E8E5  23          	INC HL
 1442 E8E6  18 E7       	JR RL1
 1443                    
 1444 E8E8  AF          REND1:	XOR A
 1445 E8E9  3D          	DEC A
 1446 E8EA  E1          REND2:	POP HL
 1447 E8EB  E1          	POP HL
 1448 E8EC  C9          	RET
 1449                    
 1450 E8ED  C5          RENZN:	PUSH BC		;NEUE ZEILEN-NR.
 1451 E8EE  EB          	EX DE,HL	; F.SPRUENGE,...
 1452 E8EF  2A 03D7     	LD HL,(3D7H)
 1453 E8F2  ED 52       	SBC HL,DE
 1454 E8F4  E5          	PUSH HL
 1455 E8F5  C1          RZ1:	POP BC
 1456 E8F6  62          	LD H,D
 1457 E8F7  6B          	LD L,E
 1458 E8F8  1B          	DEC DE
 1459 E8F9  1A          	LD A,(DE)
 1460 E8FA  FE 2C       	CP ','
 1461 E8FC  28 0B       	JR Z,RZ2
 1462 E8FE  FE 3A       	CP ':'
 1463 E900  30 07       	JR NC,RZ2
 1464 E902  C5          	PUSH BC
 1465 E903  D5          	PUSH DE
 1466 E904  ED B0       	LDIR
 1467 E906  D1          	POP DE
 1468 E907  18 EC       	JR RZ1
 1469                    
 1470 E909  EB          RZ2:	EX DE,HL
 1471 E90A  D1          	POP DE
 1472 E90B  E5          	PUSH HL
 1473 E90C  C5          	PUSH BC
 1474 E90D  AF          	XOR A
 1475 E90E  06 98       	LD B,98H
 1476 E910  CD D6AE     	CALL 0D6AEH
 1477 E913  CD D834     	CALL 0D834H
 1478 E916  C1          	POP BC
 1479 E917  D1          	POP DE
 1480 E918  23          	INC HL
 1481 E919  13          	INC DE
 1482 E91A  7E          RZ3:	LD A,(HL)
 1483 E91B  B7          	OR A
 1484 E91C  28 0F       	JR Z,RZ4
 1485 E91E  C5          	PUSH BC
 1486 E91F  E5          	PUSH HL
 1487 E920  EB          	EX DE,HL
 1488 E921  09          	ADD HL,BC
 1489 E922  54          	LD D,H
 1490 E923  5D          	LD E,L
 1491 E924  2B          	DEC HL
 1492 E925  ED B8       	LDDR
 1493 E927  E1          	POP HL
 1494 E928  ED A0       	LDI
 1495 E92A  C1          	POP BC
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  27
CAOSEI  ASM

 1496 E92B  18 ED       	JR RZ3
 1497                    
 1498 E92D  D5          RZ4:	PUSH DE
 1499 E92E  ED 5B 035F  	LD DE,(35FH)
 1500 E932  CD C493     	CALL 0C493H
 1501 E935  23          RZ5:	INC HL
 1502 E936  7E          	LD A,(HL)
 1503 E937  23          	INC HL
 1504 E938  B6          	OR (HL)
 1505 E939  20 FA       	JR NZ,RZ5
 1506 E93B  EB          	EX DE,HL
 1507 E93C  73          	LD (HL),E
 1508 E93D  23          	INC HL
 1509 E93E  72          	LD (HL),D
 1510 E93F  13          	INC DE
 1511 E940  13          	INC DE
 1512 E941  ED 53 03D7  	LD (3D7H),DE
 1513 E945  E1          	POP HL
 1514 E946  54          	LD D,H
 1515 E947  5D          	LD E,L
 1516 E948  7E          RZ6:	LD A,(HL)
 1517 E949  B7          	OR A
 1518 E94A  23          	INC HL
 1519 E94B  20 FB       	JR NZ,RZ6
 1520 E94D  C1          	POP BC
 1521 E94E  E3          	EX (SP),HL
 1522 E94F  C5          	PUSH BC
 1523 E950  EB          	EX DE,HL
 1524 E951  C9          	RET
 1525                    
 1526 E952  C8          DLTE:	RET Z
 1527 E953  CD C986     	CALL 0C986H
 1528 E956  CA C442     	JP Z,0C442H
 1529 E959  CD C8D6     	CALL 0C8D6H
 1530 E95C  D5          	PUSH DE
 1531 E95D  CD C986     	CALL 0C986H
 1532 E960  E1          	POP HL
 1533 E961  C0          	RET NZ
 1534 E962  EB          	EX DE,HL
 1535 E963  E5          	PUSH HL
 1536 E964  CD C4BB     	CALL 0C4BBH
 1537 E967  D2 C44D     	JP NC,0C44DH
 1538 E96A  D1          	POP DE
 1539 E96B  F5          	PUSH AF
 1540 E96C  C5          	PUSH BC
 1541 E96D  CD C4BE     	CALL 0C4BEH
 1542 E970  D2 C44D     	JP NC,0C44DH
 1543 E973  C1          	POP BC
 1544 E974  C3 C450     	JP 0C450H
 1545                    
 1546 E977  CD C8BE     PAUSE:	CALL 0C8BEH
 1547 E97A  20 0D       	JR NZ,PSE2
 1548 E97C  1E 2A       PSE1:	LD E,2AH	;BRKT
 1549 E97E  CD F027     	CALL PV5
 1550 E981  D8          	RET C
 1551 E982  FE 0A       	CP 0AH		;CUD
 1552 E984  20 F6       	JR NZ,PSE1
 1553 E986  C3 DDE4     CONT:	JP 0DDE4H
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  28
CAOSEI  ASM

 1554                    
 1555 E989  CD D421     PSE2:	CALL 0D421H
 1556 E98C  4F          	LD C,A
 1557 E98D  3E 10       PSE3:	LD A,10H
 1558 E98F  1E 14       	LD E,14H	;WAIT
 1559 E991  CD F027     	CALL PV5
 1560 E994  1E 2A       	LD E,2AH	;BRKT
 1561 E996  CD F027     	CALL PV5
 1562 E999  D8          	RET C
 1563 E99A  FE 0A       	CP 0AH
 1564 E99C  28 E8       	JR Z,CONT
 1565 E99E  0D          	DEC C
 1566 E99F  20 EC       	JR NZ,PSE3
 1567 E9A1  C9          	RET
 1568                    
 1569 E9A2  06 01       BEEP:	LD B,1
 1570 E9A4  CD C8BE     	CALL 0C8BEH
 1571 E9A7  28 04       	JR Z,BEEP1
 1572 E9A9  CD D421     	CALL 0D421H
 1573 E9AC  47          	LD B,A
 1574 E9AD  3E 07       BEEP1:	LD A,7
 1575 E9AF  1E 00       	LD E,0
 1576 E9B1  CD F027     	CALL PV5
 1577 E9B4  10 F7       	DJNZ BEEP1
 1578 E9B6  C9          	RET
 1579                    
 1580 E9B7  CD C8D6     MC8D4:	CALL 0C8D6H	;CPCOMM
 1581 E9BA  C3 D421     	JP 0D421H	;ARGVL1
 1582                    
 1583 E9BD  CD C8BE     WNDW:	CALL 0C8BEH	;TCHAR1
 1584 E9C0  28 2E       	JR Z,WDW2	;volles Fenster
 1585 E9C2  CD D421     	CALL 0D421H	;ARGVL1
 1586 E9C5  47          	LD B,A		;WAY>B
 1587 E9C6  C5          	PUSH BC
 1588 E9C7  CD E9B7     	CALL MC8D4	;2. Wert holen
 1589 E9CA  57          	LD D,A		;WEY>D
 1590 E9CB  D5          	PUSH DE
 1591 E9CC  CD E9B7     	CALL MC8D4	;3. Wert holen
 1592 E9CF  D1          	POP DE
 1593 E9D0  5F          	LD E,A		;WAX>E
 1594 E9D1  D5          	PUSH DE
 1595 E9D2  CD E9B7     	CALL MC8D4	;4. Wert holen
 1596 E9D5  D1          	POP DE		;WEX>A
 1597 E9D6  E3          	EX (SP),HL	;WAY>H
 1598 E9D7  6B          	LD L,E		;WAX>L
 1599 E9D8  93          	SUB E
 1600 E9D9  38 5B       	JR C,SNERR2
 1601 E9DB  3C          	INC A
 1602 E9DC  5F          	LD E,A		;WLX>E
 1603 E9DD  7A          	LD A,D		;WEY
 1604 E9DE  94          	SUB H		;WAY
 1605 E9DF  38 55       	JR C,SNERR2
 1606 E9E1  3C          	INC A
 1607 E9E2  57          	LD D,A		;WLY>D
 1608 E9E3  CD F078     WDW1:	CALL IRMON
 1609 E9E6  CD F72D     	CALL WININ0
 1610 E9E9  CD F091     	CALL IRMOFF
 1611 E9EC  38 48       	JR C,SNERR2
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  29
CAOSEI  ASM

 1612 E9EE  E1          	POP HL
 1613 E9EF  C9          	RET
 1614                    
 1615 E9F0  E5          WDW2:	PUSH HL
 1616 E9F1  21 0100     	LD HL,100H
 1617 E9F4  11 1E28     	LD DE,1E28H
 1618 E9F7  18 EA       	JR WDW1
 1619                    
 1620 E9F9  E5          BLOAD:	PUSH HL
 1621 E9FA  21 B781     	LD HL,0B781H
 1622 E9FD  AF          	XOR A
 1623 E9FE  CD EBE8     	CALL RLDMA
 1624 EA01  E1          	POP HL
 1625 EA02  1E 10       	LD E,10H
 1626 EA04  C3 F027     	JP PV5
 1627                    
 1628 EA07  CD CDE1     VPEEK:	CALL 0CDE1H
 1629 EA0A  E3          	EX (SP),HL
 1630 EA0B  11 CDF3     	LD DE,0CDF3H
 1631 EA0E  D5          	PUSH DE
 1632 EA0F  CD C96F     	CALL 0C96FH
 1633 EA12  E5          	PUSH HL
 1634 EA13  21 8000     	LD HL,8000H
 1635 EA16  19          	ADD HL,DE
 1636 EA17  38 1D       	JR C,SNERR2
 1637 EA19  CB 74       	BIT 6,H
 1638 EA1B  20 19       	JR NZ,SNERR2
 1639 EA1D  CD EBE3     	CALL RLDAM
 1640 EA20  E1          	POP HL
 1641 EA21  C3 D3E9     	JP 0D3E9H
 1642                    
 1643 EA24  CD C96C     VPOKE:	CALL 0C96CH
 1644 EA27  D5          	PUSH DE
 1645 EA28  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1646 EA2B  E3          	EX (SP),HL
 1647 EA2C  11 8000     	LD DE,8000H
 1648 EA2F  19          	ADD HL,DE
 1649 EA30  38 04       	JR C,SNERR2
 1650 EA32  CB 74       	BIT 6,H
 1651 EA34  28 71       	JR Z,JLDMA
 1652 EA36  C3 C348     SNERR2:	JP 0C348H
 1653                    
 1654 EA39  3A 03FD     AT:	LD A,(3FDH)
 1655 EA3C  CB 4F       	BIT 1,A
 1656 EA3E  CB CF       	SET 1,A
 1657 EA40  32 03FD     	LD (3FDH),A
 1658 EA43  20 F1       	JR NZ,SNERR2
 1659 EA45  D5          	PUSH DE
 1660 EA46  E5          	PUSH HL
 1661 EA47  CD F078     	CALL IRMON
 1662 EA4A  21 0000     	LD HL,0
 1663 EA4D  11 2028     	LD DE,2028H
 1664 EA50  CD F72D     	CALL WININ0
 1665 EA53  CD F091     	CALL IRMOFF
 1666 EA56  E1          	POP HL
 1667 EA57  CD EABD     	CALL SUARG
 1668 EA5A  CD C8DB     	CALL 0C8DBH
 1669 EA5D  CD C8CC     	CALL 0C8CCH
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  30
CAOSEI  ASM

 1670 EA60  3B          	DEFB ';'
 1671 EA61  7E          	LD A,(HL)
 1672 EA62  FE DF       	CP 0DFH
 1673 EA64  38 18       	JR C,AT2
 1674 EA66  FE E3       	CP 0E3H
 1675 EA68  30 14       	JR NC,AT2
 1676 EA6A  CD E690     	CALL RBE2
 1677 EA6D  E5          AT1:	PUSH HL
 1678 EA6E  CD F078     	CALL IRMON
 1679 EA71  3A B79B     	LD A,(0B79BH)
 1680 EA74  CD F74F     	CALL WINAK1
 1681 EA77  CD F091     	CALL IRMOFF
 1682 EA7A  E1          	POP HL
 1683 EA7B  D1          	POP DE
 1684 EA7C  C1          	POP BC
 1685 EA7D  C9          	RET
 1686                    
 1687 EA7E  CD CB03     AT2:	CALL 0CB03H
 1688 EA81  18 EA       	JR AT1
 1689                    
 1690 EA83  CD D421     INK:	CALL 0D421H
 1691 EA86  FE 20       	CP 20H
 1692 EA88  30 AC       	JR NC,SNERR2
 1693 EA8A  87          	ADD A
 1694 EA8B  87          	ADD A
 1695 EA8C  87          	ADD A
 1696 EA8D  57          	LD D,A
 1697 EA8E  CD E670     	CALL LOCOL
 1698 EA91  E6 07       	AND 7
 1699 EA93  18 0D       	JR LDCOL
 1700                    
 1701 EA95  CD D421     PAPER:	CALL 0D421H
 1702 EA98  FE 08       	CP 8
 1703 EA9A  30 9A       	JR NC,SNERR2
 1704 EA9C  57          	LD D,A
 1705 EA9D  CD E670     	CALL LOCOL
 1706 EAA0  E6 F8       	AND 0F8H
 1707 EAA2  B2          LDCOL:	OR D
 1708 EAA3  E5          	PUSH HL
 1709 EAA4  21 B7A3     	LD HL,0B7A3H
 1710 EAA7  CD EBE8     JLDMA:	CALL RLDMA
 1711 EAAA  E1          	POP HL
 1712 EAAB  C9          	RET
 1713                    
 1714 EAAC  CD C8BE     COLR:	CALL 0C8BEH
 1715 EAAF  28 85       	JR Z,SNERR2
 1716 EAB1  CD EA83     	CALL INK
 1717 EAB4  CD C8BE     	CALL 0C8BEH
 1718 EAB7  C8          	RET Z
 1719 EAB8  CD C8D6     	CALL 0C8D6H
 1720 EABB  18 D8       	JR PAPER
 1721                    
 1722 EABD  CD C8BD     SUARG:	CALL 0C8BDH
 1723 EAC0  CD C8CC     	CALL 0C8CCH
 1724 EAC3  28          	DEFB '('
 1725                    
 1726 EAC4  CD D421     LOCAT:	CALL 0D421H
 1727 EAC7  57          	LD D,A
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  31
CAOSEI  ASM

 1728 EAC8  D5          	PUSH DE
 1729 EAC9  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1730 EACC  D1          	POP DE
 1731 EACD  5F          	LD E,A
 1732 EACE  CD F078     	CALL IRMON
 1733 EAD1  CD E0B1     	CALL TCIF
 1734 EAD4  38 04       	JR C,LOCAT1
 1735 EAD6  ED 53 B7A0  	LD (0B7A0H),DE
 1736 EADA  CD F091     LOCAT1:	CALL IRMOFF
 1737 EADD  D0          	RET NC
 1738 EADE  C3 C348     SNERR3:	JP 0C348H
 1739                    
 1740 EAE1  E5          INKEY:	PUSH HL
 1741 EAE2  CD E3F1     	CALL KBDS
 1742 EAE5  30 0F       	JR NC,IKY2
 1743 EAE7  3E 01       	LD A,1
 1744 EAE9  CD D17B     	CALL 0D17BH
 1745 EAEC  CD DDE4     	CALL 0DDE4H
 1746 EAEF  2A 03C2     AKTCHR:	LD HL,(3C2H)
 1747 EAF2  77          	LD (HL),A
 1748 EAF3  C3 D1A9     IKY1:	JP 0D1A9H
 1749                    
 1750 EAF6  AF          IKY2:	XOR A
 1751 EAF7  CD D17B     	CALL 0D17BH
 1752 EAFA  18 F7       	JR IKY1
 1753                    
 1754 EAFC  CD D421     SOUND:	CALL 0D421H
 1755 EAFF  E5          	PUSH HL
 1756 EB00  21 B782     	LD HL,0B782H	;ARG1
 1757 EB03  06 04       	LD B,4		;4 Argumente
 1758 EB05  CD EBE8     SNDS:	CALL RLDMA	;in IRM schreiben
 1759 EB08  23          	INC HL
 1760 EB09  E3          	EX (SP),HL
 1761 EB0A  05          	DEC B
 1762 EB0B  28 08       	JR Z,SND2
 1763 EB0D  C5          	PUSH BC
 1764 EB0E  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1765 EB11  C1          	POP BC
 1766 EB12  E3          	EX (SP),HL
 1767 EB13  18 F0       	JR SNDS
 1768                    
 1769 EB15  CD C8BE     SND2:	CALL 0C8BEH
 1770 EB18  28 16       	JR Z,SND3
 1771 EB1A  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1772 EB1D  E3          	EX (SP),HL
 1773 EB1E  CD EBE8     	CALL RLDMA
 1774 EB21  23          	INC HL
 1775 EB22  E3          	EX (SP),HL
 1776 EB23  CD C8BE     	CALL 0C8BEH
 1777 EB26  28 08       	JR Z,SND3
 1778 EB28  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1779 EB2B  E3          	EX (SP),HL
 1780 EB2C  CD EBE8     	CALL RLDMA
 1781 EB2F  E3          	EX (SP),HL
 1782 EB30  1E 35       SND3:	LD E,35H
 1783 EB32  C1          	POP BC
 1784 EB33  C3 F027     	JP PV5
 1785                    
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  32
CAOSEI  ASM

 1786 EB36  1E 2F       PRES:	LD E,2FH
 1787 EB38  01          	DEFB 1
 1788 EB39  1E 30       PSET:	LD E,30H
 1789 EB3B  D5          	PUSH DE
 1790 EB3C  CD C96C     	CALL 0C96CH	;EPRVL4
 1791 EB3F  E5          	PUSH HL
 1792 EB40  21 B7D3     	LD HL,0B7D3H	;HOR
 1793 EB43  CD EC33     	CALL LDMDE
 1794 EB46  E3          	EX (SP),HL
 1795 EB47  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1796 EB4A  E3          	EX (SP),HL
 1797 EB4B  CD EBE8     	CALL RLDMA
 1798 EB4E  E1          	POP HL
 1799 EB4F  CD EB59     	CALL SUCOL
 1800 EB52  D1          	POP DE
 1801 EB53  CD F027     PNT2:	CALL PV5
 1802 EB56  D0          	RET NC
 1803 EB57  18 85       	JR SNERR3
 1804                    
 1805 EB59  CD C8BE     SUCOL:	CALL 0C8BEH
 1806 EB5C  C8          	RET Z
 1807 EB5D  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1808 EB60  E5          	PUSH HL
 1809 EB61  21 B7D6     	LD HL,0B7D6H
 1810 EB64  07          	RLCA
 1811 EB65  07          	RLCA
 1812 EB66  07          	RLCA
 1813 EB67  C3 EAA7     	JP JLDMA
 1814                    
 1815 EB6A  CD CD36     INSTR:	CALL 0CD36H
 1816 EB6D  CD C8D6     	CALL 0C8D6H
 1817 EB70  E5          	PUSH HL
 1818 EB71  CD D330     	CALL 0D330H
 1819 EB74  28 17       	JR Z,FCERR
 1820 EB76  47          	LD B,A
 1821 EB77  23          	INC HL
 1822 EB78  23          	INC HL
 1823 EB79  5E          	LD E,(HL)
 1824 EB7A  23          	INC HL
 1825 EB7B  56          	LD D,(HL)
 1826 EB7C  E1          	POP HL
 1827 EB7D  D5          	PUSH DE
 1828 EB7E  C5          	PUSH BC
 1829 EB7F  CD CD3A     	CALL 0CD3AH
 1830 EB82  CD C8DB     	CALL 0C8DBH
 1831 EB85  C1          	POP BC
 1832 EB86  D1          	POP DE
 1833 EB87  E5          	PUSH HL
 1834 EB88  D5          	PUSH DE
 1835 EB89  C5          	PUSH BC
 1836 EB8A  CD D330     	CALL 0D330H
 1837 EB8D  CA C967     FCERR:	JP Z,0C967H
 1838 EB90  23          	INC HL
 1839 EB91  23          	INC HL
 1840 EB92  4E          	LD C,(HL)
 1841 EB93  23          	INC HL
 1842 EB94  66          	LD H,(HL)
 1843 EB95  69          	LD L,C
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  33
CAOSEI  ASM

 1844 EB96  C1          	POP BC
 1845 EB97  4F          	LD C,A
 1846 EB98  D1          	POP DE
 1847 EB99  E5          	PUSH HL
 1848 EB9A  C5          ISTR1:	PUSH BC
 1849 EB9B  D5          	PUSH DE
 1850 EB9C  1A          	LD A,(DE)
 1851 EB9D  BE          ISTR2:	CP (HL)
 1852 EB9E  28 0F       	JR Z,ISTR5
 1853 EBA0  23          	INC HL
 1854 EBA1  0D          	DEC C
 1855 EBA2  20 F9       	JR NZ,ISTR2
 1856 EBA4  AF          ISTR3:	XOR A
 1857 EBA5  E1          	POP HL
 1858 EBA6  E1          	POP HL
 1859 EBA7  E1          	POP HL
 1860 EBA8  11 CDF3     ISTR4:	LD DE,0CDF3H
 1861 EBAB  D5          	PUSH DE
 1862 EBAC  C3 D0C0     	JP 0D0C0H
 1863                    
 1864 EBAF  23          ISTR5:	INC HL
 1865 EBB0  E5          	PUSH HL
 1866 EBB1  2B          	DEC HL
 1867 EBB2  23          ISTR6:	INC HL
 1868 EBB3  0D          	DEC C
 1869 EBB4  28 0F       	JR Z,ISTR7
 1870 EBB6  13          	INC DE
 1871 EBB7  05          	DEC B
 1872 EBB8  28 12       	JR Z,ISTR8
 1873 EBBA  1A          	LD A,(DE)
 1874 EBBB  BE          	CP (HL)
 1875 EBBC  28 F4       	JR Z,ISTR6
 1876 EBBE  E1          	POP HL
 1877 EBBF  D1          	POP DE
 1878 EBC0  79          	LD A,C
 1879 EBC1  C1          	POP BC
 1880 EBC2  4F          	LD C,A
 1881 EBC3  18 D5       	JR ISTR1
 1882                    
 1883 EBC5  13          ISTR7:	INC DE
 1884 EBC6  05          	DEC B
 1885 EBC7  E1          	POP HL
 1886 EBC8  20 DA       	JR NZ,ISTR3
 1887 EBCA  18 01       	JR ISTR9
 1888                    
 1889 EBCC  E1          ISTR8:	POP HL
 1890 EBCD  D1          ISTR9:	POP DE
 1891 EBCE  D1          	POP DE
 1892 EBCF  D1          	POP DE
 1893 EBD0  A7          	AND A
 1894 EBD1  ED 52       	SBC HL,DE
 1895 EBD3  7D          	LD A,L
 1896 EBD4  18 D2       	JR ISTR4
 1897                    
 1898 EBD6  CD D421     BKEY:	CALL 0D421H
 1899 EBD9  FE 0D       	CP 0DH
 1900 EBDB  30 53       	JR NC,SNERR4
 1901 EBDD  1E 39       	LD E,39H
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  34
CAOSEI  ASM

 1902 EBDF  01          	DEFB 1
 1903 EBE0  1E 3A       KLST:	LD E,3AH
 1904 EBE2  01          	DEFB 1
 1905 EBE3  1E 29       RLDAM:	LD E,29H
 1906 EBE5  C3 F027     JPV5:	JP PV5
 1907                    
 1908 EBE8  1E 28       RLDMA:	LD E,28H
 1909 EBEA  18 F9       	JR JPV5
 1910                    
 1911 EBEC  CD D421     SWTCH:	CALL 0D421H
 1912 EBEF  F5          	PUSH AF
 1913 EBF0  CD E9B7     	CALL MC8D4	;CPCOM/ARGVL1
 1914 EBF3  57          	LD D,A
 1915 EBF4  F1          	POP AF
 1916 EBF5  E5          	PUSH HL
 1917 EBF6  6F          	LD L,A
 1918 EBF7  3E 02       	LD A,2
 1919 EBF9  1E 26       	LD E,26H
 1920 EBFB  CD F027     	CALL PV5
 1921 EBFE  E1          	POP HL
 1922 EBFF  C9          	RET
 1923                    
 1924 EC00  CD CDE1     PTEST:	CALL 0CDE1H
 1925 EC03  E3          	EX (SP),HL
 1926 EC04  11 CDF3     	LD DE,0CDF3H
 1927 EC07  D5          	PUSH DE
 1928 EC08  CD C96F     	CALL 0C96FH
 1929 EC0B  E5          	PUSH HL
 1930 EC0C  21 B7D3     	LD HL,0B7D3H
 1931 EC0F  CD EC33     	CALL LDMDE
 1932 EC12  CD F078     	CALL IRMON
 1933 EC15  1E 2F       	LD E,2FH
 1934 EC17  CD F063     	CALL PV3
 1935 EC1A  38 0D       	JR C,PTST2
 1936 EC1C  06 00       	LD B,0
 1937 EC1E  28 08       	JR Z,PTST1
 1938 EC20  23          	INC HL
 1939 EC21  77          	LD (HL),A
 1940 EC22  1C          	INC E
 1941 EC23  CD F063     	CALL PV3
 1942 EC26  06 01       	LD B,1
 1943 EC28  78          PTST1:	LD A,B
 1944 EC29  CD F091     PTST2:	CALL IRMOFF
 1945 EC2C  E1          	POP HL
 1946 EC2D  D2 D3E9     	JP NC,0D3E9H
 1947                    
 1948 EC30  C3 C348     SNERR4:	JP 0C348H
 1949                    
 1950 EC33  7B          LDMDE:	LD A,E
 1951 EC34  CD EBE8     	CALL RLDMA
 1952 EC37  23          	INC HL
 1953 EC38  7A          	LD A,D
 1954 EC39  CD EBE8     	CALL RLDMA
 1955 EC3C  23          	INC HL
 1956 EC3D  C9          	RET
 1957                    
 1958 EC3E  0E 00       CLOSE:	LD C,0
 1959 EC40  7E          	LD A,(HL)
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  35
CAOSEI  ASM

 1960 EC41  FE 49       	CP 'I'
 1961 EC43  28 05       	JR Z,CL1
 1962 EC45  0C          	INC C
 1963 EC46  FE 4F       	CP 'O'
 1964 EC48  20 E6       	JR NZ,SNERR4
 1965 EC4A  C5          CL1:	PUSH BC
 1966 EC4B  23          	INC HL
 1967 EC4C  7E          	LD A,(HL)
 1968 EC4D  FE 23       	CP '#'
 1969 EC4F  20 DF       CL2:	JR NZ,SNERR4
 1970 EC51  23          	INC HL
 1971 EC52  CD D421     	CALL 0D421H
 1972 EC55  E6 03       	AND 3
 1973 EC57  C1          	POP BC
 1974 EC58  C8          	RET Z
 1975 EC59  E5          	PUSH HL
 1976 EC5A  CB 17       	RL A
 1977 EC5C  81          	ADD C
 1978 EC5D  F5          	PUSH AF
 1979 EC5E  3D          	DEC A
 1980 EC5F  06 00       	LD B,0
 1981 EC61  37          	SCF
 1982 EC62  CB 10       CL3:	RL B
 1983 EC64  3D          	DEC A
 1984 EC65  20 FB       	JR NZ,CL3
 1985 EC67  21 0307     	LD HL,307H
 1986 EC6A  7E          	LD A,(HL)
 1987 EC6B  A8          	XOR B
 1988 EC6C  77          	LD (HL),A
 1989 EC6D  F1          	POP AF
 1990 EC6E  E1          	POP HL
 1991 EC6F  CB F7       	SET 6,A
 1992 EC71  D5          	PUSH DE
 1993 EC72  5F          	LD E,A
 1994 EC73  16 03       	LD D,3
 1995 EC75  CD E5FE     	CALL BASPV
 1996 EC78  D1          	POP DE
 1997 EC79  C9          	RET
 1998                    
 1999 EC7A  ED 5F       RND:	LD A,R
 2000 EC7C  32 031D     	LD (31DH),A
 2001 EC7F  C9          	RET
 2002                    
 2003 EC80  7E          OPEN:	LD A,(HL)
 2004 EC81  23          	INC HL
 2005 EC82  FE 49       	CP 'I'
 2006 EC84  28 19       	JR Z,OPENI
 2007 EC86  FE 4F       	CP 'O'
 2008 EC88  20 C5       	JR NZ,CL2
 2009 EC8A  CD DE25     	CALL 0DE25H
 2010 EC8D  CD DDC8     	CALL 0DDC8H
 2011 EC90  C8          	RET Z
 2012 EC91  3E D5       	LD A,0D5H
 2013 EC93  CD DCB2     	CALL 0DCB2H
 2014 EC96  21 03EA     	LD HL,3EAH
 2015 EC99  AF          	XOR A
 2016 EC9A  CD DDD5     	CALL 0DDD5H
 2017 EC9D  E1          	POP HL
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  36
CAOSEI  ASM

 2018 EC9E  C9          	RET
 2019                    
 2020 EC9F  CD DE5F     OPENI:	CALL 0DE5FH
 2021 ECA2  3A 0309     	LD A,(309H)
 2022 ECA5  E6 03       	AND 3
 2023 ECA7  C8          	RET Z
 2024 ECA8  3E D5       	LD A,0D5H
 2025 ECAA  CD DCB2     	CALL 0DCB2H
 2026 ECAD  21 03EA     	LD HL,3EAH
 2027 ECB0  CD DDE4     	CALL 0DDE4H
 2028 ECB3  E1          	POP HL
 2029 ECB4  C9          	RET
 2030                    
 2031 ECB5  01 043E     BLINE:	LD BC,43EH
 2032 ECB8  18 03       	JR PIC1
 2033                    
 2034 ECBA  01 033F     CIRCL:	LD BC,33FH
 2035                    
 2036 ECBD  C5          PIC1:	PUSH BC
 2037 ECBE  CD C96C     	CALL 0C96CH
 2038 ECC1  C1          	POP BC
 2039 ECC2  C5          	PUSH BC
 2040 ECC3  E5          	PUSH HL
 2041 ECC4  21 B782     	LD HL,0B782H
 2042 ECC7  CD EC33     PIC2:	CALL LDMDE
 2043 ECCA  05          	DEC B
 2044 ECCB  28 0C       	JR Z,PIC3
 2045 ECCD  E3          	EX (SP),HL
 2046 ECCE  C5          	PUSH BC
 2047 ECCF  CD C8D6     	CALL 0C8D6H
 2048 ECD2  CD C96C     	CALL 0C96CH
 2049 ECD5  C1          	POP BC
 2050 ECD6  E3          	EX (SP),HL
 2051 ECD7  18 EE       	JR PIC2
 2052                    
 2053 ECD9  E1          PIC3:	POP HL
 2054 ECDA  CD EB59     	CALL SUCOL
 2055 ECDD  D1          	POP DE
 2056 ECDE  C3 F027     	JP PV5
 2057                    
 2058 ECE1  CD CDE1     CSRLIN:	CALL 0CDE1H
 2059 ECE4  E3          	EX (SP),HL
 2060 ECE5  11 CDF3     	LD DE,0CDF3H
 2061 ECE8  D5          	PUSH DE
 2062 ECE9  CD D424     	CALL 0D424H
 2063 ECEC  E5          	PUSH HL
 2064 ECED  A7          	AND A
 2065 ECEE  3E 00       	LD A,0
 2066 ECF0  21 B79D     	LD HL,0B79DH
 2067 ECF3  CC EBE3     	CALL Z,RLDAM
 2068 ECF6  47          	LD B,A
 2069 ECF7  2E A1       	LD L,0A1H
 2070 ECF9  CD EBE3     	CALL RLDAM
 2071 ECFC  80          	ADD B
 2072 ECFD  E1          	POP HL
 2073 ECFE  C3 D3E9     	JP 0D3E9H
 2074                    
 2075 ED01  E3          VGET:	EX (SP),HL
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  37
CAOSEI  ASM

 2076 ED02  3E 01       	LD A,1
 2077 ED04  CD D17B     	CALL 0D17BH
 2078 ED07  CD F078     	CALL IRMON
 2079 ED0A  ED 5B B7A0  	LD DE,(0B7A0H)
 2080 ED0E  CD E0BD     	CALL DABR
 2081 ED11  7E          	LD A,(HL)
 2082 ED12  CD F091     	CALL IRMOFF
 2083 ED15  C3 EAEF     	JP AKTCHR
 2084                    
 2085                   ;	BASIC-TOKEN
 2086                   ;	===========
 2087                    
 2088 ED18  C9          TOKTAB:	DEFB 'I'+80H	;TOKEN AB D5
 2089 ED19  4E 4B 45 59 	DEFM 'NKEY$'
 2090 ED1E  CA          	DEFB 'J'+80H
 2091 ED1F  4F 59 53 54 	DEFM 'OYST'
 2092 ED23  D3          	DEFB 'S'+80H
 2093 ED24  54 52 49 4E 	DEFM 'TRING$'
 2094 ED2A  C9          	DEFB 'I'+80H
 2095 ED2B  4E 53 54 52 	DEFM 'NSTR'
 2096 ED2F  D2          	DEFB 'R'+80H
 2097 ED30  45 4E 55 4D 	DEFM 'ENUMBER'
 2098 ED37  C4          	DEFB 'D'+80H
 2099 ED38  45 4C 45 54 	DEFM 'ELETE'
 2100 ED3D  D0          	DEFB 'P'+80H
 2101 ED3E  41 55 53 45 	DEFM 'AUSE'
 2102 ED42  C2          	DEFB 'B'+80H
 2103 ED43  45 45 50    	DEFM 'EEP'
 2104 ED46  D7          	DEFB 'W'+80H
 2105 ED47  49 4E 44 4F 	DEFM 'INDOW'
 2106 ED4C  C2          	DEFB 'B'+80H
 2107 ED4D  4F 52 44 45 	DEFM 'ORDER'
 2108 ED52  C9          	DEFB 'I'+80H
 2109 ED53  4E 4B       	DEFM 'NK'
 2110 ED55  D0          	DEFB 'P'+80H
 2111 ED56  41 50 45 52 	DEFM 'APER'
 2112 ED5A  C1          	DEFB 'A'+80H
 2113 ED5B  54          	DEFM 'T'
 2114 ED5C  C3          	DEFB 'C'+80H
 2115 ED5D  4F 4C 4F 52 	DEFM 'OLOR'
 2116 ED61  D3          	DEFB 'S'+80H
 2117 ED62  4F 55 4E 44 	DEFM 'OUND'
 2118 ED66  D0          	DEFB 'P'+80H
 2119 ED67  53 45 54    	DEFM 'SET'
 2120 ED6A  D0          	DEFB 'P'+80H
 2121 ED6B  52 45 53 45 	DEFM 'RESET'
 2122 ED70  C2          	DEFB 'B'+80H
 2123 ED71  4C 4F 41 44 	DEFM 'LOAD'
 2124 ED75  D6          	DEFB 'V'+80H
 2125 ED76  50 45 45 4B 	DEFM 'PEEK'
 2126 ED7A  D6          	DEFB 'V'+80H
 2127 ED7B  50 4F 4B 45 	DEFM 'POKE'
 2128 ED7F  CC          	DEFB 'L'+80H
 2129 ED80  4F 43 41 54 	DEFM 'OCATE'
 2130 ED85  CB          	DEFB 'K'+80H
 2131 ED86  45 59 4C 49 	DEFM 'EYLIST'
 2132 ED8C  CB          	DEFB 'K'+80H
 2133 ED8D  45 59       	DEFM 'EY'
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  38
CAOSEI  ASM

 2134 ED8F  D3          	DEFB 'S'+80H
 2135 ED90  57 49 54 43 	DEFM 'WITCH'
 2136 ED95  D0          	DEFB 'P'+80H
 2137 ED96  54 45 53 54 	DEFM 'TEST'
 2138 ED9A  C3          	DEFB 'C'+80H
 2139 ED9B  4C 4F 53 45 	DEFM 'LOSE'
 2140 ED9F  CF          	DEFB 'O'+80H
 2141 EDA0  50 45 4E    	DEFM 'PEN'
 2142 EDA3  D2          	DEFB 'R'+80H
 2143 EDA4  41 4E 44 4F 	DEFM 'ANDOMIZE'
 2144 EDAC  D6          	DEFB 'V'+80H
 2145 EDAD  47 45 54 24 	DEFM 'GET$'
 2146 EDB1  CC          	DEFB 'L'+80H
 2147 EDB2  49 4E 45    	DEFM 'INE'
 2148 EDB5  C3          	DEFB 'C'+80H
 2149 EDB6  49 52 43 4C 	DEFM 'IRCLE'
 2150 EDBB  C3          	DEFB 'C'+80H
 2151 EDBC  53 52 4C 49 	DEFM 'SRLIN'
 2152 EDC1  80          	DEFB 80H	;ENDE-BYTE
 2153                    
 2154 EDC2  EAE1        TOKADR:	DEFW INKEY
 2155 EDC4  02FD        	DEFW 2FDH	;JOY
 2156 EDC6  E714        	DEFW STR
 2157 EDC8  EB6A        	DEFW INSTR
 2158 EDCA  E773        TADR5:	DEFW REN
 2159 EDCC  E952        	DEFW DLTE
 2160 EDCE  E977        	DEFW PAUSE
 2161 EDD0  E9A2        	DEFW BEEP
 2162 EDD2  E9BD        	DEFW WNDW
 2163 EDD4  D421        	DEFW 0D421H	;BORDER
 2164 EDD6  EA83        	DEFW INK
 2165 EDD8  EA95        	DEFW PAPER
 2166 EDDA  C348        	DEFW 0C348H	;AT
 2167 EDDC  EAAC        	DEFW COLR
 2168 EDDE  EAFC        	DEFW SOUND
 2169 EDE0  EB39        	DEFW PSET
 2170 EDE2  EB36        	DEFW PRES
 2171 EDE4  E9F9        	DEFW BLOAD
 2172 EDE6  C348        	DEFW 0C348H	;VPEEK
 2173 EDE8  EA24        	DEFW VPOKE
 2174 EDEA  EAC4        	DEFW LOCAT
 2175 EDEC  EBE0        	DEFW KLST
 2176 EDEE  EBD6        	DEFW BKEY
 2177 EDF0  EBEC        	DEFW SWTCH
 2178 EDF2  C348        	DEFW 0C348H	;PTEST
 2179 EDF4  EC3E        	DEFW CLOSE
 2180 EDF6  EC80        	DEFW OPEN
 2181 EDF8  EC7A        	DEFW RND
 2182 EDFA  C348        	DEFW 0C348H	;VGET
 2183 EDFC  ECB5        	DEFW BLINE
 2184 EDFE  ECBA        	DEFW CIRCL
 2185                    
 2186                   ;	END
   14                   include zsgross.inc
    1                   ;*****************************************
    2                   ;**	CAOS 4.8 Zeichensatz Gross	**
    3                   ;**					**
    4                   ;**	Adresse:  EE00h bis EFFFh	**
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  39
ZSGROSS INC

    5                   ;**	Codes 20h-5Fh			**
    6                   ;**					**
    7                   ;**	letzte Aenderung: 31.03.2018	**
    8                   ;*****************************************
    9                   ;
   10                   ; 05.02.2018 geaendert (alle Zeichen links/oben):
   11                   ; Codes fuer 22h, 24h
   12                   
   13 EE00  00 00 00 00 	DB	000H, 000H, 000H, 000H, 000H, 000H, 000H, 000H	; 20H
   14 EE08  30 78 78 30 	DB	030H, 078H, 078H, 030H, 030H, 000H, 030H, 000H	; 21H !
   15 EE10  EE 66 CC 00 	DB	0EEH, 066H, 0CCH, 000H, 000H, 000H, 000H, 000H	; 22H "
   16 EE18  36 36 FE 6C 	DB	036H, 036H, 0FEH, 06CH, 0FEH, 0D8H, 0D8H, 000H	; 23H #
   17                   ;	DB	030H, 07CH, 0D8H, 07CH, 036H, 036H, 0FCH, 030H	; 24H $
   18 EE20  30 7C D0 7C 	DB	030H, 07CH, 0D0H, 07CH, 036H, 0FCH, 030H, 000H	; 24H $
   19 EE28  00 C6 CC 18 	DB	000H, 0C6H, 0CCH, 018H, 030H, 066H, 0C6H, 000H	; 25H %
   20 EE30  38 6C 38 76 	DB	038H, 06CH, 038H, 076H, 0DCH, 0CCH, 076H, 000H	; 26H &
   21 EE38  1C 0C 18 00 	DB	01CH, 00CH, 018H, 000H, 000H, 000H, 000H, 000H	; 27H '
   22 EE40  18 30 60 60 	DB	018H, 030H, 060H, 060H, 060H, 030H, 018H, 000H	; 28H (
   23 EE48  60 30 18 18 	DB	060H, 030H, 018H, 018H, 018H, 030H, 060H, 000H	; 29H )
   24 EE50  00 66 3C FF 	DB	000H, 066H, 03CH, 0FFH, 03CH, 066H, 000H, 000H	; 2AH *
   25 EE58  00 30 30 FC 	DB	000H, 030H, 030H, 0FCH, 030H, 030H, 000H, 000H	; 2BH +
   26 EE60  00 00 00 00 	DB	000H, 000H, 000H, 000H, 000H, 01CH, 00CH, 018H	; 2CH ,
   27 EE68  00 00 00 FE 	DB	000H, 000H, 000H, 0FEH, 000H, 000H, 000H, 000H	; 2DH -
   28 EE70  00 00 00 00 	DB	000H, 000H, 000H, 000H, 000H, 030H, 030H, 000H	; 2EH .
   29 EE78  06 0C 18 30 	DB	006H, 00CH, 018H, 030H, 060H, 0C0H, 080H, 000H	; 2FH /
   30                   
   31 EE80  7C C6 CE DE 	DB	07CH, 0C6H, 0CEH, 0DEH, 0F6H, 0E6H, 07CH, 000H	; 30H 0
   32 EE88  30 70 30 30 	DB	030H, 070H, 030H, 030H, 030H, 030H, 0FCH, 000H	; 31H 1
   33 EE90  78 CC 0C 38 	DB	078H, 0CCH, 00CH, 038H, 060H, 0CCH, 0FCH, 000H	; 32H 2
   34 EE98  FC 18 30 78 	DB	0FCH, 018H, 030H, 078H, 00CH, 0CCH, 078H, 000H	; 33H 3
   35 EEA0  1C 3C 6C CC 	DB	01CH, 03CH, 06CH, 0CCH, 0FEH, 00CH, 01EH, 000H	; 34H 4
   36 EEA8  FC C0 F8 0C 	DB	0FCH, 0C0H, 0F8H, 00CH, 00CH, 0CCH, 078H, 000H	; 35H 5
   37 EEB0  38 60 C0 F8 	DB	038H, 060H, 0C0H, 0F8H, 0CCH, 0CCH, 078H, 000H	; 36H 6
   38 EEB8  FC CC 0C 18 	DB	0FCH, 0CCH, 00CH, 018H, 030H, 030H, 030H, 000H	; 37H 7
   39 EEC0  78 CC CC 78 	DB	078H, 0CCH, 0CCH, 078H, 0CCH, 0CCH, 078H, 000H	; 38H 8
   40 EEC8  78 CC CC 7C 	DB	078H, 0CCH, 0CCH, 07CH, 00CH, 018H, 070H, 000H	; 39H 9
   41 EED0  00 00 30 30 	DB	000H, 000H, 030H, 030H, 000H, 030H, 030H, 000H	; 3AH :
   42 EED8  00 00 30 30 	DB	000H, 000H, 030H, 030H, 000H, 030H, 030H, 060H	; 3BH ;
   43 EEE0  18 30 60 C0 	DB	018H, 030H, 060H, 0C0H, 060H, 030H, 018H, 000H	; 3CH <
   44 EEE8  00 00 FC 00 	DB	000H, 000H, 0FCH, 000H, 0FCH, 000H, 000H, 000H	; 3DH =
   45 EEF0  60 30 18 0C 	DB	060H, 030H, 018H, 00CH, 018H, 030H, 060H, 000H	; 3EH >
   46 EEF8  78 CC 0C 18 	DB	078H, 0CCH, 00CH, 018H, 030H, 000H, 030H, 000H	; 3FH ?
   47                   
   48 EF00  7C C6 DE D6 	DB	07CH, 0C6H, 0DEH, 0D6H, 0DEH, 0C0H, 078H, 000H	; 40H @
   49 EF08  30 78 CC CC 	DB	030H, 078H, 0CCH, 0CCH, 0FCH, 0CCH, 0CCH, 000H	; 41H A
   50 EF10  FC 66 66 7C 	DB	0FCH, 066H, 066H, 07CH, 066H, 066H, 0FCH, 000H	; 42H B
   51 EF18  3C 66 C0 C0 	DB	03CH, 066H, 0C0H, 0C0H, 0C0H, 066H, 03CH, 000H	; 43H C
   52 EF20  F8 6C 66 66 	DB	0F8H, 06CH, 066H, 066H, 066H, 06CH, 0F8H, 000H	; 44H D
   53 EF28  FE 62 68 78 	DB	0FEH, 062H, 068H, 078H, 068H, 062H, 0FEH, 000H	; 45H E
   54 EF30  FE 62 68 78 	DB	0FEH, 062H, 068H, 078H, 068H, 060H, 0F0H, 000H	; 46H F
   55 EF38  3C 66 C0 C0 	DB	03CH, 066H, 0C0H, 0C0H, 0CEH, 066H, 03CH, 000H	; 47H G
   56 EF40  CC CC CC FC 	DB	0CCH, 0CCH, 0CCH, 0FCH, 0CCH, 0CCH, 0CCH, 000H	; 48H H
   57 EF48  78 30 30 30 	DB	078H, 030H, 030H, 030H, 030H, 030H, 078H, 000H	; 49H I
   58 EF50  1E 0C 0C 0C 	DB	01EH, 00CH, 00CH, 00CH, 0CCH, 0CCH, 078H, 000H	; 4AH J
   59 EF58  E6 66 6C 70 	DB	0E6H, 066H, 06CH, 070H, 06CH, 066H, 0E6H, 000H	; 4BH K
   60 EF60  F0 60 60 60 	DB	0F0H, 060H, 060H, 060H, 062H, 066H, 0FEH, 000H	; 4CH L
   61 EF68  C6 EE FE D6 	DB	0C6H, 0EEH, 0FEH, 0D6H, 0C6H, 0C6H, 0C6H, 000H	; 4DH M
   62 EF70  C6 E6 F6 DE 	DB	0C6H, 0E6H, 0F6H, 0DEH, 0CEH, 0C6H, 0C6H, 000H	; 4EH N
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  40
ZSGROSS INC

   63 EF78  38 6C C6 C6 	DB	038H, 06CH, 0C6H, 0C6H, 0C6H, 06CH, 038H, 000H	; 4FH O
   64                   
   65 EF80  FC 66 66 7C 	DB	0FCH, 066H, 066H, 07CH, 060H, 060H, 0F0H, 000H	; 50H P
   66 EF88  78 CC CC CC 	DB	078H, 0CCH, 0CCH, 0CCH, 0DCH, 078H, 01CH, 000H	; 51H Q
   67 EF90  FC 66 66 7C 	DB	0FCH, 066H, 066H, 07CH, 06CH, 066H, 0E6H, 000H	; 52H R
   68 EF98  7C C6 F0 3C 	DB	07CH, 0C6H, 0F0H, 03CH, 00EH, 0C6H, 07CH, 000H	; 53H S
   69 EFA0  FC B4 30 30 	DB	0FCH, 0B4H, 030H, 030H, 030H, 030H, 078H, 000H	; 54H T
   70 EFA8  CC CC CC CC 	DB	0CCH, 0CCH, 0CCH, 0CCH, 0CCH, 0CCH, 078H, 000H	; 55H U
   71 EFB0  CC CC CC 78 	DB	0CCH, 0CCH, 0CCH, 078H, 078H, 030H, 030H, 000H	; 56H V
   72 EFB8  C6 C6 C6 D6 	DB	0C6H, 0C6H, 0C6H, 0D6H, 0FEH, 0EEH, 0C6H, 000H	; 57H W
   73 EFC0  C6 C6 6C 38 	DB	0C6H, 0C6H, 06CH, 038H, 06CH, 0C6H, 0C6H, 000H	; 58H X
   74 EFC8  CC CC CC 78 	DB	0CCH, 0CCH, 0CCH, 078H, 030H, 030H, 078H, 000H	; 59H Y
   75 EFD0  FE C6 8C 18 	DB	0FEH, 0C6H, 08CH, 018H, 032H, 066H, 0FEH, 000H	; 5AH Z
   76 EFD8  FF FF FF FF 	DB	0FFH, 0FFH, 0FFH, 0FFH, 0FFH, 0FFH, 0FFH, 0FFH	; 5BH Vollzeichen
   77 EFE0  18 18 18 18 	DB	018H, 018H, 018H, 018H, 018H, 018H, 018H, 000H	; 5CH senkr. Strich
   78 EFE8  00 FE 06 06 	DB	000H, 0FEH, 006H, 006H, 000H, 000H, 000H, 000H	; 5DH Negationszeichen
   79 EFF0  10 38 6C C6 	DB	010H, 038H, 06CH, 0C6H, 000H, 000H, 000H, 000H	; 5EH ^
   80 EFF8  00 00 00 00 	DB	000H, 000H, 000H, 000H, 000H, 000H, 000H, 0FFH	; 5FH _
   15                   include	caosfvi.asm		; ROM-F
    1                   ;	CAOS 3.4 - ROM F
    2                   ;	Version V.24 / RS 232
    3                   ;
    4                   ;	Date: 11.06.1991  (c) by '#+$'
    5                   ;	Intern-Version
    6                   ;(Direkteinbau in KC85/3)
    7                   ;
    8         0008      SIO	EQU 008H	;SIO PORT A
    9         000C      CTC	EQU 00CH	;SIO-CTC
   10                   ; StrukturByte des Interface-Moduls
   11         01EE      UMODL	EQU 1EEH	;M003 V24
   12                   
   13         F000      	ORG 0F000H
   14                    
   15 F000  C3 F160     PRESET:	JP PWRON	;>> POWER ON <<
   16 F003  C3 F047     	JP PV1		;DEFB NR
   17 F006  18 5D       	JR PV2		;(ARGC)
   18 F008  00          ZEI0:	DEFB 0
   19 F009  18 58       	JR PV3		;REG. E
   20 F00B  02          ZEI2:	DEFB 2
   21 F00C  18 25       	JR PV4		;+IRM
   22 F00E  04          ZEI4:	DEFB 4
   23 F00F  C3 F0B1     	JP RCALL
   24 F012  C3 F179     	JP NEWOS	;>JUMP<
   25 F015  C3 F027     	JP PV5		;(ARGC)
   26 F018  C3 F078     	JP IRMON
   27 F01B  C3 F091     	JP IRMOFF
   28                    
   29 F01E  C5          PV6:	PUSH BC		;*** PV 6 ***
   30 F01F  CD F078     	CALL IRMON
   31 F022  CD F065     	CALL PV2
   32 F025  18 07       	JR PV51
   33                    
   34 F027  C5          PV5:	PUSH BC		;*** PV 5 ***
   35 F028  CD F078     	CALL IRMON
   36 F02B  CD F063     	CALL PV3
   37 F02E  CD F091     PV51: 	CALL IRMOFF
   38 F031  C1          	POP BC
   39 F032  C9          	RET
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  41
CAOSFVI ASM

   40                    
   41 F033  F5          PV4:	PUSH AF		;*** PV 4 ***
   42 F034  DB 88       	IN A,(88H)
   43 F036  F6 04       	OR 4
   44 F038  D3 88       	OUT (88H),A
   45 F03A  F1          	POP AF
   46 F03B  CD F063     	CALL PV3
   47 F03E  F5          SCROFF:	PUSH AF
   48 F03F  DB 88       	IN A,(88H)
   49 F041  E6 FB       	AND 0FBH
   50 F043  D3 88       	OUT (88H),A
   51 F045  F1          	POP AF
   52 F046  C9          	RET
   53                    
   54 F047  E5          PV1:	PUSH HL		;*** PV 1 ***
   55 F048  F3          	DI
   56 F049  E1          	POP HL
   57 F04A  E1          	POP HL
   58 F04B  23          	INC HL
   59 F04C  E5          	PUSH HL
   60 F04D  2B          	DEC HL
   61 F04E  3B          	DEC SP
   62 F04F  3B          	DEC SP
   63 F050  FB          	EI
   64 F051  D5          TABJP:	PUSH DE
   65 F052  5E          	LD E,(HL)
   66 F053  16 00       PV11:	LD D,0
   67 F055  2A B7B0     	LD HL,(0B7B0H)
   68 F058  F5          	PUSH AF
   69 F059  19          	ADD HL,DE
   70 F05A  19          	ADD HL,DE
   71 F05B  F1          	POP AF
   72 F05C  5E          	LD E,(HL)
   73 F05D  23          	INC HL
   74 F05E  56          	LD D,(HL)
   75 F05F  EB          	EX DE,HL
   76 F060  D1          	POP DE
   77 F061  E3          PV1END:	EX (SP),HL
   78 F062  C9          	RET
   79                    
   80 F063  37          PV3:	SCF		;*** PV 3 ***
   81 F064  ED          	DEFB 0EDH
   82 F065  A7          PV2:	AND A		;*** PV 2 ***
   83 F066  E5          PV21:	PUSH HL
   84 F067  D5          	PUSH DE
   85 F068  C5          	PUSH BC
   86 F069  E5          	PUSH HL
   87 F06A  21 E17C     	LD HL,POPS3
   88 F06D  E3          	EX (SP),HL
   89 F06E  E5          	PUSH HL
   90 F06F  D5          	PUSH DE
   91 F070  38 E1       	JR C,PV11
   92 F072  ED 5B B780  	LD DE,(0B780H)
   93 F076  18 DB       	JR PV11
   94                    
   95 F078  C1          IRMON:	POP BC		;*** IRM ON ***
   96 F079  F3          	DI
   97 F07A  DD 77 0B    	LD (IX+0BH),A
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  42
CAOSFVI ASM

   98 F07D  DB 88       	IN A,(88H)
   99 F07F  CB D7       	SET 2,A
  100 F081  D3 88       	OUT (88H),A
  101 F083  ED 73 B7CB  	LD (0B7CBH),SP
  102 F087  ED 7B B7AE  	LD SP,(0B7AEH)
  103 F08B  DD 7E 0B    OFFEND:	LD A,(IX+0BH)
  104 F08E  FB          	EI
  105 F08F  C5          	PUSH BC
  106 F090  C9          	RET
  107                    
  108 F091  C1          IRMOFF:	POP BC		;*** IRM OFF ***
  109 F092  F3          	DI
  110 F093  ED 7B B7CB  	LD SP,(0B7CBH)
  111 F097  DD 77 0B    	LD (IX+0BH),A
  112 F09A  DB 88       	IN A,(88H)
  113 F09C  CB 97       	RES 2,A
  114 F09E  D3 88       	OUT (88H),A
  115 F0A0  18 E9       	JR OFFEND
  116                    
  117 F0A2  E5          INTB:	PUSH HL		;UP 16 INTB
  118 F0A3  2A B7BB     	LD HL,(0B7BBH)	;INTAB
  119 F0A6  18 A9       	JR TABJP
  120                    
  121 F0A8  3A B7D9     OCHRP:	LD A,(0B7D9H)
  122 F0AB  E5          OCHR:	PUSH HL		;UP 24 OCHR
  123 F0AC  2A B7B9     	LD HL,(0B7B9H)	;OUTAB
  124 F0AF  18 A0       	JR TABJP
  125                    
  126 F0B1  E3          RCALL:	EX (SP),HL	;*** RCALL ***
  127 F0B2  5E          	LD E,(HL)
  128 F0B3  23          	INC HL
  129 F0B4  56          	LD D,(HL)
  130 F0B5  23          	INC HL
  131 F0B6  EB          	EX DE,HL
  132 F0B7  19          	ADD HL,DE
  133 F0B8  EB          	EX DE,HL
  134 F0B9  E3          	EX (SP),HL
  135 F0BA  D5          	PUSH DE
  136 F0BB  C9          	RET
  137                    
  138                   ;*** Switch & Jump ***
  139                    
  140 F0BC  7F7F        	DEFW 7F7FH	;>SWITCH<
  141 F0BE  53 57 49 54 	DEFM 'SWITCH'
  142 F0C4  01          	DEFB 1
  143 F0C5  28 12       	JR	Z,MODUL
  144                   	;
  145 F0C7  53          	LD D,E
  146 F0C8  CD F0E9     	CALL MODU
  147 F0CB              MODOUT:	;Ausgabe 3 Bytes L,H,D
  148 F0CB  CD F324     	CALL LHSPCE
  149 F0CE  7C          	LD A,H
  150 F0CF  CD F325     	CALL AHSPCE
  151 F0D2  7A          	LD A,D
  152 F0D3  CD F346     	CALL AHEX
  153 F0D6  C3 F337     	JP CRLF
  154 F0D9  D5          MODUL:	PUSH DE
  155 F0DA  6F          	LD L,A
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  43
CAOSFVI ASM

  156 F0DB  AF          MODUL1:	XOR A
  157 F0DC  CD F0E9     	CALL MODU
  158 F0DF  7C          	LD A,H
  159 F0E0  3C          	INC A
  160 F0E1  C4 F0CB     	CALL NZ,MODOUT
  161 F0E4  2C          	INC L
  162 F0E5  20 F4       	JR NZ,MODUL1
  163 F0E7  D1          	POP DE
  164 F0E8  C9          	RET
  165                    
  166 F0E9              MODU:	;VR:AF,H,BC,(D)	;UP 26 MODU
  167 F0E9  26 B8       	LD H,0B8H
  168 F0EB  0E 80       	LD C,80H
  169 F0ED  45          	LD B,L		; Steckplatz
  170 F0EE  FE 02       	CP 2		; 2 Parameter angegeben?
  171 F0F0  30 04       	JR NC,MDL2	; Module schalten
  172 F0F2  56          	LD D,(HL)	; Schaltzustand lesen
  173 F0F3  ED 60       MDL1:	IN H,(C)	; Strukturbyte lesen
  174 F0F5  C9          	RET
  175                    
  176 F0F6  72          MDL2:	LD (HL),D	; neues Steuerbyte eintragen
  177 F0F7  45          	LD B,L		; (Befehl doppelt drin, kann raus!)
  178 F0F8  04          	INC B
  179 F0F9  DB 88       	IN A,(88H)	; aktueller Schaltzustand
  180                   
  181 F0FB  10 12       	DJNZ NRAM0	; 0: RAM0?
  182 F0FD  E6 F5       	AND 0F5H
  183 F0FF  CB 42       	BIT 0,D
  184 F101  28 02       	JR Z,RAM01
  185 F103  CB CF       	SET 1,A		; RAM0 ON
  186 F105  CB 4A       RAM01:	BIT 1,D
  187 F107  28 02       	JR Z,OUTB
  188 F109  CB DF       	SET 3,A		; RAM0 Schreibschutz
  189 F10B  D3 88       OUTB:	OUT (88H),A
  190 F10D  18 E4       	JR MDL1
  191                    
  192 F10F  10 0A       NRAM0:	DJNZ NIRM	; 1: IRM?
  193 F111  CB 42       	BIT 0,D
  194 F113  CB 97       	RES 2,A		; IRM OFF
  195 F115  28 F4       	JR Z,OUTB
  196 F117  CB D7       	SET 2,A		; IRM ON
  197 F119  18 F0       	JR OUTB
  198                    
  199 F11B  10 16       NIRM:	DJNZ NROM	; 2: USER-ROM?
  200                   	;Neu: Segmentschaltung!
  201 F11D  7A          	ld	a,d	; Steuerbyte
  202 F11E  17          	rla		; 1x nach links rotieren
  203 F11F  2F          	cpl		;Seg 01=BASIC
  204 F120  E6 60       	and	60h	;Seg 11=EDAS
  205 F122  67          	ld	h,a	;Seg 21=WordPro
  206 F123  DB 89       	in	a,89h	;Seg 31=FORTH?
  207 F125  E6 9F       	and	9fh
  208 F127  B4          	or	h	; PIO-B Bit 5+6 schalten die Ebene des ROM-C
  209 F128  D3 89       	OUT	(89H),A
  210 F12A  DB 88       	in	a,88h
  211 F12C  17          	RLA
  212 F12D  62          	LD H,D
  213 F12E  CB 1C       	RR H
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  44
CAOSFVI ASM

  214 F130  1F          	RRA
  215 F131  18 D8       	JR OUTB
  216                    
  217 F133  45          NROM:	LD B,L		; Steckplatz
  218 F134  ED 51       	OUT (C),D	; Modul schalten
  219 F136  18 BB       	JR MDL1
  220                    
  221 F138  7F7F        	DEFW 7F7FH	;>JUMP<
  222 F13A  4A 55 4D 50 	DEFM 'JUMP'
  223 F13E  01          	DEFB 1
  224 F13F  C8          	RET Z
  225 F140  7D          	LD A,L
  226                   	;
  227 F141  B7          JUMP:	OR A		;UP 27 JUMP
  228 F142  28 14       	JR Z,SYS
  229 F144  47          	LD B,A
  230 F145  0E 80       	LD C,80H
  231 F147  ED 78       	IN A,(C)
  232 F149  3C          	INC A
  233 F14A  CA F32D     	JP Z,ERRM
  234 F14D  16 FF       	LD D,0FFH
  235 F14F  CD FACD     	CALL MOSW2
  236 F152  DB 88       	in	a,(88H)
  237 F154  E6 7E       	and	7eh
  238 F156  18 04       	JR SYS1
  239 F158              SYS:
  240 F158  DB 88       	IN	a,(88H)
  241 F15A  CB A7       	res	4,a	;res "NMI"
  242 F15C  F3          SYS1:	DI
  243 F15D  C3 B7B4     	JP 0B7B4H
  244                    
  245                   ;====== POWER ON =======================
  246                   ;(Einspruenge PWRON,NEWOS,BYE)
  247                    
  248 F160  F3          PWRON:	DI
  249 F161  31 01C4     	LD SP,1C4H	;System-Stack KC85/3-5
  250                   ;	LD A,3FH
  251                   ;	OUT (88H),A	;ROM-E ein, ROM-C aus
  252 F164  CD FAB1     	CALL MODSW1
  253 F167  AF          	XOR A
  254 F168  06 E0       	LD B,0E0H
  255 F16A  67          	LD H,A		;Clear Memo
  256 F16B  6F          	LD L,A
  257 F16C  77          PWRO1:	LD (HL),A
  258 F16D  2C          	INC L
  259 F16E  20 FC       	JR NZ,PWRO1
  260 F170  24          	INC H
  261 F171  10 F9       	DJNZ PWRO1
  262 F173  0E 80       	LD C,80H	;Modul off
  263 F175  ED 79       PWRO2:	OUT (C),a
  264 F177  10 FC       	DJNZ PWRO2
  265 F179  F3          NEWOS:	DI
  266 F17A  CD F3B5     	CALL SYSI	;Systeminit
  267 F17D  3E 0A       	ld	a,0ah
  268 F17F  32 B79B     PWRO4:	LD (0B79BH),A	;Windows
  269 F182  CD F77D     	CALL WCOPY
  270 F185  D6 01       	sub 1
  271 F187  30 F6       	JR NC,PWRO4
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  45
CAOSFVI ASM

  272 F189  CD FAA8     	CALL MODSW
  273                    
  274 F18C  31 01C4     BYE:	LD SP,1C4H	;UP 0D BYE
  275                   ;	LD A,1FH
  276                   ;	OUT (88H),A	;init.MEM on !!
  277 F18F  CD F3B5     	CALL SYSI
  278 F192  18 08       	JR MEN1
  279                    
  280 F194  7F7F        	DEFW 7F7FH	;>MENU<
  281 F196  4D 45 4E 55 	DEFM 'MENU'
  282 F19A  01          	DEFB 1
  283                   	;
  284 F19B  E1          	POP HL
  285 F19C  CD F264     MEN1:	CALL OSTR
  286 F19F  0C          	DEFB 0CH
  287 F1A0  0A          	DEFB 0AH
  288 F1A1  2A 20 48 43 	DEFM '* HC-CAOS 3.4i *'
  289 F1B1  00          	DEFB 0
  290 F1B2  21 C000     MENU:	LD HL,0C000H	;UP 46 MENU
  291 F1B5  4D          	LD C,L
  292 F1B6  45          	LD B,L
  293 F1B7  CD F337     MEN2:	CALL CRLF
  294 F1BA  CD F287     MEN3:	CALL BRKT
  295 F1BD  38 34       	JR C,LOOP
  296 F1BF  DD 7E 09    	LD A,(IX+9)
  297 F1C2  ED B1       MEN4:	CPIR
  298 F1C4  E2 F1F3     	JP PO,LOOP
  299 F1C7  ED A1       	CPI
  300 F1C9  20 F7       	JR NZ,MEN4
  301 F1CB  CD F0A8     	CALL OCHRP
  302 F1CE  7E          MEN5:	LD A,(HL)
  303 F1CF  FE 02       	CP 2
  304 F1D1  38 E4       	JR C,MEN2
  305 F1D3  FE 30       	CP 30H
  306 F1D5  38 0B       	JR C,MEN6
  307 F1D7  FE 60       	CP 60H
  308 F1D9  30 07       	JR NC,MEN6
  309 F1DB  CD F0AB     	CALL OCHR
  310 F1DE  23          	INC HL
  311 F1DF  0B          	DEC BC
  312 F1E0  18 EC       	JR MEN5
  313 F1E2  CD F342     MEN6:	CALL CLLN
  314 F1E5  18 D3       	JR MEN3
  315                    
  316 F1E7  E1          NLP1:	POP HL		;LOOP
  317 F1E8  CD F32D     NLP2:	CALL ERRM	; kommt mit CY=0 zurueck
  318 F1EB  3E 0B       LOOP0:	LD A,0BH	; Zeile loeschen
  319 F1ED  DC F0AB     	CALL C,OCHR	; bei BRK
  320 F1F0  CD F342     	CALL CLLN
  321 F1F3  CD F0A8     LOOP:	CALL OCHRP	;UP 12 LOOP
  322 F1F6  CD F2F9     	CALL INLIN
  323 F1F9  38 F0       	JR C,LOOP0	;Brk
  324 F1FB  13          	INC DE
  325 F1FC  1A          	LD A,(DE)
  326 F1FD  FE 21       	CP 21H
  327 F1FF  38 F2       	JR C,LOOP
  328 F201  CD F21C     	CALL MSUCH
  329 F204  30 E2       	JR NC,NLP2	; nicht gefunden -> Error
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  46
CAOSFVI ASM

  330 F206  E5          	PUSH HL
  331 F207  CD F397     	CALL GARG
  332 F20A  38 DB       	JR C,NLP1	; Parameterfehler -> Error
  333 F20C  21 F1F3     	LD HL,LOOP
  334 F20F  E3          	EX (SP),HL
  335 F210  7E          	LD A,(HL)
  336 F211  23          	INC HL
  337 F212  E5          	PUSH HL
  338 F213  A7          	AND A
  339 F214  CD F480     	CALL LARG
  340 F217  CC F03E     	CALL Z,SCROFF
  341 F21A  A7          	AND A
  342 F21B  C9          	RET
  343                    
  344 F21C  21 C000     MSUCH:	LD HL,0C000H
  345 F21F  45          	LD B,L
  346 F220  4D          	LD C,L
  347 F221  DD 7E 09    	LD A,(IX+9)
  348                    
  349 F224  ED B1       ZSUCH:	CPIR		;UP 1D ZSUCH
  350 F226  37          	SCF
  351 F227  3F          	CCF
  352 F228  E0          	RET PO
  353 F229  ED A1       	CPI
  354 F22B  20 F7       	JR NZ,ZSUCH
  355 F22D  F5          	PUSH AF
  356 F22E  D5          	PUSH DE
  357 F22F  1A          ZS1:	LD A,(DE)
  358 F230  FE 21       	CP 21H
  359 F232  38 09       	JR C,ZS3
  360 F234  13          	INC DE
  361 F235  ED A1       	CPI
  362 F237  28 F6       	JR Z,ZS1
  363 F239  D1          ZS2:	POP DE
  364 F23A  F1          	POP AF
  365 F23B  18 E7       	JR ZSUCH
  366 F23D  7E          ZS3:	LD A,(HL)
  367 F23E  FE 02       	CP 2
  368 F240  38 07       	JR C,ZS4
  369 F242  FE 20       	CP 20H
  370 F244  38 F3       	JR C,ZS2
  371 F246  23          	INC HL
  372 F247  18 F4       	JR ZS3
  373 F249  C1          ZS4:	POP BC
  374 F24A  F1          	POP AF
  375 F24B  37          	SCF
  376 F24C  C9          	RET
  377                    
  378 F24D              WAIT	;UP 14 WAIT
  379 F24D  47          	LD	B,A
  380 F24E  AF          	XOR	A
  381 F24F  CD F255     WAIT0	CALL	WAIT1
  382 F252  10 FB       	DJNZ	WAIT0
  383 F254  C9          	RET
  384                    
  385 F255  3D          WAIT1:	DEC A
  386 F256  C8          	RET Z
  387 F257  F5          	PUSH AF
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  47
CAOSFVI ASM

  388 F258  F1          	POP AF
  389 F259  18 FA       	JR WAIT1
  390                    
  391 F25B  CD F342     CBNRO:	CALL CLLN
  392 F25E  DD 7E 02    BNROST:	LD A,(IX+2)
  393 F261  CD F346     AHOSTR:	CALL AHEX
  394                   	;
  395 F264  E3          OSTR:	EX (SP),HL	;UP 23 OSTR
  396 F265  CD FA83     	CALL ZKOUT
  397 F268  E3          	EX (SP),HL
  398 F269  C9          	RET
  399                    
  400 F26A  CD F27A     NORM:	CALL NIN	;UP 13 NORM
  401                   	;
  402 F26D  21 F008     NOUT:	LD HL,ZEI0	;UP 20 NOUT
  403                   	;
  404 F270  E5          SOUT:	PUSH HL		;UP 1E SOUT
  405 F271  2A B7B9     	LD HL,(0B7B9H)	;OUTAB
  406 F274  E3          	EX (SP),HL
  407 F275  22 B7B9     	LD (0B7B9H),HL	;OUTAB
  408 F278  E1          	POP HL
  409 F279  C9          	RET
  410                    
  411 F27A  21 F00E     NIN:	LD HL,ZEI4	;UP 21 NIN
  412                   	;
  413 F27D  E5          SIN:	PUSH HL		;UP 1F SIN
  414 F27E  2A B7BB     	LD HL,(0B7BBH)	;INTAB
  415 F281  E3          	EX (SP),HL
  416 F282  22 B7BB     	LD (0B7BBH),HL	;INTAB
  417 F285  E1          	POP HL
  418 F286  C9          	RET
  419                    
  420 F287  CD E3F1     BRKT:	CALL KBDS	;UP 2A BRKT
  421 F28A  FE 03       BRKT1:	CP 3
  422 F28C  37          	SCF
  423 F28D  C8          	RET Z
  424 F28E  FE 13       	CP 13H
  425 F290  37          	SCF
  426 F291  3F          	CCF
  427 F292  C0          	RET NZ
  428 F293  CD E400     	CALL RESFL
  429 F296  CD F29F     	CALL KBD1
  430 F299  18 EF       	JR BRKT1
  431                    
  432 F29B  DD CB 08 76 KBD:	BIT 6,(IX+8)	;UP 4 KBD
  433 F29F  E5          KBD1:	PUSH HL
  434 F2A0  D5          	PUSH DE
  435 F2A1  C5          	PUSH BC
  436 F2A2  20 3E       	JR NZ,KBD8	;F-Taste aktiv
  437 F2A4  CD F816     KBD2:	CALL CUCP
  438 F2A7  CD E3FC     KBD3:	CALL KBDZ
  439 F2AA  30 FB       	JR NC,KBD3	;keine Taste gedr.
  440 F2AC  CD F816     	CALL CUCP
  441 F2AF  DD CB 08 6E KBD4:	BIT 5,(IX+8)	;Click ein?
  442 F2B3  57          	LD D,A
  443 F2B4  C4 E310     	CALL NZ,RCLICK
  444 F2B7  7A          	LD A,D
  445 F2B8  21 B7A2     	LD HL,0B7A2H
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  48
CAOSFVI ASM

  446 F2BB  CB 66       	BIT 4,(HL)
  447 F2BD  C4 E349     	CALL NZ,CRT
  448 F2C0  20 E2       	JR NZ,KBD2
  449 F2C2  FE 1B       KBD5:	CP 1BH
  450 F2C4  20 04       	JR NZ,KBD6
  451 F2C6  CB E6       	SET 4,(HL)
  452 F2C8  18 DA       	JR KBD2
  453                    
  454 F2CA  FE F1       KBD6:	CP 0F1H
  455 F2CC  DA E17C     	JP C,POPS3
  456 F2CF  DD CB 08 F6 	SET 6,(IX+8)
  457 F2D3  D6 F0       	SUB 0F0H
  458 F2D5  47          	LD B,A
  459 F2D6  21 B900     	LD HL,0B900H
  460 F2D9  7E          KBD7:	LD A,(HL)
  461 F2DA  A7          	AND A
  462 F2DB  23          	INC HL
  463 F2DC  20 FB       	JR NZ,KBD7
  464 F2DE  10 F9       	DJNZ KBD7
  465 F2E0  18 08       	JR KBD9
  466                    
  467 F2E2  CD F287     KBD8:	CALL BRKT
  468 F2E5  38 0C       	JR C,KBD10
  469 F2E7  2A B7D1     	LD HL,(0B7D1H)
  470 F2EA  7E          KBD9:	LD A,(HL)
  471 F2EB  23          	INC HL
  472 F2EC  22 B7D1     	LD (0B7D1H),HL
  473 F2EF  A7          	AND A
  474 F2F0  C2 E17C     	JP NZ,POPS3
  475 F2F3  DD CB 08 B6 KBD10:	RES 6,(IX+8)
  476 F2F7  18 AB       	JR KBD2
  477                    
  478                   ;*** CCP ***
  479                    
  480 F2F9  CD F0A2     INLIN:	CALL INTB
  481 F2FC  CD F0AB     	CALL OCHR
  482 F2FF  FE 0D       	CP 0DH
  483 F301  28 05       	JR Z,ILN1
  484 F303  FE 03       	CP 3
  485 F305  20 F2       	JR NZ,INLIN
  486 F307  37          	SCF
  487 F308  F5          ILN1:	PUSH AF
  488 F309  CD F337     	CALL CRLF
  489 F30C  ED 5B B7A0  	LD DE,(0B7A0H)
  490 F310  BA          	CP D
  491 F311  20 04       	JR NZ,ILN2
  492 F313  3A B79F     	LD A,(0B79FH)
  493 F316  57          	LD D,A
  494 F317  15          ILN2:	DEC D
  495 F318  E5          	PUSH HL
  496 F319  CD E0BD     	CALL DABR
  497 F31C  EB          	EX DE,HL
  498 F31D  E1          	POP HL
  499 F31E  F1          	POP AF
  500 F31F  C9          	RET
  501                    
  502 F320  7C          HLHX:	LD A,H		;UP 1A HLHX
  503 F321  CD F346     	CALL AHEX
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  49
CAOSFVI ASM

  504 F324  7D          LHSPCE:	LD A,L
  505 F325  CD F346     AHSPCE:	CALL AHEX
  506                   	;
  507 F328  3E 20       SPAC:	LD A,20H	;UP 2B SPAC
  508 F32A  C3 F0AB     SPAC0:	JP OCHR
  509                    
  510 F32D  CD F264     ERRM:	CALL OSTR	;UP 19 ERRM
  511 F330  45 72 72 6F 	DEFM 'Error'
  512 F335  07          	DEFB 7
  513 F336  00          	DEFB 0
  514                   	;
  515 F337  CD F264     CRLF:	CALL OSTR	;UP 2C CRLF
  516 F33A  0D          	DEFB 0DH
  517 F33B  0A          	DEFB 0AH
  518 F33C  00          	DEFB 0
  519 F33D  C9          	RET
  520                    
  521 F33E  3E 10       HOME:	LD A,10H	;UP 2D HOME
  522 F340  18 E8       	JR SPAC0
  523                    
  524 F342  3E 02       CLLN:	LD A,2
  525 F344  18 E4       	JR SPAC0
  526                    
  527 F346  F5          AHEX:	PUSH AF		;UP 1C AHEX
  528 F347  1F          	RRA
  529 F348  1F          	RRA
  530 F349  1F          	RRA
  531 F34A  1F          	RRA
  532 F34B  CD F34F     	CALL AHEX1
  533 F34E  F1          	POP AF
  534 F34F  E6 0F       AHEX1:	AND 0FH
  535 F351  C6 90       	ADD 90H
  536 F353  27          	DAA
  537 F354  CE 40       	ADC 40H
  538 F356  27          	DAA
  539 F357  18 D1       	JR SPAC0
  540                    
  541 F359  CD F35C     HLDE:	CALL HLDE1	;UP 1B HLDE
  542 F35C  CD F320     HLDE1:	CALL HLHX
  543 F35F  EB          	EX DE,HL
  544 F360  C9          	RET
  545                    
  546 F361  13          RHEX0:	INC DE
  547                   	;
  548 F362  1A          RHEX:	LD A,(DE)	;UP 18 RHEX
  549 F363  FE 20       	CP 20H
  550 F365  28 FA       	JR Z,RHEX0
  551 F367  AF          	XOR A
  552 F368  21 B798     	LD HL,0B798H
  553 F36B  77          	LD (HL),A
  554 F36C  2B          	DEC HL
  555 F36D  77          	LD (HL),A
  556 F36E  2B          	DEC HL
  557 F36F  77          	LD (HL),A
  558 F370  1A          RH1:	LD A,(DE)
  559 F371  B7          	OR A
  560 F372  C8          	RET Z
  561 F373  FE 20       	CP 20H
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  50
CAOSFVI ASM

  562 F375  C8          	RET Z
  563 F376  D6 30       	SUB 30H
  564 F378  D8          	RET C
  565 F379  FE 0A       	CP 0AH
  566 F37B  38 0B       	JR C,RH2
  567 F37D  D6 07       	SUB 7
  568 F37F  E6 DF       	AND 0DFH
  569 F381  FE 0A       	CP 0AH
  570 F383  D8          	RET C
  571 F384  FE 10       	CP 10H
  572 F386  3F          	CCF
  573 F387  D8          	RET C
  574 F388  13          RH2:	INC DE
  575 F389  34          	INC (HL)
  576 F38A  23          	INC HL
  577 F38B  ED 6F       	RLD
  578 F38D  23          	INC HL
  579 F38E  ED 6F       	RLD
  580 F390  2B          	DEC HL
  581 F391  2B          	DEC HL
  582 F392  28 DC       	JR Z,RH1
  583 F394  1B          	DEC DE
  584 F395  37          	SCF
  585 F396  C9          	RET
  586                    
  587 F397  01 B781     GARG:	LD BC,0B781H	;UP 22 GARG
  588 F39A  AF          	XOR A
  589 F39B  02          	LD (BC),A
  590 F39C  13          	INC DE
  591 F39D  CD F362     GARG1:	CALL RHEX
  592 F3A0  D8          	RET C
  593 F3A1  7E          	LD A,(HL)
  594 F3A2  B7          	OR A
  595 F3A3  C8          	RET Z
  596 F3A4  23          	INC HL
  597 F3A5  03          	INC BC
  598 F3A6  7E          	LD A,(HL)
  599 F3A7  02          	LD (BC),A
  600 F3A8  23          	INC HL
  601 F3A9  03          	INC BC
  602 F3AA  7E          	LD A,(HL)
  603 F3AB  02          	LD (BC),A
  604 F3AC  2E 81       	LD L,81H
  605 F3AE  34          	INC (HL)
  606 F3AF  7E          	LD A,(HL)
  607 F3B0  C6 F5       	ADD 0F5H
  608 F3B2  30 E9       	JR NC,GARG1
  609 F3B4  C9          	RET
  610                    
  611                   ;*** Systeminit ***
  612                    
  613 F3B5  21 FD8E     SYSI:	LD HL,KCTAB0
  614 F3B8  16 08       	LD D,6+2	;+2:V.24-Interf.
  615 F3BA  CD F420     	CALL INIMEI
  616 F3BD  11 B799     	LD DE,0B799H	;HCADR
  617 F3C0  01 0032     	LD BC,STBL1
  618 F3C3  ED B0       	LDIR
  619 F3C5  1E D8       	LD E,0D8H
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  51
CAOSFVI ASM

  620 F3C7  0E 09       	LD C,STBL2
  621 F3C9  ED B0       	LDIR
  622 F3CB  3E 01       	LD A,1
  623                   	;
  624 F3CD  F3          SIXD:	DI		;UP 31 SIXD
  625 F3CE  21 FD82     	LD HL,ISRTAB
  626 F3D1  32 B7D7     	LD (0B7D7H),A
  627 F3D4  ED 47       	LD I,A
  628 F3D6  1E E4       	LD E,0E4H
  629 F3D8  57          	LD D,A
  630 F3D9  01 000C     	LD BC,0CH
  631 F3DC  ED B0       	LDIR
  632 F3DE  D5          	PUSH DE
  633 F3DF  DD E1       	POP IX
  634 F3E1  DD 36 08 88 	LD (IX+8),88H
  635 F3E5  DD 36 09 7F 	LD (IX+9),7FH
  636 F3E9  DD 36 0E 02 	LD (IX+14),Low(KTAB)
  637 F3ED  DD 36 0F FD 	LD (IX+15),High(KTAB)
  638 F3F1  16 04       	LD D,4		; 4 Ports initialisieren
  639 F3F3  21 FDA1     	LD HL,KCTAB1
  640 F3F6  CD F422     	CALL INIME
  641 F3F9  21 0103     	LD HL,103H
  642 F3FC  22 B800     	LD (0B800H),HL
  643 F3FF  DD 7E 07    SIXD2:	LD A,(IX+7)
  644 F402  E6 1F       	AND 1FH
  645 F404  DD 77 07    	LD (IX+7),A
  646 F407  3E FF       SIXD3:	LD A,0FFH
  647 F409  D3 89       	OUT (89H),A
  648 F40B  DD 36 05 00 	LD (IX+5),0
  649 F40F  DD 36 06 B7 	LD (IX+6),0B7H
  650 F413  FB          	EI
  651 F414  C3 E400     	JP RESFL
  652                    
  653 F417  C5          INIEA:	PUSH BC		;UP 43 INIEA
  654 F418  4E          	LD C,(HL)
  655 F419  23          	INC HL
  656 F41A  46          	LD B,(HL)
  657 F41B  23          	INC HL
  658 F41C  ED B3       	OTIR
  659 F41E  C1          	POP BC
  660 F41F  C9          	RET
  661                    
  662 F420  ED 5E       INIMEI:	IM 2
  663 F422  CD F417     INIME:	CALL INIEA	;UP 44 INIME
  664 F425  15          	DEC D
  665 F426  20 FA       	JR NZ,INIME
  666 F428  C9          	RET
  667                    
  668                   ;*** Tape-Routinen ***
  669                    
  670 F429  7F7F        	DEFW 7F7FH	;>SAVE<
  671 F42B  53 41 56 45 	DEFM 'SAVE'
  672 F42F  01          	DEFB 1
  673                   	;
  674 F430  FE 02       	CP 2
  675 F432  DA F32D     	JP C,ERRM
  676 F435  CD F264     SAVE1:	CALL OSTR
  677 F438  4E 61 6D 65 	DEFM 'Name :'
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  52
CAOSFVI ASM

  678 F43E  00          	DEFB 0
  679 F43F  CD F2F9     	CALL INLIN
  680 F442  D8          	RET C
  681 F443  21 0006     	LD HL,6
  682 F446  19          	ADD HL,DE
  683                   	;
  684 F447  11 B700     SAVE:	LD DE,0B700H	;UP 36 SAVE
  685 F44A  01 000B     	LD BC,11
  686 F44D  ED B0       	LDIR
  687 F44F  AF          	XOR A
  688 F450  12          	LD (DE),A
  689 F451  21 B781     	LD HL,0B781H
  690 F454  1E 10       	LD E,10H
  691 F456  0E 15       	LD C,15H
  692 F458  ED B0       	LDIR
  693 F45A  CD F604     	CALL NBWI
  694 F45D  DD CB 07 AE 	RES 5,(IX+7)
  695 F461  2A B782     	LD HL,(0B782H)
  696 F464  DD 75 05    SAVE0:	LD (IX+5),L
  697 F467  DD 74 06    	LD (IX+6),H
  698 F46A  11 0080     	LD DE,80H
  699 F46D  19          	ADD HL,DE
  700 F46E  ED 5B B784  	LD DE,(0B784H)
  701 F472  ED 52       	SBC HL,DE
  702 F474  3F          	CCF
  703 F475  DA F5E9     	JP C,NBW1
  704 F478  CD F5E5     	CALL NBW
  705 F47B  DA E45E     	JP C,CRO0
  706 F47E  18 E4       	JR SAVE0
  707                   			;UP 15 LARG
  708 F480  ED 4B B786  LARG:	LD BC,(0B786H)	;ARG3
  709 F484  ED 5B B784  	LD DE,(0B784H)
  710 F488  2A B782     	LD HL,(0B782H)
  711 F48B  3A B781     	LD A,(0B781H)
  712 F48E  C9          	RET
  713                    
  714 F48F  CD F264     NBL1:	CALL OSTR
  715 F492  3F 3F 3F    	DEFM '???'
  716 F495  00          	DEFB 0
  717 F496  C3 E442     NBL2:	JP CMBI		;END CSRO
  718                    
  719 F499  7F7F        	DEFW 7F7FH	;>VERIFY<
  720 F49B  56 45 52 49 	DEFM 'VERIFY'
  721 F4A1  01          	DEFB 1
  722                   	;
  723 F4A2  DD CB 07 86 VERIFY:	RES 0,(IX+7)	;UP 11 VERIFY
  724 F4A6  18 0B       	JR LOAD0
  725                    
  726 F4A8  7F7F        	DEFW 7F7FH	;>LOAD<
  727 F4AA  4C 4F 41 44 	DEFM 'LOAD'
  728 F4AE  01          	DEFB 1
  729                   	;
  730 F4AF  DD CB 07 C6 LOAD:	SET 0,(IX+7)	;UP 10 LOAD
  731                   	;
  732 F4B3  CD E40E     LOAD0:	CALL IMBII
  733 F4B6  CD F58D     	CALL NBR
  734 F4B9  DD CB 07 AE 	RES 5,(IX+7)
  735 F4BD  38 D7       LOAD1:	JR C,NBL2	;>CSRO
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  53
CAOSFVI ASM

  736 F4BF  21 B700     	LD HL,0B700H
  737 F4C2  06 0B       	LD B,11
  738 F4C4  7E          LOADN:	LD A,(HL)
  739 F4C5  23          	INC HL
  740 F4C6  CD E349     	CALL CRT
  741 F4C9  10 F9       	DJNZ LOADN
  742 F4CB  CD F328     	CALL SPAC
  743 F4CE  DD CB 07 46 	BIT 0,(IX+7)
  744 F4D2  28 47       	JR Z,LOAD4
  745 F4D4  2E 10       	LD L,10H
  746 F4D6  7E          	LD A,(HL)
  747 F4D7  D6 02       	SUB 2
  748 F4D9  FE 08       	CP 8		;A=0..7
  749 F4DB  30 B2       	JR NC,NBL1
  750 F4DD  07          	RLCA
  751 F4DE  07          	RLCA
  752 F4DF  67          	LD H,A
  753 F4E0  DD 7E 07    	LD A,(IX+7)
  754 F4E3  E6 03       	AND 3
  755 F4E5  B4          	OR H
  756 F4E6  DD 77 07    	LD (IX+7),A
  757 F4E9  ED 4B B715  	LD BC,(0B715H)
  758 F4ED  ED 5B B713  	LD DE,(0B713H)
  759 F4F1  2A B711     	LD HL,(0B711H)
  760 F4F4  3A B781     	LD A,(0B781H)
  761 F4F7  A7          	AND A
  762 F4F8  28 13       	JR Z,LOAD3
  763 F4FA  C5          	PUSH BC
  764 F4FB  ED 4B B782  	LD BC,(0B782H)
  765 F4FF  09          	ADD HL,BC
  766 F500  EB          	EX DE,HL
  767 F501  09          	ADD HL,BC
  768 F502  EB          	EX DE,HL
  769 F503  DD CB 07 5E 	BIT 3,(IX+7)
  770 F507  20 03       	JR NZ,LOAD2
  771 F509  E3          	EX (SP),HL
  772 F50A  09          	ADD HL,BC
  773 F50B  E3          	EX (SP),HL
  774 F50C  C1          LOAD2:	POP BC
  775 F50D  22 B782     LOAD3:	LD (0B782H),HL
  776 F510  ED 53 B784  	LD (0B784H),DE
  777 F514  ED 43 B786  	LD (0B786H),BC	;ARG3
  778 F518  CD F359     	CALL HLDE
  779 F51B  CD F337     LOAD4:	CALL CRLF
  780 F51E  EB          	EX DE,HL	;Ziel=DE
  781 F51F  CD F58D     LOAD5:	CALL NBR
  782 F522  38 99       	JR C,LOAD1	;>CSRO
  783 F524  DD CB 07 46 	BIT 0,(IX+7)
  784 F528  28 12       	JR Z,LOAD6
  785 F52A  E5          	PUSH HL
  786 F52B  ED 52       	SBC HL,DE
  787 F52D  01 0080     	LD BC,80H
  788 F530  ED 42       	SBC HL,BC
  789 F532  09          	ADD HL,BC
  790 F533  30 01       	JR NC,BLC1
  791 F535  4D          	LD C,L
  792 F536  21 B700     BLC1:	LD HL,0B700H
  793 F539  ED B0       	LDIR
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  54
CAOSFVI ASM

  794 F53B  E1          	POP HL
  795 F53C  DD 34 02    LOAD6:	INC (IX+2)	;FF?
  796 F53F  20 DE       	JR NZ,LOAD5
  797                   	;
  798 F541  CD E442     CSRI:	CALL CMBI	;UP 0B CSRI
  799 F544  DD 7E 07    	LD A,(IX+7)
  800 F547  1F          	RRA
  801 F548  D0          	RET NC		;bei VER.
  802 F549  E6 0E       	AND 0EH
  803 F54B  DD CB 07 86 	RES 0,(IX+7)
  804 F54F  C8          	RET Z		;2 ARG
  805                   	;
  806 F550  DD CB 07 4E 	BIT 1,(IX+7)	;AutoSt.enable ?
  807 F554  28 19       	JR Z,CSRI3
  808 F556  CD F264     CSRI1:	CALL OSTR
  809 F559  52 75 6E    	DEFM 'Run'
  810 F55C  00          	DEFB 0
  811 F55D  CD F573     	CALL YESNO
  812 F560  28 0D       	JR Z,CSRI3
  813 F562  FE 53       	CP 'S'
  814 F564  C0          	RET NZ
  815 F565  3E 03       	LD A,3
  816 F567  32 B781     	LD (0B781H),A
  817 F56A  CD F435     	CALL SAVE1	;PROGR. COPY
  818 F56D  18 E7       	JR CSRI1
  819                    
  820 F56F  2A B786     CSRI3:	LD HL,(0B786H)	;ARG3
  821 F572  E9          	JP (HL)		;AUTOSTART-ADR.
  822                    
  823 F573              YESNO:	;PA:Z=1 bei YES, RG A
  824 F573  CD F264     	CALL OSTR
  825 F576  3F 20 28 59 	DEFM '? (Y):'
  826 F57C  00          	DEFB 0
  827 F57D  CD F0A2     	CALL INTB
  828 F580  F5          	PUSH AF
  829 F581  CD F0AB     	CALL OCHR
  830 F584  CD F337     	CALL CRLF
  831 F587  F1          	POP AF
  832 F588  CB AF       	RES 5,A
  833 F58A  FE 59       	CP 'Y'
  834 F58C  C9          	RET
  835                    
  836 F58D              NBR:	;NewBlockRead
  837 F58D  E5          	PUSH HL
  838 F58E  2E 04       	LD L,4		;4 Versuche
  839 F590  DD 66 03    	LD H,(IX+3)
  840 F593  CD F287     NBR0:	CALL BRKT
  841 F596  38 2A       	JR C,NBREND
  842 F598  CD F047     	CALL PV1
  843 F59B  05          	DEFB 5		;Saubere Schale
  844 F59C  DD 7E 02    	LD A,(IX+2)
  845 F59F  F5          	PUSH AF
  846 F5A0  BC          	CP H
  847 F5A1  28 0C       	JR Z,NBR2
  848 F5A3  3C          	INC A		;FF?
  849 F5A4  20 1F       	JR NZ,NBR4
  850 F5A6  7D          	LD A,L
  851 F5A7  FE 04       	CP 4		;4 Versuche
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  55
CAOSFVI ASM

  852 F5A9  20 1A       	JR NZ,NBR4	;Kein 1.Vers.
  853 F5AB  25          	DEC H
  854 F5AC  28 16       	JR Z,NBR41	;01 erwartet
  855 F5AE  24          	INC H
  856 F5AF  F1          NBR2:	POP AF
  857 F5B0  38 1E       	JR C,NBR5
  858 F5B2  DD CB 07 6E 	BIT 5,(IX+7)
  859 F5B6  20 06       	JR NZ,NBR3
  860 F5B8  CD F25B     	CALL CBNRO
  861 F5BB  3E 20       	DEFM '> '
  862 F5BD  00          	DEFB 0
  863 F5BE  24          NBR3:	INC H
  864 F5BF  DD 74 03    	LD (IX+3),H
  865 F5C2  E1          NBREND:	POP HL
  866 F5C3  C9          	RET
  867                    
  868 F5C4  24          NBR41:	INC H
  869 F5C5  F1          NBR4:	POP AF
  870 F5C6  CD F25E     	CALL BNROST
  871 F5C9  2A          	DEFM '*'
  872 F5CA  0808        	DEFW 808H
  873 F5CC  08          	DEFB 8
  874 F5CD  00          	DEFB 0
  875 F5CE  18 C3       	JR NBR0
  876                    
  877 F5D0  67          NBR5:	LD H,A		;falls FF
  878 F5D1  2D          	DEC L
  879 F5D2  28 09       	JR Z,NBR6
  880 F5D4  CD F25E     	CALL BNROST
  881 F5D7  3F 20       	DEFM '? '
  882 F5D9  07          	DEFB 7
  883 F5DA  00          	DEFB 0
  884 F5DB  18 B6       	JR NBR0
  885                    
  886 F5DD  CD F25E     NBR6:	CALL BNROST
  887 F5E0  21          	DEFM '!'
  888 F5E1  1E          	DEFB 1EH	;CRNL
  889 F5E2  00          	DEFB 0
  890 F5E3  18 D9       	JR NBR3
  891                    
  892 F5E5              NBW:	;NewBlockWrite
  893 F5E5  CD F287     	CALL BRKT
  894 F5E8  D8          	RET C
  895 F5E9  ED 4B B7DA  NBW1:	LD BC,(0B7DAH)	;mit CY=1 !
  896 F5ED  DD CB 07 6E 	BIT 5,(IX+7)
  897 F5F1  28 03       	JR Z,NBW2
  898 F5F3  01 0500     	LD BC,500H
  899 F5F6  DA E456     NBW2:	JP C,CSRO
  900 F5F9  CD F047     	CALL PV1
  901 F5FC  01          	DEFB 1		;MBOT
  902 F5FD  CD F25E     NBW3:	CALL BNROST
  903 F600  3C          	DEFM '<'
  904 F601  0D          	DEFB 0DH
  905 F602  00          	DEFB 0
  906 F603  C9          	RET
  907                    
  908 F604  CD E480     NBWI:	CALL ISROI
  909 F607  CD F342     	CALL CLLN
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  56
CAOSFVI ASM

  910 F60A  18 F1       	JR NBW3
  911                    
  912                   ;*** Monitor ***
  913                    
  914 F60C  7F7F        	DEFW 7F7FH	;>COLOR<
  915 F60E  43 4F 4C 4F 	DEFM 'COLOR'
  916 F613  01          	DEFB 1
  917                   	;
  918 F614  F5          COLOR:	PUSH AF
  919 F615  3E 1F       	LD A,1FH
  920 F617  A5          	AND L
  921 F618  17          	RLA
  922 F619  17          	RLA
  923 F61A  17          	RLA
  924 F61B  6F          	LD L,A
  925 F61C  F1          	POP AF
  926 F61D  FE 02       	CP 2
  927 F61F  7B          	LD A,E
  928 F620  30 03       	JR NC,COL1
  929 F622  3A B7A3     	LD A,(0B7A3H)
  930 F625  E6 07       COL1:	AND 7
  931 F627  B5          	OR L
  932 F628  32 B7A3     COL2:	LD (0B7A3H),A
  933 F62B  C9          	RET
  934                    
  935 F62C  3A B7A3     ESC2:	LD A,(0B7A3H)	;Blinken on/off
  936 F62F  EE 80       	XOR 80H
  937 F631  18 F5       	JR COL2
  938                    
  939 F633  CD F320     DPMEMO:	CALL HLHX
  940 F636  E5          	PUSH HL
  941 F637  41          	LD B,C
  942 F638  7E          DPM1:	LD A,(HL)
  943 F639  23          	INC HL
  944 F63A  CD F325     	CALL AHSPCE
  945 F63D  10 F9       	DJNZ DPM1
  946 F63F  E1          	POP HL
  947 F640  41          	LD B,C
  948 F641  3E 09       	LD A,9
  949 F643  CD F0AB     	CALL OCHR
  950 F646  7E          DPM2:	LD A,(HL)
  951 F647  23          	INC HL
  952 F648  CD F64E     	CALL CSTBT
  953 F64B  10 F9       	DJNZ DPM2
  954 F64D  C9          	RET
  955                    
  956 F64E  E5          CSTBT:	PUSH HL		;UP 42 CSTBT
  957 F64F  21 B7A2     	LD HL,0B7A2H
  958 F652  CB DE       	SET 3,(HL)
  959 F654  CD F0AB     	CALL OCHR
  960 F657  CB 9E       	RES 3,(HL)
  961 F659  E1          	POP HL
  962 F65A  C9          	RET
  963                    
  964 F65B  7F7F        	DEFW 7F7FH	;>DISPLAY<
  965 F65D  44 49 53 50 	DEFM 'DISPLAY'
  966 F664  01          	DEFB 1
  967                   	;
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  57
CAOSFVI ASM

  968 F665  D6 03       DISP:	SUB 3		;UP 3B DISP
  969 F667  30 07       	JR NC,DISP1
  970 F669  0E 08       	LD C,8
  971 F66B  3C          	INC A
  972 F66C  28 02       	JR Z,DISP1
  973 F66E  1E 04       	LD E,4
  974 F670  D5          DISP1:	PUSH DE
  975 F671  CD F633     DISP2:	CALL DPMEMO
  976 F674  CD F337     	CALL CRLF
  977 F677  CD F287     	CALL BRKT
  978 F67A  38 06       	JR C,DISP3
  979 F67C  1D          	DEC E
  980 F67D  20 F2       	JR NZ,DISP2
  981 F67F  CD F0A2     	CALL INTB
  982 F682  D1          DISP3:	POP DE
  983 F683  FE 03       	CP 3
  984 F685  C8          	RET Z
  985 F686  FE 13       	CP 13H
  986 F688  20 E6       	JR NZ,DISP1
  987 F68A  18 10       	JR MO1
  988                    
  989 F68C  7F7F        	DEFW 7F7FH	;>MODIFY<
  990 F68E  4D 4F 44 49 	DEFM 'MODIFY'
  991 F694  01          	DEFB 1
  992                   	;
  993 F695  4B          	LD C,E
  994 F696  FE 02       	CP 2
  995 F698  30 02       	JR NC,MO1
  996 F69A  0E 01       MODI:	LD C,1		;UP 2E MODI
  997 F69C  CD F633     MO1:	CALL DPMEMO
  998 F69F  3E 05       	LD A,5
  999 F6A1  32 B7A0     	LD (0B7A0H),A
 1000 F6A4  CD F2F9     	CALL INLIN
 1001 F6A7  D8          	RET C
 1002 F6A8  E5          	PUSH HL
 1003 F6A9  CD F362     	CALL RHEX
 1004 F6AC  7E          	LD A,(HL)
 1005 F6AD  E1          	POP HL
 1006 F6AE  38 4F       	JR C,MO10
 1007 F6B0  A7          	AND A
 1008 F6B1  28 E9       	JR Z,MO1
 1009 F6B3  2A B797     	LD HL,(0B797H)
 1010 F6B6  E5          MO2:	PUSH HL
 1011 F6B7  CD F362     	CALL RHEX
 1012 F6BA  7E          	LD A,(HL)
 1013 F6BB  A7          	AND A
 1014 F6BC  23          	INC HL
 1015 F6BD  7E          	LD A,(HL)
 1016 F6BE  E1          	POP HL
 1017 F6BF  28 02       	JR Z,MO4
 1018 F6C1  77          MO3:	LD (HL),A
 1019 F6C2  23          	INC HL
 1020 F6C3  1A          MO4:	LD A,(DE)
 1021 F6C4  FE 2E       	CP '.'
 1022 F6C6  C8          	RET Z
 1023 F6C7  FE 2C       	CP ','
 1024 F6C9  20 05       	JR NZ,MO5
 1025 F6CB  13          	INC DE
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  58
CAOSFVI ASM

 1026 F6CC  1A          	LD A,(DE)
 1027 F6CD  13          	INC DE
 1028 F6CE  18 F1       	JR MO3
 1029 F6D0  FE 3A       MO5:	CP ':'
 1030 F6D2  20 03       	JR NZ,MO6
 1031 F6D4  2B          	DEC HL
 1032 F6D5  18 C5       	JR MO1
 1033 F6D7  FE 2F       MO6:	CP '/'
 1034 F6D9  20 0B       	JR NZ,MO7
 1035 F6DB  13          	INC DE
 1036 F6DC  CD F362     	CALL RHEX
 1037 F6DF  38 1E       	JR C,MO10
 1038 F6E1  2A B797     	LD HL,(0B797H)
 1039 F6E4  18 B6       	JR MO1
 1040 F6E6  FE 27       MO7:	CP 27H		;Hochkomma
 1041 F6E8  20 0E       	JR NZ,MO9
 1042 F6EA  13          	INC DE
 1043 F6EB  1A          MO8:	LD A,(DE)
 1044 F6EC  13          	INC DE
 1045 F6ED  A7          	AND A
 1046 F6EE  28 AC       	JR Z,MO1
 1047 F6F0  FE 27       	CP 27H		;Hochkomma
 1048 F6F2  28 CF       	JR Z,MO4
 1049 F6F4  77          	LD (HL),A
 1050 F6F5  23          	INC HL
 1051 F6F6  18 F3       	JR MO8
 1052 F6F8  A7          MO9:	AND A
 1053 F6F9  28 A1       	JR Z,MO1
 1054 F6FB  FE 20       	CP 20H
 1055 F6FD  28 B7       	JR Z,MO2
 1056 F6FF  CD F32D     MO10:	CALL ERRM
 1057 F702  18 98       	JR MO1
 1058                    
 1059 F704  7F7F        	DEFW 7F7FH	;>WINDOW<
 1060 F706  57 49 4E 44 	DEFM 'WINDOW'
 1061 F70C  01          	DEFB 1
 1062                   	;
 1063 F70D  A7          	AND A
 1064 F70E  28 3C       	JR Z,WINAK
 1065 F710  3D          	DEC A
 1066 F711  28 38       	JR Z,WINAK0
 1067 F713  FE 03       	CP 3
 1068 F715  38 13       	JR C,ERRM2
 1069 F717  65          	LD H,L
 1070 F718  69          	LD L,C
 1071 F719  53          	LD D,E
 1072 F71A  3A B788     	LD A,(0B788H)
 1073 F71D  5F          	LD E,A
 1074 F71E  3A B78A     	LD A,(0B78AH)
 1075 F721  20 03       	JR NZ,WIN5
 1076 F723  3A B79B     	LD A,(0B79BH)
 1077 F726  CD F730     WIN5:	CALL WININ
 1078 F729  D0          	RET NC
 1079 F72A  C3 F32D     ERRM2:	JP ERRM
 1080                    
 1081 F72D  3A B79B     WININ0:	LD A,(0B79BH)	;von BASIC
 1082 F730  F5          WININ:	PUSH AF		;UP 3C WININ
 1083 F731  CD F768     	CALL PART
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  59
CAOSFVI ASM

 1084 F734  DA E0AE     IAD21:	JP C,IAD2
 1085 F737  F1          	POP AF
 1086 F738  D5          	PUSH DE
 1087 F739  E5          	PUSH HL
 1088 F73A  CD F77D     	CALL WCOPY
 1089 F73D  E1          	POP HL
 1090 F73E  D1          	POP DE
 1091 F73F  22 B79C     	LD (0B79CH),HL
 1092 F742  ED 53 B79E  	LD (0B79EH),DE
 1093 F746  ED 43 B7A0  	LD (0B7A0H),BC
 1094 F74A  C9          	RET
 1095                    
 1096 F74B  7D          WINAK0:	LD A,L
 1097 F74C  CD F77D     WINAK:	CALL WCOPY	;UP 3D WINAK
 1098 F74F  CD F757     WINAK1:	CALL WINANF	;von BASIC
 1099 F752  D8          	RET C
 1100 F753  23          	INC HL
 1101 F754  EB          	EX DE,HL
 1102 F755  18 2F       	JR WCPY1
 1103                    
 1104 F757  21 B79B     WINANF:	LD HL,0B79BH
 1105 F75A  7E          	LD A,(HL)
 1106 F75B  C6 F6       	ADD 0F6H
 1107 F75D  D8          	RET C
 1108 F75E  87          	ADD A
 1109 F75F  5F          	LD E,A
 1110 F760  87          	ADD A
 1111 F761  87          	ADD A
 1112 F762  83          	ADD E
 1113 F763  5F          	LD E,A
 1114 F764  16 B9       	LD D,0B9H
 1115 F766  A7          	AND A
 1116 F767  C9          	RET
 1117                    
 1118 F768  C6 F6       PART:	ADD 0F6H
 1119 F76A  D8          	RET C
 1120 F76B  7A          	LD A,D
 1121 F76C  D6 01       	SUB 1
 1122 F76E  D8          	RET C
 1123 F76F  84          	ADD H
 1124 F770  D8          	RET C
 1125 F771  C6 E0       	ADD 0E0H
 1126 F773  D8          	RET C
 1127 F774  7B          	LD A,E
 1128 F775  D6 01       	SUB 1
 1129 F777  D8          	RET C
 1130 F778  85          	ADD L
 1131 F779  D8          	RET C
 1132 F77A  C6 D8       	ADD 0D8H
 1133 F77C  C9          	RET
 1134                    
 1135 F77D  F5          WCOPY:	PUSH AF
 1136 F77E  CD F757     	CALL WINANF
 1137 F781  38 B1       	JR C,IAD21
 1138 F783  F1          	POP AF
 1139 F784  77          	LD (HL),A
 1140 F785  23          	INC HL
 1141 F786  01 000A     WCPY1:	LD BC,0AH
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  60
CAOSFVI ASM

 1142 F789  ED B0       JPLD:	LDIR
 1143 F78B  B7          	OR A
 1144 F78C  C9          	RET
 1145                    
 1146 F78D  23          KDISP1	INC HL
 1147 F78E  7E          KYDISP:	LD A,(HL)
 1148 F78F  A7          	AND A
 1149 F790  C8          	RET Z
 1150 F791  CD F64E     	CALL CSTBT
 1151 F794  18 F7       	JR KDISP1
 1152                    
 1153 F796  7F7F        	DEFW 7F7FH	;>KEY<
 1154 F798  4B 45 59    	DEFM 'KEY'
 1155 F79B  01          	DEFB 1
 1156                   	;
 1157 F79C  28 5E       	JR Z,KEYLI
 1158 F79E  7D          	LD A,L
 1159                   	;
 1160 F79F  A7          KEY:	AND A		;UP 39 KEY
 1161 F7A0  21 B900     	LD HL,0B900H
 1162 F7A3  28 50       	JR Z,KKILL
 1163 F7A5  FE 0D       	CP 0DH
 1164 F7A7  D0          	RET NC
 1165 F7A8  47          	LD B,A
 1166 F7A9  7E          KEY1:	LD A,(HL)
 1167 F7AA  23          	INC HL
 1168 F7AB  A7          	AND A
 1169 F7AC  20 FB       	JR NZ,KEY1
 1170 F7AE  10 F9       	DJNZ KEY1
 1171 F7B0  CD F78E     	CALL KYDISP
 1172 F7B3  F5          KEY2:	PUSH AF
 1173 F7B4  2B          	DEC HL
 1174 F7B5  F1          KEY3:	POP AF
 1175 F7B6  CD F0A2     KEY4:	CALL INTB
 1176 F7B9  FE 13       	CP 13H
 1177 F7BB  CA F337     	JP Z,CRLF
 1178 F7BE  F5          	PUSH AF
 1179 F7BF  06 00       	LD B,0
 1180 F7C1  3D          	DEC A
 1181 F7C2  20 15       	JR NZ,KEY5
 1182 F7C4  7E          	LD A,(HL)
 1183 F7C5  A7          	AND A
 1184 F7C6  28 ED       	JR Z,KEY3
 1185 F7C8  54          	LD D,H
 1186 F7C9  5D          	LD E,L
 1187 F7CA  E5          	PUSH HL
 1188 F7CB  23          	INC HL
 1189 F7CC  3E 9C       	LD A,9CH
 1190 F7CE  95          	SUB L
 1191 F7CF  4F          	LD C,A
 1192 F7D0  ED B0       	LDIR
 1193 F7D2  E1          	POP HL
 1194 F7D3  F1          	POP AF
 1195 F7D4  CD F0AB     	CALL OCHR
 1196 F7D7  18 DA       	JR KEY2
 1197 F7D9  3A B99A     KEY5:	LD A,(0B99AH)
 1198 F7DC  A7          	AND A
 1199 F7DD  20 D6       	JR NZ,KEY3
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  61
CAOSFVI ASM

 1200 F7DF  E5          	PUSH HL
 1201 F7E0  3E 9B       	LD A,9BH
 1202 F7E2  95          	SUB L
 1203 F7E3  4F          	LD C,A
 1204 F7E4  21 B99A     	LD HL,0B99AH
 1205 F7E7  11 B99B     	LD DE,0B99BH
 1206 F7EA  ED B8       	LDDR
 1207 F7EC  E1          	POP HL
 1208 F7ED  F1          	POP AF
 1209 F7EE  23          	INC HL
 1210 F7EF  77          	LD (HL),A
 1211 F7F0  CD F64E     	CALL CSTBT
 1212 F7F3  18 C1       	JR KEY4
 1213                    
 1214 F7F5  06 9C       KKILL:	LD B,09CH
 1215 F7F7  77          KKIL1:	LD (HL),A
 1216 F7F8  23          	INC HL
 1217 F7F9  10 FC       	DJNZ KKIL1
 1218 F7FB  C9          	RET
 1219                    
 1220 F7FC  21 B900     KEYLI:	LD HL,0B900H	;UP 3A KEYLI
 1221 F7FF  01 0CF0     	LD BC,0CF0H
 1222 F802  0C          KEYL0:	INC C
 1223 F803  CD F342     	CALL CLLN
 1224 F806  79          	LD A,C
 1225 F807  CD F261     	CALL AHOSTR
 1226 F80A  20 3A       	DEFM ' :'
 1227 F80C  00          	DEFB 0
 1228 F80D  CD F78D     	CALL KDISP1
 1229 F810  CD F337     	CALL CRLF
 1230 F813  10 ED       	DJNZ KEYL0
 1231 F815  C9          	RET
 1232                    
 1233 F816  E5          CUCP:	PUSH HL		;UP 25 CUCP
 1234 F817  D5          	PUSH DE
 1235 F818  F5          	PUSH AF
 1236 F819  ED 5B B7A0  	LD DE,(0B7A0H)
 1237 F81D  CD E0BD     	CALL DABR
 1238 F820  38 21       	JR C,CEND
 1239 F822  7E          	LD A,(HL)
 1240 F823  CD E045     	CALL PADR1
 1241 F826  B7          	OR A
 1242 F827  20 0A       	JR NZ,CFARB
 1243 F829  CB ED       	SET 5,L
 1244 F82B  CB C4       	SET 0,H
 1245 F82D  7E          	LD A,(HL)
 1246 F82E  EE 7F       	XOR 7FH
 1247 F830  77          	LD (HL),A
 1248 F831  18 10       	JR CEND
 1249                    
 1250 F833  1A          CFARB:	LD A,(DE)
 1251 F834  2F          	CPL
 1252 F835  12          	LD (DE),A
 1253 F836  CB EB       	SET 5,E
 1254 F838  1A          	LD A,(DE)
 1255 F839  2F          	CPL
 1256 F83A  DD CB 08 7E 	BIT 7,(IX+8)
 1257 F83E  20 02       	JR NZ,CFAB1
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  62
CAOSFVI ASM

 1258 F840  EE 04       	XOR 4
 1259 F842  12          CFAB1:	LD (DE),A
 1260 F843  F1          CEND:	POP AF
 1261 F844  18 14       	JR PUDEND
 1262                    
 1263                   ;*** Grafiktreiber ***
 1264                    
 1265 F846  3E          PUDE:	DEFB 3EH	;UP 2F PUDE
 1266                   	;
 1267 F847  AF          PUSE:	XOR A		;UP 30 PUSE
 1268 F848  E5          	PUSH HL
 1269 F849  D5          	PUSH DE
 1270 F84A  2A B7D3     	LD HL,(0B7D3H)	;HOR
 1271 F84D  ED 5B B7D5  	LD DE,(0B7D5H)	;VERT
 1272 F851  B7          	OR A
 1273 F852  20 09       	JR NZ,PUDEJP
 1274 F854  CD F99B     	CALL WTESTV
 1275 F857  D4 F957     	CALL NC,POINT
 1276 F85A  D1          PUDEND:	POP DE
 1277 F85B  E1          	POP HL
 1278 F85C  C9          	RET
 1279                    
 1280 F85D  CD F99B     PUDEJP:	CALL WTESTV
 1281 F860  38 F8       	JR C,PUDEND
 1282 F862  C5          	PUSH BC
 1283 F863  CD F97F     	CALL BADR
 1284 F866  47          	LD B,A
 1285 F867  4E          	LD C,(HL)
 1286 F868  2F          	CPL
 1287 F869  A1          	AND C
 1288 F86A  77          	LD (HL),A
 1289 F86B  78          	LD A,B
 1290 F86C  A1          	AND C
 1291 F86D  1A          	LD A,(DE)
 1292 F86E  C1          	POP BC
 1293 F86F  18 E9       	JR PUDEND
 1294                    
 1295 F871  D9          LINE:	EXX		;UP 3E LINE
 1296 F872  E5          	PUSH HL
 1297 F873  D5          	PUSH DE
 1298 F874  C5          	PUSH BC
 1299 F875  ED 5B B788  	LD DE,(0B788H)
 1300 F879  2A B784     	LD HL,(0B784H)
 1301 F87C  D9          	EXX
 1302 F87D  CD F480     	CALL LARG
 1303 F880  50          	LD D,B
 1304 F881  59          	LD E,C
 1305 F882  AF          LINE1:	XOR A
 1306 F883  ED 52       	SBC HL,DE
 1307 F885  30 07       	JR NC,LINE2
 1308 F887  19          	ADD HL,DE
 1309 F888  EB          	EX DE,HL
 1310 F889  D9          	EXX
 1311 F88A  EB          	EX DE,HL
 1312 F88B  D9          	EXX
 1313 F88C  18 F4       	JR LINE1
 1314 F88E  D9          LINE2:	EXX
 1315 F88F  D5          	PUSH DE
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  63
CAOSFVI ASM

 1316 F890  ED 52       LINE3:	SBC HL,DE
 1317 F892  30 06       	JR NC,LINE4
 1318 F894  19          	ADD HL,DE
 1319 F895  EB          	EX DE,HL
 1320 F896  F6 01       	OR 1
 1321 F898  18 F6       	JR LINE3
 1322 F89A  E5          LINE4:	PUSH HL
 1323 F89B  D9          	EXX
 1324 F89C  C1          	POP BC
 1325 F89D  E5          	PUSH HL
 1326 F89E  ED 42       	SBC HL,BC
 1327 F8A0  E1          	POP HL
 1328 F8A1  C5          	PUSH BC
 1329 F8A2  30 03       	JR NC,LINE5
 1330 F8A4  E3          	EX (SP),HL
 1331 F8A5  F6 02       	OR 2
 1332 F8A7  E5          LINE5:	PUSH HL
 1333 F8A8  44          	LD B,H
 1334 F8A9  4D          	LD C,L
 1335 F8AA  D9          	EXX
 1336 F8AB  C1          	POP BC
 1337 F8AC  D1          	POP DE
 1338 F8AD  60          	LD H,B
 1339 F8AE  69          	LD L,C
 1340 F8AF  CB 3C       	SRL H
 1341 F8B1  CB 1D       	RR  L
 1342 F8B3  D9          	EXX
 1343 F8B4  E1          	POP HL
 1344 F8B5  EB          	EX DE,HL
 1345 F8B6  03          	INC BC
 1346 F8B7  CD F948     LINE6:	CALL SHLDE
 1347 F8BA  D9          	EXX
 1348 F8BB  A7          	AND A
 1349 F8BC  ED 52       	SBC HL,DE
 1350 F8BE  30 01       	JR NC,LINE7
 1351 F8C0  09          	ADD HL,BC
 1352 F8C1  D9          LINE7:	EXX
 1353 F8C2  CB 4F       	BIT 1,A
 1354 F8C4  20 02       	JR NZ,VDE
 1355 F8C6  30 0A       	JR NC,IHL
 1356 F8C8  CB 47       VDE:	BIT 0,A
 1357 F8CA  13          	INC DE
 1358 F8CB  28 02       	JR Z,IDE
 1359 F8CD  1B          	DEC DE
 1360 F8CE  1B          	DEC DE
 1361 F8CF  38 01       IDE:	JR C,IHL
 1362 F8D1  2B          	DEC HL
 1363 F8D2  ED A1       IHL:	CPI
 1364 F8D4  EA F8B7     	JP PE,LINE6
 1365                   	;
 1366 F8D7  C1          CIREND:	POP BC
 1367 F8D8  D1          	POP DE
 1368 F8D9  E1          	POP HL
 1369 F8DA  D9          	EXX
 1370 F8DB  C9          	RET
 1371                    
 1372 F8DC  D9          CIRCLE:	EXX		;UP 3F CIRCLE
 1373 F8DD  E5          	PUSH HL
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  64
CAOSFVI ASM

 1374 F8DE  D5          	PUSH DE
 1375 F8DF  C5          	PUSH BC
 1376 F8E0  3A B786     	LD A,(0B786H)	;ARG3
 1377 F8E3  4F          	LD C,A
 1378 F8E4  51          	LD D,C
 1379 F8E5  CD FA98     	CALL MULT
 1380 F8E8  60          	LD H,B
 1381 F8E9  6F          	LD L,A
 1382 F8EA  54          	LD D,H
 1383 F8EB  5D          	LD E,L
 1384 F8EC  79          	LD A,C
 1385 F8ED  06 00       	LD B,0
 1386 F8EF  CB 21       	SLA C
 1387 F8F1  CB 10       	RL  B
 1388 F8F3  0B          	DEC BC
 1389 F8F4  C5          	PUSH BC
 1390 F8F5  01 0001     	LD BC,1
 1391 F8F8  D9          	EXX
 1392 F8F9  4F          	LD C,A
 1393 F8FA  06 00       	LD B,0
 1394 F8FC  CD F922     CIR1:	CALL CIRUP1
 1395 F8FF  CD F922     	CALL CIRUP1
 1396 F902  D9          	EXX
 1397 F903  A7          	AND A
 1398 F904  ED 42       	SBC HL,BC
 1399 F906  03          	INC BC
 1400 F907  03          	INC BC
 1401 F908  ED 52       	SBC HL,DE
 1402 F90A  19          	ADD HL,DE
 1403 F90B  D9          	EXX
 1404 F90C  30 0C       	JR NC,CIR2
 1405 F90E  D9          	EXX
 1406 F90F  E3          	EX (SP),HL
 1407 F910  EB          	EX DE,HL
 1408 F911  A7          	AND A
 1409 F912  ED 52       	SBC HL,DE
 1410 F914  1B          	DEC DE
 1411 F915  1B          	DEC DE
 1412 F916  EB          	EX DE,HL
 1413 F917  E3          	EX (SP),HL
 1414 F918  D9          	EXX
 1415 F919  0D          	DEC C
 1416 F91A  04          CIR2:	INC B
 1417 F91B  79          	LD A,C
 1418 F91C  B8          	CP B
 1419 F91D  30 DD       	JR NC,CIR1
 1420 F91F  C1          	POP BC
 1421 F920  18 B5       	JR CIREND
 1422                    
 1423 F922  78          CIRUP1:	LD A,B
 1424 F923  41          	LD B,C
 1425 F924  4F          	LD C,A
 1426 F925  AF          	XOR A
 1427 F926  57          	LD D,A
 1428 F927  2A B784     	LD HL,(0B784H)
 1429 F92A  E5          	PUSH HL
 1430 F92B  59          	LD E,C
 1431 F92C  19          	ADD HL,DE
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  65
CAOSFVI ASM

 1432 F92D  CD F936     	CALL CIRUP2
 1433 F930  AF          	XOR A
 1434 F931  57          	LD D,A
 1435 F932  E1          	POP HL
 1436 F933  59          	LD E,C
 1437 F934  ED 52       	SBC HL,DE
 1438 F936  E5          CIRUP2:	PUSH HL
 1439 F937  2A B782     	LD HL,(0B782H)
 1440 F93A  58          	LD E,B
 1441 F93B  A7          	AND A
 1442 F93C  ED 52       	SBC HL,DE
 1443 F93E  D1          	POP DE
 1444 F93F  CD F948     	CALL SHLDE
 1445 F942  D5          	PUSH DE
 1446 F943  57          	LD D,A
 1447 F944  58          	LD E,B
 1448 F945  19          	ADD HL,DE
 1449 F946  19          	ADD HL,DE
 1450 F947  D1          	POP DE
 1451                   	;
 1452 F948  F5          SHLDE:	PUSH AF
 1453 F949  CD F997     	CALL WTEST
 1454 F94C  38 07       	JR C,ENDS
 1455 F94E  E5          	PUSH HL
 1456 F94F  D5          	PUSH DE
 1457 F950  CD F957     	CALL POINT
 1458 F953  D1          	POP DE
 1459 F954  E1          	POP HL
 1460 F955  F1          ENDS:	POP AF
 1461 F956  C9          	RET
 1462                    
 1463 F957  CD F97F     POINT:	CALL BADR
 1464 F95A  D5          	PUSH DE
 1465 F95B  ED 5B B7D6  	LD DE,(0B7D6H)
 1466 F95F  CB 4B       	BIT 1,E
 1467 F961  20 14       	JR NZ,NOTPT
 1468 F963  CB 43       	BIT 0,E
 1469 F965  20 15       	JR NZ,XORPT
 1470 F967  B6          	OR (HL)
 1471 F968  CB 53       XORPT1:	BIT 2,E
 1472 F96A  77          	LD (HL),A
 1473 F96B  7B          	LD A,E
 1474 F96C  D1          	POP DE
 1475 F96D  C0          	RET NZ
 1476 F96E  E6 F8       	AND 0F8H
 1477 F970  67          	LD H,A
 1478 F971  1A          	LD A,(DE)
 1479 F972  E6 07       	AND 7
 1480 F974  B4          	OR H
 1481 F975  12          	LD (DE),A
 1482 F976  C9          	RET
 1483                    
 1484 F977  2F          NOTPT:	CPL
 1485 F978  A6          	AND (HL)
 1486 F979  77          	LD (HL),A
 1487 F97A  D1          	POP DE
 1488 F97B  C9          	RET
 1489                    
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  66
CAOSFVI ASM

 1490 F97C  AE          XORPT:	XOR (HL)
 1491 F97D  18 E9       	JR XORPT1
 1492                    
 1493 F97F  7D          BADR:	LD A,L
 1494 F980  53          	LD D,E
 1495 F981  E6 07       	AND 7
 1496 F983  29          	ADD HL,HL
 1497 F984  29          	ADD HL,HL
 1498 F985  29          	ADD HL,HL
 1499 F986  29          	ADD HL,HL
 1500 F987  29          	ADD HL,HL
 1501 F988  6C          	LD L,H
 1502 F989  C6 F8       	ADD Low(BITTAB)
 1503 F98B  5F          	LD E,A
 1504 F98C  7A          	LD A,D
 1505 F98D  2F          	CPL
 1506 F98E  67          	LD H,A
 1507 F98F  3A B7D8     	LD A,(0B7D8H)
 1508 F992  57          	LD D,A
 1509 F993  1A          	LD A,(DE)
 1510 F994  C3 E04F     	JP PADR
 1511                    
 1512 F997  7A          WTEST:	LD A,D
 1513 F998  C6 FF       	ADD 0FFH
 1514 F99A  D8          	RET C
 1515 F99B  7C          WTESTV:	LD A,H
 1516 F99C  B7          	OR A
 1517 F99D  C8          	RET Z
 1518 F99E  C6 FE       	ADD 0FEH
 1519 F9A0  D8          	RET C
 1520 F9A1  7D          	LD A,L
 1521 F9A2  C6 C0       	ADD 0C0H
 1522 F9A4  C9          	RET
 1523                    
 1524                   ;*** Byteweise Tape-Routinen***
 1525                    
 1526 F9A5  5A          MBOUT:	LD E,D		;UP 38 MBOT
 1527 F9A6  57          	LD D,A
 1528 F9A7  D5          	PUSH DE
 1529 F9A8  C5          	PUSH BC
 1530 F9A9  CB 5B       	BIT 3,E
 1531 F9AB  20 46       	JR NZ,INITO
 1532 F9AD  3A B7DC     	LD A,(0B7DCH)
 1533 F9B0  26 B7       INITO2:	LD H,0B7H
 1534 F9B2  6F          	LD L,A
 1535 F9B3  72          	LD (HL),D
 1536 F9B4  3C          	INC A
 1537 F9B5  CB 73       	BIT 6,E
 1538 F9B7  20 25       	JR NZ,CLOSEO
 1539 F9B9  E6 7F       	AND 7FH
 1540 F9BB  32 B7DC     	LD (0B7DCH),A
 1541 F9BE  20 2E       	JR NZ,POPS
 1542 F9C0  DD CB 07 4E 	BIT 1,(IX+7)
 1543 F9C4  28 09       	JR Z,KINITO
 1544 F9C6  CD F604     	CALL NBWI
 1545 F9C9  DD CB 07 8E 	RES 1,(IX+7)
 1546 F9CD  18 1F       	JR POPS
 1547                    
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  67
CAOSFVI ASM

 1548 F9CF  CD F5E5     KINITO:	CALL NBW
 1549 F9D2  30 1A       	JR NC,POPS
 1550 F9D4  CD E45E     IOERRO:	CALL CRO0
 1551 F9D7  2A B7C9     IOERR:	LD HL,(0B7C9H)
 1552 F9DA  CD F091     	CALL IRMOFF
 1553 F9DD  E9          	JP (HL)
 1554                    
 1555 F9DE  DD CB 07 4E CLOSEO:	BIT 1,(IX+7)
 1556 F9E2  F5          	PUSH AF
 1557 F9E3  C4 F604     	CALL NZ,NBWI
 1558 F9E6  F1          	POP AF
 1559 F9E7  CC F5E5     	CALL Z,NBW
 1560 F9EA  37          	SCF
 1561 F9EB  CD F5E9     	CALL NBW1
 1562 F9EE  C1          POPS:	POP BC
 1563 F9EF  D1          	POP DE
 1564 F9F0  CB 9B       	RES 3,E
 1565 F9F2  C9          	RET
 1566                    
 1567 F9F3  DD CB 07 CE INITO:	SET 1,(IX+7)
 1568 F9F7  7E          	LD A,(HL)
 1569 F9F8  FE D5       	CP 'U'+80H
 1570 F9FA  20 04       	JR NZ,INITO1
 1571 F9FC  DD CB 07 EE 	SET 5,(IX+7)
 1572 FA00  D5          INITO1:	PUSH DE
 1573 FA01  11 B700     	LD DE,0B700H
 1574 FA04  01 000B     	LD BC,11
 1575 FA07  ED B0       	LDIR
 1576 FA09  7B          	LD A,E
 1577 FA0A  D1          	POP DE
 1578 FA0B  18 A3       	JR INITO2
 1579                    
 1580 FA0D  CD E442     IOERRI:	CALL CMBI
 1581 FA10  18 C5       	JR IOERR
 1582                    
 1583 FA12  5A          MBIN:	LD E,D		;UP 37 MBIN
 1584 FA13  D5          	PUSH DE
 1585 FA14  C5          	PUSH BC
 1586 FA15  CB 73       	BIT 6,E
 1587 FA17  20 65       	JR NZ,CLOSI
 1588 FA19  CB 5B       	BIT 3,E
 1589 FA1B  20 17       	JR NZ,INII
 1590 FA1D  3A B7DC     	LD A,(0B7DCH)
 1591 FA20  B7          	OR A
 1592 FA21  6F          	LD L,A
 1593 FA22  CC F58D     	CALL Z,NBR
 1594 FA25  38 E6       	JR C,IOERRI
 1595 FA27  26 B7       BYTHOL:	LD H,0B7H
 1596 FA29  56          	LD D,(HL)
 1597 FA2A  7D          	LD A,L
 1598 FA2B  3C          	INC A
 1599 FA2C  E6 7F       	AND 7FH
 1600 FA2E  32 B7DC     	LD (0B7DCH),A
 1601 FA31  7A          	LD A,D
 1602 FA32  18 BA       POPS1:	JR POPS
 1603                    
 1604 FA34  DD CB 07 8E INII:	RES 1,(IX+7)
 1605 FA38  CD E40E     	CALL IMBII
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  68
CAOSFVI ASM

 1606 FA3B  CD F58D     	CALL NBR
 1607 FA3E  38 CD       	JR C,IOERRI
 1608 FA40  11 B700     	LD DE,0B700H
 1609 FA43  06 0B       	LD B,11
 1610 FA45  1A          	LD A,(DE)
 1611 FA46  FE D5       	CP 'U'+80H
 1612 FA48  28 04       	JR Z,INII1
 1613 FA4A  DD CB 07 AE 	RES 5,(IX+7)
 1614 FA4E  C6 29       INII1:	ADD 29H
 1615 FA50  30 0D       	JR NC,INII2
 1616 FA52  1A          	LD A,(DE)
 1617 FA53  D6 04       	SUB 4
 1618 FA55  12          	LD (DE),A
 1619 FA56  13          	INC DE
 1620 FA57  12          	LD (DE),A
 1621 FA58  13          	INC DE
 1622 FA59  12          	LD (DE),A
 1623 FA5A  1B          	DEC DE
 1624 FA5B  1B          	DEC DE
 1625 FA5C  32 035E     	LD (35EH),A
 1626 FA5F  1A          INII2:	LD A,(DE)
 1627 FA60  CD E349     	CALL CRT
 1628 FA63  BE          	CP (HL)
 1629 FA64  28 04       	JR Z,INII3
 1630 FA66  DD CB 07 CE 	SET 1,(IX+7)
 1631 FA6A  13          INII3:	INC DE
 1632 FA6B  23          	INC HL
 1633 FA6C  10 F1       	DJNZ INII2
 1634 FA6E  CD F337     	CALL CRLF
 1635 FA71  DD CB 07 4E 	BIT 1,(IX+7)
 1636 FA75  DD CB 07 8E 	RES 1,(IX+7)
 1637 FA79  20 92       	JR NZ,IOERRI
 1638 FA7B  6B          	LD L,E
 1639 FA7C  18 A9       	JR BYTHOL
 1640                    
 1641 FA7E  CD E442     CLOSI:	CALL CMBI
 1642 FA81  18 AF       	JR POPS1
 1643                    
 1644                   ;*** Sonstiges ***
 1645                    
 1646 FA83  7E          ZKOUT:	LD A,(HL)		;UP 45 ZKOUT
 1647 FA84  23          	INC HL
 1648 FA85  A7          	AND A
 1649 FA86  C8          	RET Z
 1650 FA87  CD F0AB     	CALL OCHR
 1651 FA8A  18 F7       	JR ZKOUT
 1652                    
 1653 FA8C  AF          SQR:	XOR A		;UP 40 SQR
 1654 FA8D  3D          	DEC A
 1655 FA8E  5F          	LD E,A
 1656 FA8F  57          	LD D,A
 1657 FA90  3C          SQR1:	INC A
 1658 FA91  13          	INC DE
 1659 FA92  13          	INC DE
 1660 FA93  ED 52       	SBC HL,DE
 1661 FA95  F8          	RET M
 1662 FA96  18 F8       	JR SQR1
 1663                    
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  69
CAOSFVI ASM

 1664 FA98  AF          MULT:	XOR A		;UP 41 MULT
 1665 FA99  06 08       	LD B,8
 1666 FA9B  CB 1A       	RR D
 1667 FA9D  30 01       MU1:	JR NC,MU2
 1668 FA9F  81          	ADD C
 1669 FAA0  1F          MU2:	RRA
 1670 FAA1  CB 1A       	RR D
 1671 FAA3  10 F8       	DJNZ MU1
 1672 FAA5  47          	LD B,A
 1673 FAA6  7A          	LD A,D
 1674 FAA7  C9          	RET
 1675                    
 1676                   ; Module schalten fuer PWRON
 1677 FAA8  11 01EE     MODSW:	LD DE,UMODL	;IO-Modul
 1678 FAAB  CD FAC0     	CALL MOSW
 1679 FAAE  32 B7E1     	LD (0B7E1H),A	;IO-Modul 0/1?
 1680 FAB1  11 43F6     MODSW1:	LD DE,43F6H	;64K-Modul
 1681 FAB4  CD FAC0     	CALL MOSW
 1682 FAB7  1E F4       	LD E,0F4H	;16K-Modul
 1683 FAB9  B7          	OR A
 1684 FABA  CC FAC0     	CALL Z,MOSW	;nur wenn kein 64K-Modul
 1685 FABD  11 C1FB     	LD DE,0C1FBH	;8K ROM (EDAS, FORTH, TEXOR)
 1686                   ;Modul suchen und schalten
 1687                   ;PE:	E=Modulkennung
 1688                   ;	D=Sollzustand
 1689                   ;PA:	A=1 wenn gefunden
 1690                   ;	A=0 nicht gefunden
 1691 FAC0  01 0680     MOSW:	LD BC,680H	;ab Steckplatz 7
 1692 FAC3  AF          MOSW1:	XOR A
 1693 FAC4  04          	INC B		;Steckplatz+1
 1694 FAC5  C8          	RET Z		;alles durchsucht
 1695 FAC6  ED 78       	IN A,(C)
 1696 FAC8  BB          	CP E		;gesuchte Modulkennung?
 1697 FAC9  20 F8       	JR NZ,MOSW1
 1698 FACB  3E 01       	LD A,1
 1699 FACD  26 B8       MOSW2:	LD H,0B8H	;Steuerbytetabelle im IRM
 1700 FACF  68          	LD L,B		;Steckplatz
 1701 FAD0  ED 51       	OUT (C),D	;Modul schalten und
 1702 FAD2  72          	LD (HL),D	;in Tabelle eintragen
 1703 FAD3  C9          	RET
 1704                    
 1705                   ;*** Druckertreiber (V24) ***
 1706                    
 1707 FAD4              PRZK:	;folgt TAB, 1.Byte L{nge
 1708 FAD4  E3          	EX (SP),HL
 1709 FAD5  46          	LD B,(HL)
 1710 FAD6  23          	INC HL
 1711 FAD7  7E          PRZK1:	LD A,(HL)
 1712 FAD8  23          	INC HL
 1713 FAD9  CD FB0A     	CALL PRINT
 1714 FADC  10 F9       	DJNZ PRZK1
 1715 FADE  E3          	EX (SP),HL
 1716 FADF  C9          	RET
 1717                    
 1718 FAE0  F5          ECHO:	PUSH AF
 1719 FAE1  E5          	PUSH HL
 1720 FAE2  21 B7A2     	LD HL,0B7A2H
 1721 FAE5  CB 66       	BIT 4,(HL)
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  70
CAOSFVI ASM

 1722 FAE7  CD E349     	CALL CRT
 1723 FAEA  20 1A       	JR NZ,ECH4
 1724 FAEC  CB 5E       	BIT 3,(HL)
 1725 FAEE  28 0E       	JR Z,ECH2
 1726 FAF0  E6 7F       	AND 7FH
 1727 FAF2  FE 20       	CP 20H
 1728 FAF4  38 04       	JR C,ECH1
 1729 FAF6  FE 7F       	CP 7FH
 1730 FAF8  20 0C       	JR NZ,ECH4
 1731 FAFA  3E 5F       ECH1:	LD A,'_'
 1732 FAFC  18 06       	JR ECH3
 1733                    
 1734 FAFE  FE 09       ECH2:	CP 9		;CUR
 1735 FB00  20 02       	JR NZ,ECH3
 1736 FB02  3E 20       	LD A,' '
 1737 FB04  FE 0F       ECH3:	CP 0FH		;SH+CLR
 1738 FB06  E1          ECH4:	POP HL
 1739 FB07  28 17       	JR Z,PRT	;POP+RET
 1740 FB09  ED          	DEFB 0EDH	;NOP-BYTE
 1741                   	;
 1742 FB0A  F5          PRINT:	PUSH AF
 1743 FB0B  00          	NOP		;Freihalte-Bytes
 1744 FB0C  00          	NOP		; f. CENTR.Vers.
 1745 FB0D  CD F287     WT:	CALL BRKT
 1746 FB10  38 0E       	JR C,PRT
 1747 FB12  DB 0A       	IN A,(SIO+2)
 1748 FB14  CB 57       	BIT 2,A
 1749 FB16  28 F5       	JR Z,WT
 1750 FB18  F1          	POP AF
 1751 FB19  D3 08       	OUT (SIO),A
 1752 FB1B  C9          	RET
 1753 FB1C  ED 44       	NEG
 1754 FB1E  ED 44       	NEG
 1755 FB20  F1          PRT:	POP AF
 1756 FB21  C9          	RET
 1757                    
 1758 FB22              SHCLX:	;Reaktion auf SH+CLR
 1759 FB22  3A B7E1     	LD A,(0B7E1H)
 1760 FB25  3D          	DEC A
 1761 FB26  20 24       	JR NZ,HCPX	;IO-Modul vorhanden
 1762 FB28  2A B7B9     	LD HL,(0B7B9H)	;OUTAB
 1763 FB2B  7E          	LD A,(HL)
 1764 FB2C  B7          	OR A
 1765 FB2D  28 08       	JR Z,SHX1
 1766 FB2F  21 FB0A     	LD HL,PRINT
 1767 FB32  01 F008     	LD BC,ZEI0
 1768 FB35  18 06       	JR SHX2
 1769 FB37  21 FAE0     SHX1:	LD HL,ECHO
 1770 FB3A  01 F00B     	LD BC,ZEI2
 1771 FB3D  22 B7BE     SHX2:	LD (0B7BEH),HL	;UOUT1+1
 1772 FB40  ED 43 B7B9  	LD (0B7B9H),BC	;OUTAB
 1773 FB44  C9          	RET
 1774                    
 1775 FB45  3A B7E1     ESC6:	LD A,(0B7E1H)	;HCOPY
 1776 FB48  B7          	OR A
 1777 FB49  C8          	RET Z		;kein IO-Modul
 1778 FB4A  18 03       	JR HCPX0
 1779 FB4C  FE 02       HCPX:	CP 2
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  71
CAOSFVI ASM

 1780 FB4E  D0          	RET NC
 1781 FB4F  D5          HCPX0:	PUSH DE
 1782 FB50  21 0000     	LD HL,0
 1783 FB53  CD FAD4     HCPX1:	CALL PRZK
 1784 FB56  09          	DEFB 9
 1785 FB57  1B          	DEFB 1BH
 1786 FB58  4A          	DEFB 'J'	;Vorschub 1/9"
 1787 FB59  18          	DEFB 24
 1788 FB5A  0D          	DEFB 0DH
 1789 FB5B  1B          	DEFB 1BH
 1790 FB5C  2A          	DEFB '*'	;Plottergrafik
 1791 FB5D  05          	DEFB 5
 1792 FB5E  0140        	DEFW 140H
 1793 FB60  E5          HCPX2:	PUSH HL
 1794 FB61  CD E04F     	CALL PADR
 1795 FB64  CD FB98     	CALL RDX
 1796 FB67  0E 08       	LD C,8
 1797 FB69  21 B78E     HCPX3:	LD HL,0B78EH	;ARG7
 1798 FB6C  06 08       	LD B,8
 1799 FB6E  CB 16       HCPX4:	RL (HL)
 1800 FB70  2C          	INC L
 1801 FB71  17          	RLA
 1802 FB72  10 FA       	DJNZ HCPX4
 1803 FB74  2E A2       	LD L,0A2H
 1804 FB76  CB 56       	BIT 2,(HL)
 1805 FB78  28 01       	JR Z,HCPX5
 1806 FB7A  2F          	CPL		;negiert
 1807 FB7B  CD FB0A     HCPX5:	CALL PRINT
 1808 FB7E  0D          	DEC C
 1809 FB7F  20 E8       	JR NZ,HCPX3
 1810 FB81  E1          	POP HL
 1811 FB82  2C          	INC L
 1812 FB83  7D          	LD A,L
 1813 FB84  FE 28       	CP 40
 1814 FB86  20 D8       	JR NZ,HCPX2
 1815 FB88  2E 00       	LD L,0
 1816 FB8A  7C          	LD A,H
 1817 FB8B  C6 08       	ADD 8
 1818 FB8D  67          	LD H,A
 1819 FB8E  30 C3       	JR NC,HCPX1
 1820 FB90  CD FAD4     	CALL PRZK
 1821 FB93  02          	DEFB 2
 1822 FB94  0D0A        	DEFW 0D0AH
 1823 FB96  D1          	POP DE
 1824 FB97  C9          	RET
 1825                    
 1826 FB98              RDX:	;liest Zeichen nach ARG7
 1827 FB98  11 B78E     	LD DE,0B78EH
 1828 FB9B  01 0080     	LD BC,80H
 1829 FB9E  E5          	PUSH HL
 1830 FB9F  CD FBA5     	CALL RDX1
 1831 FBA2  E1          	POP HL
 1832 FBA3  CB ED       	SET 5,L
 1833 FBA5  3E 04       RDX1:	LD A,4
 1834 FBA7  ED A0       RDX2:	LDI
 1835 FBA9  09          	ADD HL,BC
 1836 FBAA  03          	INC BC
 1837 FBAB  3D          	DEC A
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  72
CAOSFVI ASM

 1838 FBAC  20 F9       	JR NZ,RDX2
 1839 FBAE  C9          	RET
 1840                    
 1841 FBAF  7F7F        	DEFW 7F7FH	;>V24><
 1842 FBB1  56 32 34    	DEFM 'V24'
 1843 FBB4  01          	DEFB 1		; als Parameter 0 oder 1 eingeben
 1844                   	;		; (fuer V.24-Modul nutzen oder nicht)
 1845 FBB5  7D          	LD A,L
 1846 FBB6  32 B7E1     	LD (0B7E1H),A	;IO-Modul
 1847 FBB9  C9          	RET
 1848                    
 1849 FBBA  7F7F        	DEFW 7F7FH	;>SEND<
 1850 FBBC  53 45 4E 44 	DEFM 'SEND'
 1851 FBC0  01          	DEFB 1
 1852                   	;
 1853 FBC1  C8          	RET Z		;kein Argument eingegeben
 1854 FBC2  47          	LD B,A		;Anzahl Argumente
 1855 FBC3  21 B782     	LD HL,0B782H	;ARG1
 1856 FBC6  7E          SND1:	LD A,(HL)
 1857 FBC7  23          	INC HL
 1858 FBC8  23          	INC HL
 1859 FBC9  CD FB0A     	CALL PRINT
 1860 FBCC  10 F8       	DJNZ SND1
 1861 FBCE  C9          	RET
 1862                    
 1863 FBCF  7F7F        	DEFW 7F7FH	;>USER<
 1864 FBD1  55 53 45 52 	DEFM 'USER'
 1865 FBD5  01          	DEFB 1
 1866                   	;
 1867 FBD6  FE 03       	CP 3
 1868 FBD8  CA F789     	JP Z,JPLD
 1869 FBDB  3D          	DEC A
 1870 FBDC  C2 F32D     	JP NZ,ERRM
 1871 FBDF  E9          	JP (HL)
 1872                    
 1873 FBE0  7F7F        	DEFW 7F7FH
 1874 FBE2  53 45 45 4B 	DEFM 'SEEK'
 1875 FBE6  01          	DEFB 1
 1876                    
 1877 FBE7  FE 03       	CP	3
 1878 FBE9  D8          	RET	C
 1879 FBEA  EB          	EX	DE,HL
 1880 FBEB  ED 52       	SBC	HL,DE
 1881 FBED  44          	LD	B,H
 1882 FBEE  4D          	LD	C,L
 1883 FBEF  EB          	EX	DE,HL
 1884 FBF0  11 B786     SCHL	LD	DE,0B786H	;ARG3
 1885 FBF3  1A          	LD	A,(DE)
 1886 FBF4  ED B1       	CPIR
 1887 FBF6  E2 F337     	JP	PO,CRLF
 1888 FBF9  C5          	PUSH	BC
 1889 FBFA  E5          	PUSH	HL
 1890 FBFB  3A B781     	LD	A,(0B781H)
 1891 FBFE  D6 03       	SUB	3
 1892 FC00  47          	LD	B,A
 1893 FC01  28 09       	JR	Z,GEF
 1894 FC03  13          NBYT	INC	DE
 1895 FC04  13          	INC	DE
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  73
CAOSFVI ASM

 1896 FC05  1A          	LD	A,(DE)
 1897 FC06  BE          	CP	(HL)
 1898 FC07  23          	INC	HL
 1899 FC08  20 10       	JR	NZ,NGEF
 1900 FC0A  10 F7       	DJNZ	NBYT
 1901 FC0C  E1          GEF	POP	HL
 1902 FC0D  C1          	POP	BC
 1903 FC0E  2B          	DEC	HL
 1904 FC0F  CD F320     	CALL	HLHX
 1905 FC12  23          	INC	HL
 1906 FC13  CD F287     	CALL	BRKT
 1907 FC16  DA F337     	JP	C,CRLF
 1908 FC19  11          	DEFB	11H
 1909 FC1A  E1          NGEF	POP	HL
 1910 FC1B  C1          	POP	BC
 1911 FC1C  18 D2       	JR	SCHL
 1912                    
 1913                   ;*** Tabellen ***
 1914                    
 1915 FC1E  E1DB        ESCTAB:	DEFW ASC5	;ESC0	Tabulatorschritt
 1916 FC20  E405        	DEFW ESC1	;ESC1
 1917 FC22  F62C        	DEFW ESC2	;ESC2
 1918 FC24  E360        	DEFW ESC3	;ESC3
 1919 FC26  E35D        	DEFW ESC4	;ESC4
 1920 FC28  F0D9        	DEFW MODUL	;ESC5	Auflisten aller Module
 1921 FC2A  FB45        	DEFW ESC6	;ESC6
 1922 FC2C  E35E        	DEFW ESC7	;ESC7
 1923 FC2E  E323        	DEFW ASC6	;ESC8
 1924 FC30  E35F        	DEFW ESCF	;ESC9
 1925 FC32  E560        	DEFW MOT	;ESCA
 1926                    
 1927                    
 1928 FC34  E349        SUTAB:	DEFW CRT	;0
 1929 FC36  E496        	DEFW MBOT	;1
 1930 FC38  B7BD        	DEFW 0B7BDH	;UOUT 1
 1931 FC3A  B7C3        	DEFW 0B7C3H	;UOUT 2
 1932 FC3C  F29B        	DEFW KBD	;4
 1933 FC3E  E4FF        	DEFW MBI	;5
 1934 FC40  B7C0        	DEFW 0B7C0H	;USIN 1
 1935 FC42  B7C6        	DEFW 0B7C6H	;USIN 2
 1936 FC44  E483        	DEFW ISRO	;8
 1937 FC46  E456        	DEFW CSRO	;9
 1938 FC48  E4F7        	DEFW ISRI	;0A
 1939 FC4A  F541        	DEFW CSRI	;0B
 1940 FC4C  E3F1        	DEFW KBDS	;0C
 1941 FC4E  F18C        	DEFW BYE	;0D
 1942 FC50  E3FC        	DEFW KBDZ	;0E
 1943 FC52  F614        	DEFW COLOR	;0F
 1944 FC54  F4AF        	DEFW LOAD	;10
 1945 FC56  F4A2        	DEFW VERIFY	;11
 1946 FC58  F1F3        	DEFW LOOP	;12
 1947 FC5A  F26A        	DEFW NORM	;13
 1948 FC5C  F24D        	DEFW WAIT	;14
 1949 FC5E  F480        	DEFW LARG	;15
 1950 FC60  F0A2        	DEFW INTB	;16
 1951 FC62  F2F9        	DEFW INLIN	;17
 1952 FC64  F362        	DEFW RHEX	;18
 1953 FC66  F32D        	DEFW ERRM	;19
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  74
CAOSFVI ASM

 1954 FC68  F320        	DEFW HLHX	;1A
 1955 FC6A  F359        	DEFW HLDE	;1B
 1956 FC6C  F346        	DEFW AHEX	;1C
 1957 FC6E  F224        	DEFW ZSUCH	;1D
 1958 FC70  F270        	DEFW SOUT	;1E
 1959 FC72  F27D        	DEFW SIN	;1F
 1960 FC74  F26D        	DEFW NOUT	;20
 1961 FC76  F27A        	DEFW NIN	;21
 1962 FC78  F397        	DEFW GARG	;22
 1963 FC7A  F264        	DEFW OSTR	;23
 1964 FC7C  F0AB        	DEFW OCHR	;24
 1965 FC7E  F816        	DEFW CUCP	;25
 1966 FC80  F0E9        	DEFW MODU	;26
 1967 FC82  F141        	DEFW JUMP	;27
 1968 FC84  E339        	DEFW LDMA	;28
 1969 FC86  E33B        	DEFW LDAM	;29
 1970 FC88  F287        	DEFW BRKT	;2A
 1971 FC8A  F328        	DEFW SPAC	;2B
 1972 FC8C  F337        	DEFW CRLF	;2C
 1973 FC8E  F33E        	DEFW HOME	;2D
 1974 FC90  F69A        	DEFW MODI	;2E
 1975 FC92  F846        	DEFW PUDE	;2F
 1976 FC94  F847        	DEFW PUSE	;30
 1977 FC96  F3CD        	DEFW SIXD	;31
 1978 FC98  E0BD        	DEFW DABR	;32
 1979 FC9A  E0B1        	DEFW TCIF	;33
 1980 FC9C  E04F        	DEFW PADR	;34
 1981 FC9E  E5BE        	DEFW TON	;35
 1982 FCA0  F447        	DEFW SAVE	;36
 1983 FCA2  FA12        	DEFW MBIN	;37
 1984 FCA4  F9A5        	DEFW MBOUT	;38
 1985 FCA6  F79F        	DEFW KEY	;39
 1986 FCA8  F7FC        	DEFW KEYLI	;3A
 1987 FCAA  F665        	DEFW DISP	;3B
 1988 FCAC  F730        	DEFW WININ	;3C
 1989 FCAE  F74C        	DEFW WINAK	;3D
 1990 FCB0  F871        	DEFW LINE	;3E
 1991 FCB2  F8DC        	DEFW CIRCLE	;3F
 1992 FCB4  FA8C        	DEFW SQR	;40
 1993 FCB6  FA98        	DEFW MULT	;41
 1994 FCB8  F64E        	DEFW CSTBT	;42
 1995 FCBA  F417        	DEFW INIEA	;43
 1996 FCBC  F422        	DEFW INIME	;44
 1997 FCBE  FA83        	DEFW ZKOUT	;45
 1998 FCC0  F1B2        	DEFW MENU	;46
 1999                    
 2000                    
 2001 FCC2  E348        CRTTAB:	DEFW DUMMY
 2002 FCC4  E223        	DEFW CLEAR
 2003 FCC6  E2ED        	DEFW DELLN
 2004 FCC8  E348        	DEFW DUMMY	;BRK
 2005 FCCA  E348        	DEFW DUMMY
 2006 FCCC  E1DB        	DEFW ASC5	;Tab
 2007 FCCE  E323        	DEFW ASC6	;Color
 2008 FCD0  E011        	DEFW BEL
 2009 FCD2  E202        	DEFW CUL
 2010 FCD4  E1EB        	DEFW CUR
 2011 FCD6  E1F4        	DEFW CUD
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  75
CAOSFVI ASM

 2012 FCD8  E212        	DEFW CUU
 2013 FCDA  E299        	DEFW CLS
 2014 FCDC  E2A9        	DEFW CRN
 2015 FCDE  E348        	DEFW DUMMY
 2016 FCE0  E1FE        	DEFW HCOPY
 2017 FCE2  E2A7        	DEFW HOMEPG
 2018 FCE4  E217        	DEFW PAGE
 2019 FCE6  E21E        	DEFW SCROL
 2020 FCE8  E348        	DEFW DUMMY	;STOP
 2021 FCEA  E340        	DEFW CLICK
 2022 FCEC  E348        	DEFW DUMMY
 2023 FCEE  E33D        	DEFW SHLOCK
 2024 FCF0  E348        	DEFW DUMMY
 2025 FCF2  E20C        	DEFW CEL
 2026 FCF4  E2A9        	DEFW CRN	;CCR
 2027 FCF6  E249        	DEFW INS
 2028 FCF8  E35C        	DEFW ESC
 2029 FCFA  E348        	DEFW DUMMY	;LIST
 2030 FCFC  E348        	DEFW DUMMY	;RUN
 2031 FCFE  E1F2        	DEFW CRNL	;CONT
 2032 FD00  E226        	DEFW DEL
 2033                    
 2034                    
 2035 FD02  57 77       KTAB:	DEFM 'Ww'
 2036 FD04  41 61       	DEFM 'Aa'
 2037 FD06  32 22       	DEFM '2"'
 2038 FD08  1908        	DEFW 1908H
 2039 FD0A  0C10        	DEFW 0C10H
 2040 FD0C  2D 3D       	DEFM '-='
 2041 FD0E  F8F2        	DEFW 0F8F2H
 2042 FD10  59 79       	DEFM 'Yy'
 2043 FD12  45 65       	DEFM 'Ee'
 2044 FD14  53 73       	DEFM 'Ss'
 2045 FD16  33 23       	DEFM '3#'
 2046 FD18  5E 5D       	DEFM '^]'
 2047 FD1A  0F01        	DEFW 0F01H
 2048 FD1C  3A 2A       	DEFM ':*'
 2049 FD1E  F9F3        	DEFW 0F9F3H
 2050 FD20  58 78       	DEFM 'Xx'
 2051 FD22  54 74       	DEFM 'Tt'
 2052 FD24  46 66       	DEFM 'Ff'
 2053 FD26  35 25       	DEFM '5%'
 2054 FD28  50 70       	DEFM 'Pp'
 2055 FD2A  021F        	DEFW 21FH
 2056 FD2C  4030        	DEFW 4030H
 2057 FD2E  FBF5        	DEFW 0FBF5H
 2058 FD30  56 76       	DEFM 'Vv'
 2059 FD32  55 75       	DEFM 'Uu'
 2060 FD34  48 68       	DEFM 'Hh'
 2061 FD36  2737        	DEFW 2737H
 2062 FD38  4F 6F       	DEFM 'Oo'
 2063 FD3A  141A        	DEFW 141AH
 2064 FD3C  39 29       	DEFM '9)'
 2065 FD3E  0303        	DEFW 303H
 2066 FD40  4E 6E       	DEFM 'Nn'
 2067 FD42  49 69       	DEFM 'Ii'
 2068 FD44  4A 6A       	DEFM 'Jj'
 2069 FD46  38 28       	DEFM '8('
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  76
CAOSFVI ASM

 2070 FD48  20 5B       	DEFM ' ['
 2071 FD4A  4B 6B       	DEFM 'Kk'
 2072 FD4C  2C 3C       	DEFM ',<'
 2073 FD4E  1B13        	DEFW 1B13H	;STOP/ESC
 2074 FD50  4D 6D       	DEFM 'Mm'
 2075 FD52  5A 7A       	DEFM 'Zz'
 2076 FD54  47 67       	DEFM 'Gg'
 2077 FD56  36 26       	DEFM '6&'
 2078 FD58  051B        	DEFW 51BH	;Taste nicht vorhanden
 2079 FD5A  4C 6C       	DEFM 'Ll'
 2080 FD5C  2E 3E       	DEFM '.>'
 2081 FD5E  FCF6        	DEFW 0FCF6H
 2082 FD60  42 62       	DEFM 'Bb'
 2083 FD62  52 72       	DEFM 'Rr'
 2084 FD64  44 64       	DEFM 'Dd'
 2085 FD66  34 24       	DEFM '4$'
 2086 FD68  5F 5C       	DEFM '_\'
 2087 FD6A  2B 3B       	DEFM '+;'
 2088 FD6C  2F 3F       	DEFM '/?'
 2089 FD6E  FAF4        	DEFW 0FAF4H
 2090 FD70  43 63       	DEFM 'Cc'
 2091 FD72  51 71       	DEFM 'Qq'
 2092 FD74  1616        	DEFW 1616H
 2093 FD76  31 21       	DEFM '1!'
 2094 FD78  120A        	DEFW 120AH
 2095 FD7A  110B        	DEFW 110BH
 2096 FD7C  1809        	DEFW 1809H
 2097 FD7E  F7F1        	DEFW 0F7F1H
 2098 FD80  0D0D        	DEFW 0D0DH
 2099                    
 2100                    
 2101 FD82  E576        ISRTAB:	DEFW ISRPA
 2102 FD84  E372        	DEFW ISRPB
 2103 FD86  E585        	DEFW INTEND
 2104 FD88  E566        	DEFW ISRC1
 2105 FD8A  E5B5        	DEFW ISRC2
 2106 FD8C  E366        	DEFW ISRC3
 2107                    
 2108                    
 2109 FD8E              KCTAB0:
 2110 FD8E  8A          	DEFB	8AH	;PIO A Steuerwort
 2111 FD8F  02          	DEFB	2	;2 Parameter
 2112 FD90  E4          	DEFB	0E4H	;Interruptvektor
 2113 FD91  4F          	DEFB	4FH	;Byte-Ausgabe
 2114                   	;
 2115 FD92  88          	DEFB 88H	;PIO A Daten
 2116 FD93  01          	DEFB 1		;1 Parameter
 2117 FD94  1F          	DEFB 1FH	;/NMI=H! (interner ROM mit CAOS 3.1 aus)
 2118                   	;
 2119 FD95  0C          	DEFB CTC	;SIO-CTC
 2120 FD96  02          	DEFB 2		;2 Parameter
 2121 FD97  47          	DEFB 47H	;9600 Bd
 2122 FD98  5B          	DEFB 5BH
 2123                   	;
 2124 FD99  0A          	DEFB SIO+2	;Drucker SIO
 2125 FD9A  06          	DEFB 6		;Takt *1
 2126 FD9B  04          	DEFB 4		;8 Datenbits
 2127 FD9C  04          	DEFB 4		;1 Stopbit
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  77
CAOSFVI ASM

 2128 FD9D  03          	DEFB 3		;keine Parit{t
 2129 FD9E  20          	DEFB 20H
 2130 FD9F  05          	DEFB 5
 2131 FDA0  6A          	DEFB 6AH
 2132 FDA1              KCTAB1:
 2133 FDA1  8A          	DEFB 8AH	;PIO A C
 2134 FDA2  03          	DEFB 3		;Anz.
 2135 FDA3  E4          	DEFB 0E4H	;I-Vektor
 2136 FDA4  0F          	DEFB 0FH	;Byteout
 2137 FDA5  03          	DEFB 3		;DI
 2138                   	;
 2139 FDA6  8B          	DEFB 8BH	;PIO B C
 2140 FDA7  03          	DEFB 3		;Anz.
 2141 FDA8  E6          	DEFB 0E6H	;I-Vektor
 2142 FDA9  0F          	DEFB 0FH	;Byteout
 2143 FDAA  83          	DEFB 83H	;EI
 2144                   	;
 2145 FDAB  8C          	DEFB 8CH	;CTC 0
 2146 FDAC  01          	DEFB 1		;Anz.
 2147 FDAD  E8          	DEFB 0E8H	;I-Vektor
 2148                   	;
 2149 FDAE  8E          	DEFB 8EH	;CTC 2
 2150 FDAF  02          	DEFB 2		;Anz.
 2151 FDB0  47          	DEFB 47H	;Zaehler,DI
 2152 FDB1  0C          	DEFB 0CH	;Blink-ZK
 2153                    
 2154                    
 2155 FDB2  FB22        SYSTAB:	DEFW SHCLX	;HCADR
 2156 FDB4  00          	DEFB 0		;WINNR
 2157 FDB5  0000        	DEFW 0		;WINON
 2158 FDB7  2028        	DEFW 2028H	;WINLG
 2159 FDB9  0000        	DEFW 0		;CURSO
 2160 FDBB  00          	DEFB 0		;STBT
 2161 FDBC  39          	DEFB 39H	;COLOR
 2162 FDBD  E2AC        	DEFW SCRLPG	;WEND
 2163 FDBF  EE00        	DEFW 0EE00H	;CCTL 0
 2164 FDC1  FE00        	DEFW 0FE00H	;CCTL 1
 2165 FDC3  EE00        	DEFW 0EE00H	;CCTL 2
 2166 FDC5  FE00        	DEFW 0FE00H	;CCLT 3
 2167 FDC7  01C4        	DEFW 01C4H	;SYSP
 2168 FDC9  FC34        	DEFW SUTAB	;SUTAB
 2169 FDCB  FCC2        	DEFW CRTTAB	;CTAB
 2170 FDCD  D3 88       	OUT (88H),A	;JUMP IN NEUES
 2171 FDCF  C3 F012     	JP 0F012H	; CAOS
 2172 FDD2  F008        	DEFW ZEI0	;OUTAB
 2173 FDD4  F00E        	DEFW ZEI4	;INTAB
 2174 FDD6  C3 FB0A     	JP PRINT	;USER OUT 2
 2175 FDD9  C3 E348     	JP DUMMY	;USER  IN 2
 2176 FDDC  C3 E348     	JP DUMMY	;USER OUT 3
 2177 FDDF  C3 E348     	JP DUMMY	;USER  IN 3
 2178 FDE2  DC82        	DEFW 0DC82H	;ZEIG. IO ERROR
 2179 FDE4              STBE1:	;
 2180 FDE4  FD          	DEFB 0FDH	;H-Teil Bittab
 2181 FDE5  25          	DEFM '%'	;Prompter
 2182 FDE6  00A0        	DEFW 0A0H	;Vortonl{nge
 2183 FDE8  00          	DEFB 0		;Byte-Z{hler
 2184 FDE9  FC1E        	DEFW ESCTAB
 2185 FDEB  0B          	DEFB 11		;L{nge ESC-TAB.
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  78
CAOSFVI ASM

 2186 FDEC  05          	DEFB 5		;COUNT
 2187 FDED              STBE2:	;
 2188                   	;
 2189         0032      STBL1	EQU STBE1-SYSTAB
 2190         0009      STBL2	EQU STBE2-STBE1
 2191                    
 2192                    
 2193 FDED  FF FF FF FF 	DS 0FDF8h-$,0FFH
 2194 FDF8  80          BITTAB:	DEFB 80H
 2195 FDF9  40          	DEFB 40H
 2196 FDFA  20          	DEFB 20H
 2197 FDFB  10          	DEFB 10H
 2198 FDFC  08          	DEFB 08H
 2199 FDFD  04          	DEFB 04H
 2200 FDFE  02          	DEFB 02H
 2201 FDFF  01          	DEFB 01H
 2202                   ;
 2203                   ;
 2204                   ;	END
   16                   include zsklein.inc
    1                   ;*****************************************
    2                   ;**	CAOS 4.5 Zeichensatz Klein	**
    3                   ;**					**
    4                   ;**	Adresse:  FE00h bis FFFFh	**
    5                   ;**					**
    6                   ;**	letzte Aenderung: 13.05.2010	**
    7                   ;*****************************************
    8                   
    9 FE00  00 00 00 00 	DB	000H, 000H, 000H, 000H, 000H, 000H, 081H, 0FFH	; 00H Dummy
   10 FE08  00 00 22 72 	DB	000H, 000H, 022H, 072H, 022H, 03EH, 000H, 000H	; 01H Backspace
   11 FE10  00 00 12 32 	DB	000H, 000H, 012H, 032H, 07EH, 032H, 012H, 000H	; 02H Zeile loeschen
   12 FE18  7E 81 B9 A5 	DB	07EH, 081H, 0B9H, 0A5H, 0B9H, 0A5H, 0B9H, 081H	; 03H Break
   13 FE20  55 FF 55 FF 	DB	055H, 0FFH, 055H, 0FFH, 055H, 0FFH, 055H, 0FFH	; 04H
   14 FE28  AA AA AA AA 	DB	0AAH, 0AAH, 0AAH, 0AAH, 0AAH, 0AAH, 0AAH, 0AAH	; 05H
   15 FE30  FF 00 FF 00 	DB	0FFH, 000H, 0FFH, 000H, 0FFH, 000H, 0FFH, 000H	; 06H
   16 FE38  00 00 3C 42 	DB	000H, 000H, 03CH, 042H, 042H, 07EH, 000H, 000H	; 07H Beep
   17 FE40  00 10 30 7E 	DB	000H, 010H, 030H, 07EH, 030H, 010H, 000H, 000H	; 08H Cursor links
   18 FE48  00 08 0C 7E 	DB	000H, 008H, 00CH, 07EH, 00CH, 008H, 000H, 000H	; 09H Cursor rechts
   19 FE50  00 10 10 10 	DB	000H, 010H, 010H, 010H, 07CH, 038H, 010H, 000H	; 0AH Cursor unten
   20 FE58  08 1C 3E 08 	DB	008H, 01CH, 03EH, 008H, 008H, 008H, 008H, 000H	; 0BH Cursor oben
   21 FE60  38 30 28 08 	DB	038H, 030H, 028H, 008H, 008H, 008H, 03EH, 000H	; 0CH Bildschirm loeschen
   22 FE68  00 00 12 32 	DB	000H, 000H, 012H, 032H, 07EH, 030H, 010H, 000H	; 0DH Enter
   23 FE70  AA 55 AA 55 	DB	0AAH, 055H, 0AAH, 055H, 0AAH, 055H, 0AAH, 055H	; 0EH
   24 FE78  3E 7C 7C 3E 	DB	03EH, 07CH, 07CH, 03EH, 03EH, 07CH, 0F8H, 0F8H	; 0FH Hardcopy
   25                   
   26 FE80  38 30 28 04 	DB	038H, 030H, 028H, 004H, 004H, 004H, 004H, 000H	; 10H Cursor Home
   27 FE88  7F 08 1C 3E 	DB	07FH, 008H, 01CH, 03EH, 008H, 008H, 008H, 000H	; 11H Page-Modus
   28 FE90  00 08 08 08 	DB	000H, 008H, 008H, 008H, 03EH, 01CH, 008H, 07FH	; 12H Scroll-Modus
   29 FE98  7E 81 9D A1 	DB	07EH, 081H, 09DH, 0A1H, 0B9H, 085H, 085H, 0B9H	; 13H Stop
   30 FEA0  00 3C 42 5A 	DB	000H, 03CH, 042H, 05AH, 05AH, 042H, 03CH, 000H	; 14H Tastenclick
   31 FEA8  88 44 22 11 	DB	088H, 044H, 022H, 011H, 088H, 044H, 022H, 011H	; 15H
   32 FEB0  00 7F 22 72 	DB	000H, 07FH, 022H, 072H, 027H, 022H, 07FH, 000H	; 16H Shift-Lock
   33 FEB8  11 22 44 88 	DB	011H, 022H, 044H, 088H, 011H, 022H, 044H, 088H	; 17H
   34 FEC0  00 01 09 0D 	DB	000H, 001H, 009H, 00DH, 07FH, 00DH, 009H, 001H	; 18H Cursor an Zeilenende
   35 FEC8  00 80 90 B0 	DB	000H, 080H, 090H, 0B0H, 0FEH, 0B0H, 090H, 080H	; 19H Cursor an Zeilenanfang
   36 FED0  00 08 7C 06 	DB	000H, 008H, 07CH, 006H, 07CH, 008H, 000H, 000H	; 1AH INS
   37 FED8  CC CC 33 33 	DB	0CCH, 0CCH, 033H, 033H, 0CCH, 0CCH, 033H, 033H	; 1BH ESC
   38 FEE0  7E 81 A1 A1 	DB	07EH, 081H, 0A1H, 0A1H, 0A1H, 0A1H, 0BDH, 081H	; 1CH List
SLR180 SuperFast Relocating Macro Assembler     			    SLR180 1.31 Page  79
ZSKLEIN INC

   39 FEE8  7E 81 B9 A5 	DB	07EH, 081H, 0B9H, 0A5H, 0B9H, 0A5H, 0A5H, 081H	; 1DH Run
   40 FEF0  7E 81 99 A1 	DB	07EH, 081H, 099H, 0A1H, 0A1H, 0A1H, 099H, 081H	; 1EH Cont
   41 FEF8  00 10 3E 60 	DB	000H, 010H, 03EH, 060H, 03EH, 010H, 000H, 000H	; 1FH DEL
   42                   
   43 FF00  3C 42 99 A1 	DB	03CH, 042H, 099H, 0A1H, 0A1H, 099H, 042H, 03CH	; 60H (c)
   44 FF08  00 00 78 0C 	DB	000H, 000H, 078H, 00CH, 07CH, 0CCH, 076H, 000H	; 61H a
   45 FF10  E0 60 7C 66 	DB	0E0H, 060H, 07CH, 066H, 066H, 066H, 0DCH, 000H	; 62H b
   46 FF18  00 00 78 CC 	DB	000H, 000H, 078H, 0CCH, 0C0H, 0CCH, 078H, 000H	; 63H c
   47 FF20  1C 0C 7C CC 	DB	01CH, 00CH, 07CH, 0CCH, 0CCH, 0CCH, 076H, 000H	; 64H d
   48 FF28  00 00 78 CC 	DB	000H, 000H, 078H, 0CCH, 0FCH, 0C0H, 078H, 000H	; 65H e
   49 FF30  38 6C 60 F0 	DB	038H, 06CH, 060H, 0F0H, 060H, 060H, 0F0H, 000H	; 66H f
   50 FF38  00 00 76 CC 	DB	000H, 000H, 076H, 0CCH, 0CCH, 07CH, 00CH, 0F8H	; 67H g
   51 FF40  E0 60 6C 76 	DB	0E0H, 060H, 06CH, 076H, 066H, 066H, 0E6H, 000H	; 68H h
   52 FF48  30 00 70 30 	DB	030H, 000H, 070H, 030H, 030H, 030H, 0FCH, 000H	; 69H i
   53 FF50  0C 00 1C 0C 	DB	00CH, 000H, 01CH, 00CH, 00CH, 0CCH, 0CCH, 078H	; 6AH j
   54 FF58  E0 60 66 6C 	DB	0E0H, 060H, 066H, 06CH, 078H, 06CH, 0E6H, 000H	; 6BH k
   55 FF60  70 30 30 30 	DB	070H, 030H, 030H, 030H, 030H, 030H, 0FCH, 000H	; 6CH l
   56 FF68  00 00 CC FE 	DB	000H, 000H, 0CCH, 0FEH, 0FEH, 0D6H, 0C6H, 000H	; 6DH m
   57 FF70  00 00 F8 CC 	DB	000H, 000H, 0F8H, 0CCH, 0CCH, 0CCH, 0CCH, 000H	; 6EH n
   58 FF78  00 00 78 CC 	DB	000H, 000H, 078H, 0CCH, 0CCH, 0CCH, 078H, 000H	; 6FH o
   59                   
   60 FF80  00 00 DC 66 	DB	000H, 000H, 0DCH, 066H, 066H, 07CH, 060H, 0F0H	; 70H p
   61 FF88  00 00 76 CC 	DB	000H, 000H, 076H, 0CCH, 0CCH, 07CH, 00CH, 01EH	; 71H q
   62 FF90  00 00 DC 76 	DB	000H, 000H, 0DCH, 076H, 066H, 060H, 0F0H, 000H	; 72H r
   63 FF98  00 00 7C C0 	DB	000H, 000H, 07CH, 0C0H, 078H, 00CH, 0F8H, 000H	; 73H s
   64 FFA0  10 30 7C 30 	DB	010H, 030H, 07CH, 030H, 030H, 034H, 018H, 000H	; 74H t
   65 FFA8  00 00 CC CC 	DB	000H, 000H, 0CCH, 0CCH, 0CCH, 0CCH, 076H, 000H	; 75H u
   66 FFB0  00 00 CC CC 	DB	000H, 000H, 0CCH, 0CCH, 0CCH, 078H, 030H, 000H	; 76H v
   67 FFB8  00 00 C6 D6 	DB	000H, 000H, 0C6H, 0D6H, 0FEH, 0FEH, 06CH, 000H	; 77H w
   68 FFC0  00 00 C6 6C 	DB	000H, 000H, 0C6H, 06CH, 038H, 06CH, 0C6H, 000H	; 78H x
   69 FFC8  00 00 CC CC 	DB	000H, 000H, 0CCH, 0CCH, 0CCH, 07CH, 00CH, 0F8H	; 79H y
   70 FFD0  00 00 FC 98 	DB	000H, 000H, 0FCH, 098H, 030H, 064H, 0FCH, 000H	; 7AH z
   71 FFD8  6C 00 78 0C 	DB	06CH, 000H, 078H, 00CH, 07CH, 0CCH, 076H, 000H	; 7BH ae
   72 FFE0  CC 00 78 CC 	DB	0CCH, 000H, 078H, 0CCH, 0CCH, 0CCH, 078H, 000H	; 7CH oe
   73 FFE8  CC 00 CC CC 	DB	0CCH, 000H, 0CCH, 0CCH, 0CCH, 0CCH, 076H, 000H	; 7DH ue
   74 FFF0  3C 66 66 6C 	DB	03CH, 066H, 066H, 06CH, 066H, 066H, 06CH, 0F0H	; 7EH sz
   75 FFF8  FF 81 81 81 	DB	0FFH, 081H, 081H, 081H, 081H, 081H, 081H, 0FFH	; 7FH
 0 Error(s) Detected.
 4224 Absolute Bytes. 585 Symbols Detected.
 034H, 018H, 000H	; 74H t
   65 FFA8  00 00 CC CC 	DB	000H, 000H, 0CCH, 0CCH, 0CCH, 0CCH, 076H, 000H	; 75H u
   66 